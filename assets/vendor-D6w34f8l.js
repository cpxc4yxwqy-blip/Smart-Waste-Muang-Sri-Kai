import{r as ln}from"./recharts-Crih3Ma1.js";import{g as nr}from"./react-Bzgz95E1.js";var Fn={exports:{}},en={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bt;function Es(){if(Bt)return en;Bt=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,o,r){var l=null;if(r!==void 0&&(l=""+r),o.key!==void 0&&(l=""+o.key),"key"in o){r={};for(var u in o)u!=="key"&&(r[u]=o[u])}else r=o;return o=r.ref,{$$typeof:n,type:i,key:l,ref:o!==void 0?o:null,props:r}}return en.Fragment=e,en.jsx=t,en.jsxs=t,en}var zt;function _s(){return zt||(zt=1,Fn.exports=Es()),Fn.exports}var Un=_s();/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Is=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),Jt=n=>{const e=Is(n);return e.charAt(0).toUpperCase()+e.slice(1)},tr=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),vs=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var As={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=ln.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:r,iconNode:l,...u},d)=>ln.createElement("svg",{ref:d,...As,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:tr("lucide",o),...!r&&!vs(u)&&{"aria-hidden":"true"},...u},[...l.map(([c,f])=>ln.createElement(c,f)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=(n,e)=>{const t=ln.forwardRef(({className:i,...o},r)=>ln.createElement(xs,{ref:r,iconNode:e,className:tr(`lucide-${Ss(Jt(n))}`,`lucide-${n}`,i),...o}));return t.displayName=Jt(n),t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],RT=U("activity",ks);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],MT=U("arrow-down-right",ws);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],NT=U("arrow-up-right",Ps);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],DT=U("bell",Rs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],LT=U("bookmark",Ms);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],FT=U("bot",Ns);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],UT=U("briefcase",Ds);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m14 14-4 4",key:"rymu2i"}],["path",{d:"m10 14 4 4",key:"3sz06r"}]],VT=U("calendar-x",Ls);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],bT=U("chart-column",Fs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],qT=U("chart-pie",Us);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],GT=U("check",Vs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],HT=U("circle-alert",bs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],BT=U("circle-check-big",qs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],zT=U("circle-plus",Gs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],JT=U("clock",Hs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],$T=U("cloud",Bs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],YT=U("coins",zs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],WT=U("database",Js);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]],OT=U("dices",$s);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],KT=U("download",Ys);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],XT=U("eraser",Ws);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],QT=U("external-link",Os);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ZT=U("eye",Ks);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],jT=U("file-check",Xs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],eC=U("file-plus",Qs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],nC=U("file-text",Zs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],tC=U("funnel",js);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],iC=U("gauge",el);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],oC=U("info",nl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],rC=U("key",tl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],sC=U("layout-dashboard",il);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],lC=U("leaf",ol);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],aC=U("menu",rl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],uC=U("pen-line",sl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],cC=U("pen-tool",ll);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],dC=U("pen",al);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],fC=U("printer",ul);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=[["path",{d:"M19.07 4.93A10 10 0 0 0 6.99 3.34",key:"z3du51"}],["path",{d:"M4 6h.01",key:"oypzma"}],["path",{d:"M2.29 9.62A10 10 0 1 0 21.31 8.35",key:"qzzz0"}],["path",{d:"M16.24 7.76A6 6 0 1 0 8.23 16.67",key:"1yjesh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M17.99 11.66A6 6 0 0 1 15.77 16.67",key:"1u2y91"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"m13.41 10.59 5.66-5.66",key:"mhq4k0"}]],pC=U("radar",cl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],hC=U("refresh-cw",dl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],mC=U("rotate-ccw",fl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],gC=U("save",pl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],yC=U("scale",hl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],TC=U("search",ml);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],CC=U("send",gl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],EC=U("settings",yl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],_C=U("shield",Tl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],SC=U("smartphone",Cl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],IC=U("sparkles",El);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]],vC=U("split",_l);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],AC=U("square-check-big",Sl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],xC=U("square",Il);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],kC=U("sticky-note",vl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],wC=U("table",Al);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],PC=U("target",xl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],RC=U("trash-2",kl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],MC=U("triangle-alert",wl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],NC=U("upload",Pl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],DC=U("user-check",Rl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],LC=U("user-plus",Ml);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],FC=U("user",Nl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],UC=U("users",Dl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],VC=U("x",Ll);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Fl,Ul;function Vl(){return{geminiUrl:Fl,vertexUrl:Ul}}function bl(n,e,t,i){var o,r;if(!(n!=null&&n.baseUrl)){const l=Vl();return e?(o=l.vertexUrl)!==null&&o!==void 0?o:t:(r=l.geminiUrl)!==null&&r!==void 0?r:i}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ve{}function M(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const r=e[o];return r!=null?String(r):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function a(n,e,t){for(let r=0;r<e.length-1;r++){const l=e[r];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in n))if(Array.isArray(t))n[u]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(n[u])){const d=n[u];if(Array.isArray(t))for(let c=0;c<d.length;c++){const f=d[c];a(f,e.slice(r+1),t[c])}else for(const c of d)a(c,e.slice(r+1),t)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in n||(n[u]=[{}]);const d=n[u];a(d[0],e.slice(r+1),t);return}(!n[l]||typeof n[l]!="object")&&(n[l]={}),n=n[l]}const i=e[e.length-1],o=n[i];if(o!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===o)return;if(typeof o=="object"&&typeof t=="object"&&o!==null&&t!==null)Object.assign(o,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[i]=t}function s(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let i=0;i<e.length;i++){if(typeof n!="object"||n===null)return t;const o=e[i];if(o.endsWith("[]")){const r=o.slice(0,-2);if(r in n){const l=n[r];return Array.isArray(l)?l.map(u=>s(u,e.slice(i+1),t)):t}else return t}else n=n[o]}return n}catch(i){if(i instanceof TypeError)return t;throw i}}function ql(n,e){for(const[t,i]of Object.entries(e)){const o=t.split("."),r=i.split("."),l=new Set;let u=-1;for(let d=0;d<o.length;d++)if(o[d]==="*"){u=d;break}if(u!==-1&&r.length>u)for(let d=u;d<r.length;d++){const c=r[d];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&l.add(c)}Xn(n,o,r,0,l)}}function Xn(n,e,t,i,o){if(i>=e.length||typeof n!="object"||n===null)return;const r=e[i];if(r.endsWith("[]")){const l=r.slice(0,-2),u=n;if(l in u&&Array.isArray(u[l]))for(const d of u[l])Xn(d,e,t,i+1,o)}else if(r==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const l=n,u=Object.keys(l).filter(c=>!c.startsWith("_")&&!o.has(c)),d={};for(const c of u)d[c]=l[c];for(const[c,f]of Object.entries(d)){const p=[];for(const h of t.slice(i))h==="*"?p.push(c):p.push(h);a(l,p,f)}for(const c of u)delete l[c]}}else{const l=n;r in l&&Xn(l[r],e,t,i+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mt(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gl(n){const e={},t=s(n,["operationName"]);t!=null&&a(e,["operationName"],t);const i=s(n,["resourceName"]);return i!=null&&a(e,["_url","resourceName"],i),e}function Hl(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const i=s(n,["metadata"]);i!=null&&a(e,["metadata"],i);const o=s(n,["done"]);o!=null&&a(e,["done"],o);const r=s(n,["error"]);r!=null&&a(e,["error"],r);const l=s(n,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],zl(l)),e}function Bl(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const i=s(n,["metadata"]);i!=null&&a(e,["metadata"],i);const o=s(n,["done"]);o!=null&&a(e,["done"],o);const r=s(n,["error"]);r!=null&&a(e,["error"],r);const l=s(n,["response"]);return l!=null&&a(e,["response"],Jl(l)),e}function zl(n){const e={},t=s(n,["generatedSamples"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(l=>$l(l))),a(e,["generatedVideos"],r)}const i=s(n,["raiMediaFilteredCount"]);i!=null&&a(e,["raiMediaFilteredCount"],i);const o=s(n,["raiMediaFilteredReasons"]);return o!=null&&a(e,["raiMediaFilteredReasons"],o),e}function Jl(n){const e={},t=s(n,["videos"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(l=>Yl(l))),a(e,["generatedVideos"],r)}const i=s(n,["raiMediaFilteredCount"]);i!=null&&a(e,["raiMediaFilteredCount"],i);const o=s(n,["raiMediaFilteredReasons"]);return o!=null&&a(e,["raiMediaFilteredReasons"],o),e}function $l(n){const e={},t=s(n,["video"]);return t!=null&&a(e,["video"],Zl(t)),e}function Yl(n){const e={},t=s(n,["_self"]);return t!=null&&a(e,["video"],jl(t)),e}function Wl(n){const e={},t=s(n,["operationName"]);return t!=null&&a(e,["_url","operationName"],t),e}function Ol(n){const e={},t=s(n,["operationName"]);return t!=null&&a(e,["_url","operationName"],t),e}function Kl(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const i=s(n,["metadata"]);i!=null&&a(e,["metadata"],i);const o=s(n,["done"]);o!=null&&a(e,["done"],o);const r=s(n,["error"]);r!=null&&a(e,["error"],r);const l=s(n,["response"]);return l!=null&&a(e,["response"],Xl(l)),e}function Xl(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const i=s(n,["parent"]);i!=null&&a(e,["parent"],i);const o=s(n,["documentName"]);return o!=null&&a(e,["documentName"],o),e}function ir(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const i=s(n,["metadata"]);i!=null&&a(e,["metadata"],i);const o=s(n,["done"]);o!=null&&a(e,["done"],o);const r=s(n,["error"]);r!=null&&a(e,["error"],r);const l=s(n,["response"]);return l!=null&&a(e,["response"],Ql(l)),e}function Ql(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const i=s(n,["parent"]);i!=null&&a(e,["parent"],i);const o=s(n,["documentName"]);return o!=null&&a(e,["documentName"],o),e}function Zl(n){const e={},t=s(n,["uri"]);t!=null&&a(e,["uri"],t);const i=s(n,["encodedVideo"]);i!=null&&a(e,["videoBytes"],mt(i));const o=s(n,["encoding"]);return o!=null&&a(e,["mimeType"],o),e}function jl(n){const e={},t=s(n,["gcsUri"]);t!=null&&a(e,["uri"],t);const i=s(n,["bytesBase64Encoded"]);i!=null&&a(e,["videoBytes"],mt(i));const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $t;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})($t||($t={}));var Yt;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Yt||(Yt={}));var Wt;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Wt||(Wt={}));var we;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(we||(we={}));var Ot;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Ot||(Ot={}));var Kt;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Kt||(Kt={}));var Xt;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Xt||(Xt={}));var Qt;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Qt||(Qt={}));var Zt;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Zt||(Zt={}));var jt;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(jt||(jt={}));var ei;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(ei||(ei={}));var ni;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(ni||(ni={}));var ti;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(ti||(ti={}));var ii;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(ii||(ii={}));var oi;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(oi||(oi={}));var ri;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ri||(ri={}));var si;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(si||(si={}));var li;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(li||(li={}));var ai;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ai||(ai={}));var Sn;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Sn||(Sn={}));var ui;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ui||(ui={}));var ci;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(ci||(ci={}));var di;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(di||(di={}));var Qn;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Qn||(Qn={}));var fi;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(fi||(fi={}));var pi;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(pi||(pi={}));var hi;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(hi||(hi={}));var mi;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(mi||(mi={}));var gi;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(gi||(gi={}));var yi;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(yi||(yi={}));var Ti;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(Ti||(Ti={}));var Ci;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Ci||(Ci={}));var Ei;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Ei||(Ei={}));var _i;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(_i||(_i={}));var Si;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Si||(Si={}));var Ii;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Ii||(Ii={}));var vi;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(vi||(vi={}));var Ai;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Ai||(Ai={}));var xi;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(xi||(xi={}));var ki;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(ki||(ki={}));var wi;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(wi||(wi={}));var Pi;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Pi||(Pi={}));var Ri;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Ri||(Ri={}));var Mi;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(Mi||(Mi={}));var Ni;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Ni||(Ni={}));var Di;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Di||(Di={}));var Li;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Li||(Li={}));var Fi;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Fi||(Fi={}));var Ui;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Ui||(Ui={}));var Vi;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Vi||(Vi={}));var bi;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(bi||(bi={}));var qi;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(qi||(qi={}));var Gi;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Gi||(Gi={}));var Hi;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Hi||(Hi={}));var Ge;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Ge||(Ge={}));class Zn{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class nn{get text(){var e,t,i,o,r,l,u,d;if(((o=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",f=!1;const p=[];for(const h of(d=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[m,T]of Object.entries(h))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(T!==null||T!==void 0)&&p.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;f=!0,c+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var e,t,i,o,r,l,u,d;if(((o=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const f=[];for(const p of(d=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[h,m]of Object.entries(p))h!=="inlineData"&&(m!==null||m!==void 0)&&f.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(c+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,t,i,o,r,l,u,d;if(((o=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(d=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,t,i,o,r,l,u,d,c;if(((o=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(d=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,t,i,o,r,l,u,d,c;if(((o=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(d=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.output}}class Bi{}class zi{}class ea{}class na{}class ta{}class ia{}class Ji{}class $i{}class Yi{}class oa{}class In{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new In;let o;const r=e;return t?o=Bl(r):o=Hl(r),Object.assign(i,o),i}}class Wi{}class Oi{}class Ki{}class ra{}class sa{}class la{}class gt{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new gt,r=Kl(e);return Object.assign(i,r),i}}class aa{}class ua{}class ca{}class Xi{}class da{get text(){var e,t,i;let o="",r=!1;const l=[];for(const u of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[d,c]of Object.entries(u))d!=="text"&&d!=="thought"&&c!==null&&l.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;r=!0,o+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),r?o:void 0}get data(){var e,t,i;let o="";const r=[];for(const l of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[u,d]of Object.entries(l))u!=="inlineData"&&d!==null&&r.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(o+=atob(l.inlineData.data))}return r.length>0&&console.warn(`there are non-data parts ${r} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class fa{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class yt{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new yt,r=ir(e);return Object.assign(i,r),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function or(n,e){const t=Y(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function rr(n){return Array.isArray(n)?n.map(e=>vn(e)):[vn(n)]}function vn(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function sr(n){const e=vn(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function lr(n){const e=vn(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Qi(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function ar(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Qi(e)):[Qi(n)]}function jn(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Zi(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function ji(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function ne(n){if(n==null)throw new Error("ContentUnion is required");return jn(n)?n:{role:"user",parts:ar(n)}}function Tt(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=ne(t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){const t=ne(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>ne(t)):[ne(e)]}function ce(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Zi(n)||ji(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ne(n)]}const e=[],t=[],i=jn(n[0]);for(const o of n){const r=jn(o);if(r!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(r)e.push(o);else{if(Zi(o)||ji(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(o)}}return i||e.push({role:"user",parts:ar(t)}),e}function pa(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(i=>i!=="null");if(t.length===1)e.type=Object.values(we).includes(t[0].toUpperCase())?t[0].toUpperCase():we.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.values(we).includes(i.toUpperCase())?i.toUpperCase():we.TYPE_UNSPECIFIED})}}function He(n){const e={},t=["items"],i=["anyOf"],o=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const r=n.anyOf;r!=null&&r.length==2&&(r[0].type==="null"?(e.nullable=!0,n=r[1]):r[1].type==="null"&&(e.nullable=!0,n=r[0])),n.type instanceof Array&&pa(n.type,e);for(const[l,u]of Object.entries(n))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(we).includes(u.toUpperCase())?u.toUpperCase():we.TYPE_UNSPECIFIED}else if(t.includes(l))e[l]=He(u);else if(i.includes(l)){const d=[];for(const c of u){if(c.type=="null"){e.nullable=!0;continue}d.push(He(c))}e[l]=d}else if(o.includes(l)){const d={};for(const[c,f]of Object.entries(u))d[c]=He(f);e[l]=d}else{if(l==="additionalProperties")continue;e[l]=u}return e}function Ct(n){return He(n)}function Et(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function _t(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Ye(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=He(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=He(e.response));return n}function We(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function ha(n,e,t,i=1){const o=!e.startsWith(`${t}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:o?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:o?`${t}/${e}`:e}function Ae(n,e){if(typeof e!="string")throw new Error("name must be a string");return ha(n,e,"cachedContents")}function ur(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Pe(n){return mt(n)}function ma(n){return n!=null&&typeof n=="object"&&"name"in n}function ga(n){return n!=null&&typeof n=="object"&&"video"in n}function ya(n){return n!=null&&typeof n=="object"&&"uri"in n}function cr(n){var e;let t;if(ma(n)&&(t=n.name),!(ya(n)&&(t=n.uri,t===void 0))&&!(ga(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const o=t.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${t}`);t=o[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function dr(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function fr(n){for(const e of["models","tunedModels","publisherModels"])if(Ta(n,e))return n[e];return[]}function Ta(n,e){return n!==null&&typeof n=="object"&&e in n}function Ca(n,e={}){const t=n,i={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(i.responseJsonSchema=t.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function Ea(n,e={}){const t=[],i=new Set;for(const o of n){const r=o.name;if(i.has(r))throw new Error(`Duplicate function name ${r} found in MCP tools. Please ensure function names are unique.`);i.add(r);const l=Ca(o,e);l.functionDeclarations&&t.push(...l.functionDeclarations)}return{functionDeclarations:t}}function pr(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const i=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,o=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(o>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function _a(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function hr(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const o=t.inlinedResponses;if(!Array.isArray(o)||o.length===0)return n;let r=!1;for(const l of o){if(typeof l!="object"||l===null)continue;const d=l.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){r=!0;break}}return r&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Oe(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function mr(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sa(n){const e={},t=s(n,["responsesFile"]);t!=null&&a(e,["fileName"],t);const i=s(n,["inlinedResponses","inlinedResponses"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>tu(l))),a(e,["inlinedResponses"],r)}const o=s(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["inlinedEmbedContentResponses"],r)}return e}function Ia(n){const e={},t=s(n,["predictionsFormat"]);t!=null&&a(e,["format"],t);const i=s(n,["gcsDestination","outputUriPrefix"]);i!=null&&a(e,["gcsUri"],i);const o=s(n,["bigqueryDestination","outputUri"]);return o!=null&&a(e,["bigqueryUri"],o),e}function va(n){const e={},t=s(n,["format"]);t!=null&&a(e,["predictionsFormat"],t);const i=s(n,["gcsUri"]);i!=null&&a(e,["gcsDestination","outputUriPrefix"],i);const o=s(n,["bigqueryUri"]);if(o!=null&&a(e,["bigqueryDestination","outputUri"],o),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Cn(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const i=s(n,["metadata","displayName"]);i!=null&&a(e,["displayName"],i);const o=s(n,["metadata","state"]);o!=null&&a(e,["state"],mr(o));const r=s(n,["metadata","createTime"]);r!=null&&a(e,["createTime"],r);const l=s(n,["metadata","endTime"]);l!=null&&a(e,["endTime"],l);const u=s(n,["metadata","updateTime"]);u!=null&&a(e,["updateTime"],u);const d=s(n,["metadata","model"]);d!=null&&a(e,["model"],d);const c=s(n,["metadata","output"]);return c!=null&&a(e,["dest"],Sa(hr(c))),e}function et(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const i=s(n,["displayName"]);i!=null&&a(e,["displayName"],i);const o=s(n,["state"]);o!=null&&a(e,["state"],mr(o));const r=s(n,["error"]);r!=null&&a(e,["error"],r);const l=s(n,["createTime"]);l!=null&&a(e,["createTime"],l);const u=s(n,["startTime"]);u!=null&&a(e,["startTime"],u);const d=s(n,["endTime"]);d!=null&&a(e,["endTime"],d);const c=s(n,["updateTime"]);c!=null&&a(e,["updateTime"],c);const f=s(n,["model"]);f!=null&&a(e,["model"],f);const p=s(n,["inputConfig"]);p!=null&&a(e,["src"],Aa(p));const h=s(n,["outputConfig"]);h!=null&&a(e,["dest"],Ia(hr(h)));const m=s(n,["completionStats"]);return m!=null&&a(e,["completionStats"],m),e}function Aa(n){const e={},t=s(n,["instancesFormat"]);t!=null&&a(e,["format"],t);const i=s(n,["gcsSource","uris"]);i!=null&&a(e,["gcsUri"],i);const o=s(n,["bigquerySource","inputUri"]);return o!=null&&a(e,["bigqueryUri"],o),e}function xa(n,e){const t={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=s(e,["fileName"]);i!=null&&a(t,["fileName"],i);const o=s(e,["inlinedRequests"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>nu(n,l))),a(t,["requests","requests"],r)}return t}function ka(n){const e={},t=s(n,["format"]);t!=null&&a(e,["instancesFormat"],t);const i=s(n,["gcsUri"]);i!=null&&a(e,["gcsSource","uris"],i);const o=s(n,["bigqueryUri"]);if(o!=null&&a(e,["bigquerySource","inputUri"],o),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function wa(n){const e={},t=s(n,["data"]);if(t!=null&&a(e,["data"],t),s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(n,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function Pa(n,e){const t={},i=s(e,["name"]);return i!=null&&a(t,["_url","name"],Oe(n,i)),t}function Ra(n,e){const t={},i=s(e,["name"]);return i!=null&&a(t,["_url","name"],Oe(n,i)),t}function Ma(n){const e={},t=s(n,["content"]);t!=null&&a(e,["content"],t);const i=s(n,["citationMetadata"]);i!=null&&a(e,["citationMetadata"],Na(i));const o=s(n,["tokenCount"]);o!=null&&a(e,["tokenCount"],o);const r=s(n,["finishReason"]);r!=null&&a(e,["finishReason"],r);const l=s(n,["avgLogprobs"]);l!=null&&a(e,["avgLogprobs"],l);const u=s(n,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);const d=s(n,["index"]);d!=null&&a(e,["index"],d);const c=s(n,["logprobsResult"]);c!=null&&a(e,["logprobsResult"],c);const f=s(n,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>m)),a(e,["safetyRatings"],h)}const p=s(n,["urlContextMetadata"]);return p!=null&&a(e,["urlContextMetadata"],p),e}function Na(n){const e={},t=s(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>o)),a(e,["citations"],i)}return e}function gr(n){const e={},t=s(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>uu(r))),a(e,["parts"],o)}const i=s(n,["role"]);return i!=null&&a(e,["role"],i),e}function Da(n,e){const t={},i=s(n,["displayName"]);if(e!==void 0&&i!=null&&a(e,["batch","displayName"],i),s(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function La(n,e){const t={},i=s(n,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const o=s(n,["dest"]);return e!==void 0&&o!=null&&a(e,["outputConfig"],va(_a(o))),t}function eo(n,e){const t={},i=s(e,["model"]);i!=null&&a(t,["_url","model"],Y(n,i));const o=s(e,["src"]);o!=null&&a(t,["batch","inputConfig"],xa(n,pr(n,o)));const r=s(e,["config"]);return r!=null&&Da(r,t),t}function Fa(n,e){const t={},i=s(e,["model"]);i!=null&&a(t,["model"],Y(n,i));const o=s(e,["src"]);o!=null&&a(t,["inputConfig"],ka(pr(n,o)));const r=s(e,["config"]);return r!=null&&La(r,t),t}function Ua(n,e){const t={},i=s(n,["displayName"]);return e!==void 0&&i!=null&&a(e,["batch","displayName"],i),t}function Va(n,e){const t={},i=s(e,["model"]);i!=null&&a(t,["_url","model"],Y(n,i));const o=s(e,["src"]);o!=null&&a(t,["batch","inputConfig"],Ja(n,o));const r=s(e,["config"]);return r!=null&&Ua(r,t),t}function ba(n,e){const t={},i=s(e,["name"]);return i!=null&&a(t,["_url","name"],Oe(n,i)),t}function qa(n,e){const t={},i=s(e,["name"]);return i!=null&&a(t,["_url","name"],Oe(n,i)),t}function Ga(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const i=s(n,["name"]);i!=null&&a(e,["name"],i);const o=s(n,["done"]);o!=null&&a(e,["done"],o);const r=s(n,["error"]);return r!=null&&a(e,["error"],r),e}function Ha(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const i=s(n,["name"]);i!=null&&a(e,["name"],i);const o=s(n,["done"]);o!=null&&a(e,["done"],o);const r=s(n,["error"]);return r!=null&&a(e,["error"],r),e}function Ba(n,e){const t={},i=s(e,["contents"]);if(i!=null){let r=Tt(n,i);Array.isArray(r)&&(r=r.map(l=>l)),a(t,["requests[]","request","content"],r)}const o=s(e,["config"]);return o!=null&&(a(t,["_self"],za(o,t)),ql(t,{"requests[].*":"requests[].request.*"})),t}function za(n,e){const t={},i=s(n,["taskType"]);e!==void 0&&i!=null&&a(e,["requests[]","taskType"],i);const o=s(n,["title"]);e!==void 0&&o!=null&&a(e,["requests[]","title"],o);const r=s(n,["outputDimensionality"]);if(e!==void 0&&r!=null&&a(e,["requests[]","outputDimensionality"],r),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function Ja(n,e){const t={},i=s(e,["fileName"]);i!=null&&a(t,["file_name"],i);const o=s(e,["inlinedRequests"]);return o!=null&&a(t,["requests"],Ba(n,o)),t}function $a(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);const i=s(n,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function Ya(n){const e={},t=s(n,["id"]);t!=null&&a(e,["id"],t);const i=s(n,["args"]);i!=null&&a(e,["args"],i);const o=s(n,["name"]);if(o!=null&&a(e,["name"],o),s(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Wa(n){const e={},t=s(n,["mode"]);t!=null&&a(e,["mode"],t);const i=s(n,["allowedFunctionNames"]);if(i!=null&&a(e,["allowedFunctionNames"],i),s(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Oa(n,e,t){const i={},o=s(e,["systemInstruction"]);t!==void 0&&o!=null&&a(t,["systemInstruction"],gr(ne(o)));const r=s(e,["temperature"]);r!=null&&a(i,["temperature"],r);const l=s(e,["topP"]);l!=null&&a(i,["topP"],l);const u=s(e,["topK"]);u!=null&&a(i,["topK"],u);const d=s(e,["candidateCount"]);d!=null&&a(i,["candidateCount"],d);const c=s(e,["maxOutputTokens"]);c!=null&&a(i,["maxOutputTokens"],c);const f=s(e,["stopSequences"]);f!=null&&a(i,["stopSequences"],f);const p=s(e,["responseLogprobs"]);p!=null&&a(i,["responseLogprobs"],p);const h=s(e,["logprobs"]);h!=null&&a(i,["logprobs"],h);const m=s(e,["presencePenalty"]);m!=null&&a(i,["presencePenalty"],m);const T=s(e,["frequencyPenalty"]);T!=null&&a(i,["frequencyPenalty"],T);const E=s(e,["seed"]);E!=null&&a(i,["seed"],E);const I=s(e,["responseMimeType"]);I!=null&&a(i,["responseMimeType"],I);const C=s(e,["responseSchema"]);C!=null&&a(i,["responseSchema"],Ct(C));const A=s(e,["responseJsonSchema"]);if(A!=null&&a(i,["responseJsonSchema"],A),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=s(e,["safetySettings"]);if(t!==void 0&&S!=null){let w=S;Array.isArray(w)&&(w=w.map(J=>cu(J))),a(t,["safetySettings"],w)}const N=s(e,["tools"]);if(t!==void 0&&N!=null){let w=We(N);Array.isArray(w)&&(w=w.map(J=>fu(Ye(J)))),a(t,["tools"],w)}const L=s(e,["toolConfig"]);if(t!==void 0&&L!=null&&a(t,["toolConfig"],du(L)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=s(e,["cachedContent"]);t!==void 0&&_!=null&&a(t,["cachedContent"],Ae(n,_));const F=s(e,["responseModalities"]);F!=null&&a(i,["responseModalities"],F);const G=s(e,["mediaResolution"]);G!=null&&a(i,["mediaResolution"],G);const P=s(e,["speechConfig"]);if(P!=null&&a(i,["speechConfig"],Et(P)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=s(e,["thinkingConfig"]);V!=null&&a(i,["thinkingConfig"],V);const D=s(e,["imageConfig"]);return D!=null&&a(i,["imageConfig"],eu(D)),i}function Ka(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const i=s(n,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(c=>Ma(c))),a(e,["candidates"],d)}const o=s(n,["modelVersion"]);o!=null&&a(e,["modelVersion"],o);const r=s(n,["promptFeedback"]);r!=null&&a(e,["promptFeedback"],r);const l=s(n,["responseId"]);l!=null&&a(e,["responseId"],l);const u=s(n,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function Xa(n,e){const t={},i=s(e,["name"]);return i!=null&&a(t,["_url","name"],Oe(n,i)),t}function Qa(n,e){const t={},i=s(e,["name"]);return i!=null&&a(t,["_url","name"],Oe(n,i)),t}function Za(n){const e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(n,["enableWidget"]);return t!=null&&a(e,["enableWidget"],t),e}function ja(n){const e={};if(s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=s(n,["timeRangeFilter"]);return t!=null&&a(e,["timeRangeFilter"],t),e}function eu(n){const e={},t=s(n,["aspectRatio"]);t!=null&&a(e,["aspectRatio"],t);const i=s(n,["imageSize"]);if(i!=null&&a(e,["imageSize"],i),s(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function nu(n,e){const t={},i=s(e,["model"]);i!=null&&a(t,["request","model"],Y(n,i));const o=s(e,["contents"]);if(o!=null){let u=ce(o);Array.isArray(u)&&(u=u.map(d=>gr(d))),a(t,["request","contents"],u)}const r=s(e,["metadata"]);r!=null&&a(t,["metadata"],r);const l=s(e,["config"]);return l!=null&&a(t,["request","generationConfig"],Oa(n,l,s(t,["request"],{}))),t}function tu(n){const e={},t=s(n,["response"]);t!=null&&a(e,["response"],Ka(t));const i=s(n,["error"]);return i!=null&&a(e,["error"],i),e}function iu(n,e){const t={},i=s(n,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const o=s(n,["pageToken"]);if(e!==void 0&&o!=null&&a(e,["_query","pageToken"],o),s(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function ou(n,e){const t={},i=s(n,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const o=s(n,["pageToken"]);e!==void 0&&o!=null&&a(e,["_query","pageToken"],o);const r=s(n,["filter"]);return e!==void 0&&r!=null&&a(e,["_query","filter"],r),t}function ru(n){const e={},t=s(n,["config"]);return t!=null&&iu(t,e),e}function su(n){const e={},t=s(n,["config"]);return t!=null&&ou(t,e),e}function lu(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const i=s(n,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=s(n,["operations"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Cn(l))),a(e,["batchJobs"],r)}return e}function au(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const i=s(n,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=s(n,["batchPredictionJobs"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>et(l))),a(e,["batchJobs"],r)}return e}function uu(n){const e={},t=s(n,["mediaResolution"]);t!=null&&a(e,["mediaResolution"],t);const i=s(n,["codeExecutionResult"]);i!=null&&a(e,["codeExecutionResult"],i);const o=s(n,["executableCode"]);o!=null&&a(e,["executableCode"],o);const r=s(n,["fileData"]);r!=null&&a(e,["fileData"],$a(r));const l=s(n,["functionCall"]);l!=null&&a(e,["functionCall"],Ya(l));const u=s(n,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const d=s(n,["inlineData"]);d!=null&&a(e,["inlineData"],wa(d));const c=s(n,["text"]);c!=null&&a(e,["text"],c);const f=s(n,["thought"]);f!=null&&a(e,["thought"],f);const p=s(n,["thoughtSignature"]);p!=null&&a(e,["thoughtSignature"],p);const h=s(n,["videoMetadata"]);return h!=null&&a(e,["videoMetadata"],h),e}function cu(n){const e={},t=s(n,["category"]);if(t!=null&&a(e,["category"],t),s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=s(n,["threshold"]);return i!=null&&a(e,["threshold"],i),e}function du(n){const e={},t=s(n,["functionCallingConfig"]);t!=null&&a(e,["functionCallingConfig"],Wa(t));const i=s(n,["retrievalConfig"]);return i!=null&&a(e,["retrievalConfig"],i),e}function fu(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(p=>p)),a(e,["functionDeclarations"],f)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(n,["googleSearchRetrieval"]);i!=null&&a(e,["googleSearchRetrieval"],i);const o=s(n,["computerUse"]);o!=null&&a(e,["computerUse"],o);const r=s(n,["fileSearch"]);r!=null&&a(e,["fileSearch"],r);const l=s(n,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(n,["googleMaps"]);u!=null&&a(e,["googleMaps"],Za(u));const d=s(n,["googleSearch"]);d!=null&&a(e,["googleSearch"],ja(d));const c=s(n,["urlContext"]);return c!=null&&a(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ie;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Ie||(Ie={}));class De{constructor(e,t,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,o)}init(e,t,i){var o,r;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!i||Object.keys(i).length===0?l={config:{}}:typeof i=="object"?l=Object.assign({},i):l=i,l.config&&(l.config.pageToken=t.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(r=(o=l.config)===null||o===void 0?void 0:o.pageSize)!==null&&r!==void 0?r:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pu extends ve{constructor(e){super(),this.apiClient=e,this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)},this.list=async(t={})=>new De(Ie.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(t),t)}createInlinedGenerateContentRequest(e){const t=eo(this.apiClient,e),i=t._url,o=M("{model}:batchGenerateContent",i),u=t.batch.inputConfig.requests,d=u.requests,c=[];for(const f of d){const p=Object.assign({},f);if(p.systemInstruction){const h=p.systemInstruction;delete p.systemInstruction;const m=p.request;m.systemInstruction=h,p.request=m}c.push(p)}return u.requests=c,delete t.config,delete t._url,delete t._query,{path:o,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const i=t?Object.assign({},t):{},o=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${o}`),i.dest===void 0){const r=this.getGcsUri(e),l=this.getBigqueryUri(e);if(r)r.endsWith(".jsonl")?i.dest=`${r.slice(0,-6)}/dest`:i.dest=`${r}_dest_${o}`;else if(l)i.dest=`${l}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Fa(this.apiClient,e);return u=M("batchPredictionJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>et(f))}else{const c=eo(this.apiClient,e);return u=M("{model}:batchGenerateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>Cn(f))}}async createEmbeddingsInternal(e){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Va(this.apiClient,e);return r=M("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>Cn(d))}}async get(e){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Qa(this.apiClient,e);return u=M("batchPredictionJobs/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>et(f))}else{const c=Xa(this.apiClient,e);return u=M("batches/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>Cn(f))}}async cancel(e){var t,i,o,r;let l="",u={};if(this.apiClient.isVertexAI()){const d=Ra(this.apiClient,e);l=M("batchPredictionJobs/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const d=Pa(this.apiClient,e);l=M("batches/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=su(e);return u=M("batchPredictionJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=au(f),h=new Xi;return Object.assign(h,p),h})}else{const c=ru(e);return u=M("batches",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=lu(f),h=new Xi;return Object.assign(h,p),h})}}async delete(e){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=qa(this.apiClient,e);return u=M("batchPredictionJobs/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>Ha(f))}else{const c=ba(this.apiClient,e);return u=M("batches/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>Ga(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hu(n){const e={},t=s(n,["data"]);if(t!=null&&a(e,["data"],t),s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(n,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function no(n){const e={},t=s(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>Vu(r))),a(e,["parts"],o)}const i=s(n,["role"]);return i!=null&&a(e,["role"],i),e}function mu(n,e){const t={},i=s(n,["ttl"]);e!==void 0&&i!=null&&a(e,["ttl"],i);const o=s(n,["expireTime"]);e!==void 0&&o!=null&&a(e,["expireTime"],o);const r=s(n,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const l=s(n,["contents"]);if(e!==void 0&&l!=null){let f=ce(l);Array.isArray(f)&&(f=f.map(p=>no(p))),a(e,["contents"],f)}const u=s(n,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],no(ne(u)));const d=s(n,["tools"]);if(e!==void 0&&d!=null){let f=d;Array.isArray(f)&&(f=f.map(p=>qu(p))),a(e,["tools"],f)}const c=s(n,["toolConfig"]);if(e!==void 0&&c!=null&&a(e,["toolConfig"],bu(c)),s(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function gu(n,e){const t={},i=s(n,["ttl"]);e!==void 0&&i!=null&&a(e,["ttl"],i);const o=s(n,["expireTime"]);e!==void 0&&o!=null&&a(e,["expireTime"],o);const r=s(n,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const l=s(n,["contents"]);if(e!==void 0&&l!=null){let p=ce(l);Array.isArray(p)&&(p=p.map(h=>h)),a(e,["contents"],p)}const u=s(n,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],ne(u));const d=s(n,["tools"]);if(e!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>Gu(h))),a(e,["tools"],p)}const c=s(n,["toolConfig"]);e!==void 0&&c!=null&&a(e,["toolConfig"],c);const f=s(n,["kmsKeyName"]);return e!==void 0&&f!=null&&a(e,["encryption_spec","kmsKeyName"],f),t}function yu(n,e){const t={},i=s(e,["model"]);i!=null&&a(t,["model"],or(n,i));const o=s(e,["config"]);return o!=null&&mu(o,t),t}function Tu(n,e){const t={},i=s(e,["model"]);i!=null&&a(t,["model"],or(n,i));const o=s(e,["config"]);return o!=null&&gu(o,t),t}function Cu(n,e){const t={},i=s(e,["name"]);return i!=null&&a(t,["_url","name"],Ae(n,i)),t}function Eu(n,e){const t={},i=s(e,["name"]);return i!=null&&a(t,["_url","name"],Ae(n,i)),t}function _u(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function Su(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function Iu(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);const i=s(n,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function vu(n){const e={},t=s(n,["id"]);t!=null&&a(e,["id"],t);const i=s(n,["args"]);i!=null&&a(e,["args"],i);const o=s(n,["name"]);if(o!=null&&a(e,["name"],o),s(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Au(n){const e={},t=s(n,["mode"]);t!=null&&a(e,["mode"],t);const i=s(n,["allowedFunctionNames"]);if(i!=null&&a(e,["allowedFunctionNames"],i),s(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function xu(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=s(n,["description"]);t!=null&&a(e,["description"],t);const i=s(n,["name"]);i!=null&&a(e,["name"],i);const o=s(n,["parameters"]);o!=null&&a(e,["parameters"],o);const r=s(n,["parametersJsonSchema"]);r!=null&&a(e,["parametersJsonSchema"],r);const l=s(n,["response"]);l!=null&&a(e,["response"],l);const u=s(n,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function ku(n,e){const t={},i=s(e,["name"]);return i!=null&&a(t,["_url","name"],Ae(n,i)),t}function wu(n,e){const t={},i=s(e,["name"]);return i!=null&&a(t,["_url","name"],Ae(n,i)),t}function Pu(n){const e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(n,["enableWidget"]);return t!=null&&a(e,["enableWidget"],t),e}function Ru(n){const e={};if(s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=s(n,["timeRangeFilter"]);return t!=null&&a(e,["timeRangeFilter"],t),e}function Mu(n,e){const t={},i=s(n,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const o=s(n,["pageToken"]);return e!==void 0&&o!=null&&a(e,["_query","pageToken"],o),t}function Nu(n,e){const t={},i=s(n,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const o=s(n,["pageToken"]);return e!==void 0&&o!=null&&a(e,["_query","pageToken"],o),t}function Du(n){const e={},t=s(n,["config"]);return t!=null&&Mu(t,e),e}function Lu(n){const e={},t=s(n,["config"]);return t!=null&&Nu(t,e),e}function Fu(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const i=s(n,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=s(n,["cachedContents"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["cachedContents"],r)}return e}function Uu(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const i=s(n,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=s(n,["cachedContents"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["cachedContents"],r)}return e}function Vu(n){const e={},t=s(n,["mediaResolution"]);t!=null&&a(e,["mediaResolution"],t);const i=s(n,["codeExecutionResult"]);i!=null&&a(e,["codeExecutionResult"],i);const o=s(n,["executableCode"]);o!=null&&a(e,["executableCode"],o);const r=s(n,["fileData"]);r!=null&&a(e,["fileData"],Iu(r));const l=s(n,["functionCall"]);l!=null&&a(e,["functionCall"],vu(l));const u=s(n,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const d=s(n,["inlineData"]);d!=null&&a(e,["inlineData"],hu(d));const c=s(n,["text"]);c!=null&&a(e,["text"],c);const f=s(n,["thought"]);f!=null&&a(e,["thought"],f);const p=s(n,["thoughtSignature"]);p!=null&&a(e,["thoughtSignature"],p);const h=s(n,["videoMetadata"]);return h!=null&&a(e,["videoMetadata"],h),e}function bu(n){const e={},t=s(n,["functionCallingConfig"]);t!=null&&a(e,["functionCallingConfig"],Au(t));const i=s(n,["retrievalConfig"]);return i!=null&&a(e,["retrievalConfig"],i),e}function qu(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(p=>p)),a(e,["functionDeclarations"],f)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(n,["googleSearchRetrieval"]);i!=null&&a(e,["googleSearchRetrieval"],i);const o=s(n,["computerUse"]);o!=null&&a(e,["computerUse"],o);const r=s(n,["fileSearch"]);r!=null&&a(e,["fileSearch"],r);const l=s(n,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(n,["googleMaps"]);u!=null&&a(e,["googleMaps"],Pu(u));const d=s(n,["googleSearch"]);d!=null&&a(e,["googleSearch"],Ru(d));const c=s(n,["urlContext"]);return c!=null&&a(e,["urlContext"],c),e}function Gu(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(h=>xu(h))),a(e,["functionDeclarations"],p)}const i=s(n,["retrieval"]);i!=null&&a(e,["retrieval"],i);const o=s(n,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const r=s(n,["computerUse"]);if(r!=null&&a(e,["computerUse"],r),s(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(n,["codeExecution"]);l!=null&&a(e,["codeExecution"],l);const u=s(n,["enterpriseWebSearch"]);u!=null&&a(e,["enterpriseWebSearch"],u);const d=s(n,["googleMaps"]);d!=null&&a(e,["googleMaps"],d);const c=s(n,["googleSearch"]);c!=null&&a(e,["googleSearch"],c);const f=s(n,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function Hu(n,e){const t={},i=s(n,["ttl"]);e!==void 0&&i!=null&&a(e,["ttl"],i);const o=s(n,["expireTime"]);return e!==void 0&&o!=null&&a(e,["expireTime"],o),t}function Bu(n,e){const t={},i=s(n,["ttl"]);e!==void 0&&i!=null&&a(e,["ttl"],i);const o=s(n,["expireTime"]);return e!==void 0&&o!=null&&a(e,["expireTime"],o),t}function zu(n,e){const t={},i=s(e,["name"]);i!=null&&a(t,["_url","name"],Ae(n,i));const o=s(e,["config"]);return o!=null&&Hu(o,t),t}function Ju(n,e){const t={},i=s(e,["name"]);i!=null&&a(t,["_url","name"],Ae(n,i));const o=s(e,["config"]);return o!=null&&Bu(o,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $u extends ve{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new De(Ie.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Tu(this.apiClient,e);return u=M("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=yu(this.apiClient,e);return u=M("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async get(e){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=wu(this.apiClient,e);return u=M("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=ku(this.apiClient,e);return u=M("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async delete(e){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Eu(this.apiClient,e);return u=M("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Su(f),h=new Oi;return Object.assign(h,p),h})}else{const c=Cu(this.apiClient,e);return u=M("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=_u(f),h=new Oi;return Object.assign(h,p),h})}}async update(e){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Ju(this.apiClient,e);return u=M("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=zu(this.apiClient,e);return u=M("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async listInternal(e){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Lu(e);return u=M("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Uu(f),h=new Ki;return Object.assign(h,p),h})}else{const c=Du(e);return u=M("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Fu(f),h=new Ki;return Object.assign(h,p),h})}}}function to(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Q(n){return this instanceof Q?(this.v=n,this):new Q(n)}function Be(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),o,r=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),o[Symbol.asyncIterator]=function(){return this},o;function l(m){return function(T){return Promise.resolve(T).then(m,p)}}function u(m,T){i[m]&&(o[m]=function(E){return new Promise(function(I,C){r.push([m,E,I,C])>1||d(m,E)})},T&&(o[m]=T(o[m])))}function d(m,T){try{c(i[m](T))}catch(E){h(r[0][3],E)}}function c(m){m.value instanceof Q?Promise.resolve(m.value.v).then(f,p):h(r[0][2],m)}function f(m){d("next",m)}function p(m){d("throw",m)}function h(m,T){m(T),r.shift(),r.length&&d(r[0][0],r[0][1])}}function an(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof to=="function"?to(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=n[r]&&function(l){return new Promise(function(u,d){l=n[r](l),o(u,d,l.done,l.value)})}}function o(r,l,u,d){Promise.resolve(d).then(function(c){r({value:c,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yu(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:yr(t)}function yr(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Wu(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function io(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let i=0;for(;i<t;)if(n[i].role==="user")e.push(n[i]),i++;else{const o=[];let r=!0;for(;i<t&&n[i].role==="model";)o.push(n[i]),r&&!yr(n[i])&&(r=!1),i++;r?e.push(...o):e.pop()}return e}class Ou{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new Ku(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Ku{constructor(e,t,i,o={},r=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=o,this.history=r,this.sendPromise=Promise.resolve(),Wu(r)}async sendMessage(e){var t;await this.sendPromise;const i=ne(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var r,l,u;const d=await o,c=(l=(r=d.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content,f=d.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let h=[];f!=null&&(h=(u=f.slice(p))!==null&&u!==void 0?u:[]);const m=c?[c]:[];this.recordHistory(i,m,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var t;await this.sendPromise;const i=ne(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const r=await o;return this.processStreamResponse(r,i)}getHistory(e=!1){const t=e?io(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var i,o;return Be(this,arguments,function*(){var l,u,d,c;const f=[];try{for(var p=!0,h=an(e),m;m=yield Q(h.next()),l=m.done,!l;p=!0){c=m.value,p=!1;const T=c;if(Yu(T)){const E=(o=(i=T.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content;E!==void 0&&f.push(E)}yield yield Q(T)}}catch(T){u={error:T}}finally{try{!p&&!l&&(d=h.return)&&(yield Q(d.call(h)))}finally{if(u)throw u.error}}this.recordHistory(t,f)})}recordHistory(e,t,i){let o=[];t.length>0&&t.every(r=>r.role!==void 0)?o=t:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...io(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wn extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,wn.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xu(n){const e={},t=s(n,["file"]);return t!=null&&a(e,["file"],t),e}function Qu(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function Zu(n){const e={},t=s(n,["name"]);return t!=null&&a(e,["_url","file"],cr(t)),e}function ju(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function ec(n){const e={},t=s(n,["name"]);return t!=null&&a(e,["_url","file"],cr(t)),e}function nc(n,e){const t={},i=s(n,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const o=s(n,["pageToken"]);return e!==void 0&&o!=null&&a(e,["_query","pageToken"],o),t}function tc(n){const e={},t=s(n,["config"]);return t!=null&&nc(t,e),e}function ic(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const i=s(n,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=s(n,["files"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["files"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oc extends ve{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new De(Ie.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=tc(e);return r=M("files",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>{const c=ic(d),f=new aa;return Object.assign(f,c),f})}}async createInternal(e){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Xu(e);return r=M("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const c=Qu(d),f=new ua;return Object.assign(f,c),f})}}async get(e){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ec(e);return r=M("files/{file}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(e){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Zu(e);return r=M("files/{file}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>{const c=ju(d),f=new ca;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function En(n){const e={},t=s(n,["data"]);if(t!=null&&a(e,["data"],t),s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(n,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function rc(n){const e={},t=s(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>_c(r))),a(e,["parts"],o)}const i=s(n,["role"]);return i!=null&&a(e,["role"],i),e}function sc(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);const i=s(n,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function lc(n){const e={},t=s(n,["id"]);t!=null&&a(e,["id"],t);const i=s(n,["args"]);i!=null&&a(e,["args"],i);const o=s(n,["name"]);if(o!=null&&a(e,["name"],o),s(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ac(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=s(n,["description"]);t!=null&&a(e,["description"],t);const i=s(n,["name"]);i!=null&&a(e,["name"],i);const o=s(n,["parameters"]);o!=null&&a(e,["parameters"],o);const r=s(n,["parametersJsonSchema"]);r!=null&&a(e,["parametersJsonSchema"],r);const l=s(n,["response"]);l!=null&&a(e,["response"],l);const u=s(n,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function uc(n){const e={},t=s(n,["modelSelectionConfig"]);t!=null&&a(e,["modelConfig"],t);const i=s(n,["responseJsonSchema"]);i!=null&&a(e,["responseJsonSchema"],i);const o=s(n,["audioTimestamp"]);o!=null&&a(e,["audioTimestamp"],o);const r=s(n,["candidateCount"]);r!=null&&a(e,["candidateCount"],r);const l=s(n,["enableAffectiveDialog"]);l!=null&&a(e,["enableAffectiveDialog"],l);const u=s(n,["frequencyPenalty"]);u!=null&&a(e,["frequencyPenalty"],u);const d=s(n,["logprobs"]);d!=null&&a(e,["logprobs"],d);const c=s(n,["maxOutputTokens"]);c!=null&&a(e,["maxOutputTokens"],c);const f=s(n,["mediaResolution"]);f!=null&&a(e,["mediaResolution"],f);const p=s(n,["presencePenalty"]);p!=null&&a(e,["presencePenalty"],p);const h=s(n,["responseLogprobs"]);h!=null&&a(e,["responseLogprobs"],h);const m=s(n,["responseMimeType"]);m!=null&&a(e,["responseMimeType"],m);const T=s(n,["responseModalities"]);T!=null&&a(e,["responseModalities"],T);const E=s(n,["responseSchema"]);E!=null&&a(e,["responseSchema"],E);const I=s(n,["routingConfig"]);I!=null&&a(e,["routingConfig"],I);const C=s(n,["seed"]);C!=null&&a(e,["seed"],C);const A=s(n,["speechConfig"]);A!=null&&a(e,["speechConfig"],Tr(A));const S=s(n,["stopSequences"]);S!=null&&a(e,["stopSequences"],S);const N=s(n,["temperature"]);N!=null&&a(e,["temperature"],N);const L=s(n,["thinkingConfig"]);L!=null&&a(e,["thinkingConfig"],L);const _=s(n,["topK"]);_!=null&&a(e,["topK"],_);const F=s(n,["topP"]);if(F!=null&&a(e,["topP"],F),s(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function cc(n){const e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(n,["enableWidget"]);return t!=null&&a(e,["enableWidget"],t),e}function dc(n){const e={};if(s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=s(n,["timeRangeFilter"]);return t!=null&&a(e,["timeRangeFilter"],t),e}function fc(n,e){const t={},i=s(n,["generationConfig"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig"],i);const o=s(n,["responseModalities"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig","responseModalities"],o);const r=s(n,["temperature"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","temperature"],r);const l=s(n,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(n,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const d=s(n,["maxOutputTokens"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","maxOutputTokens"],d);const c=s(n,["mediaResolution"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","mediaResolution"],c);const f=s(n,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const p=s(n,["speechConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","speechConfig"],_t(p));const h=s(n,["thinkingConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","thinkingConfig"],h);const m=s(n,["enableAffectiveDialog"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],m);const T=s(n,["systemInstruction"]);e!==void 0&&T!=null&&a(e,["setup","systemInstruction"],rc(ne(T)));const E=s(n,["tools"]);if(e!==void 0&&E!=null){let _=We(E);Array.isArray(_)&&(_=_.map(F=>Ic(Ye(F)))),a(e,["setup","tools"],_)}const I=s(n,["sessionResumption"]);e!==void 0&&I!=null&&a(e,["setup","sessionResumption"],Sc(I));const C=s(n,["inputAudioTranscription"]);e!==void 0&&C!=null&&a(e,["setup","inputAudioTranscription"],C);const A=s(n,["outputAudioTranscription"]);e!==void 0&&A!=null&&a(e,["setup","outputAudioTranscription"],A);const S=s(n,["realtimeInputConfig"]);e!==void 0&&S!=null&&a(e,["setup","realtimeInputConfig"],S);const N=s(n,["contextWindowCompression"]);e!==void 0&&N!=null&&a(e,["setup","contextWindowCompression"],N);const L=s(n,["proactivity"]);return e!==void 0&&L!=null&&a(e,["setup","proactivity"],L),t}function pc(n,e){const t={},i=s(n,["generationConfig"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig"],uc(i));const o=s(n,["responseModalities"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig","responseModalities"],o);const r=s(n,["temperature"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","temperature"],r);const l=s(n,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(n,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const d=s(n,["maxOutputTokens"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","maxOutputTokens"],d);const c=s(n,["mediaResolution"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","mediaResolution"],c);const f=s(n,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const p=s(n,["speechConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","speechConfig"],Tr(_t(p)));const h=s(n,["thinkingConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","thinkingConfig"],h);const m=s(n,["enableAffectiveDialog"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],m);const T=s(n,["systemInstruction"]);e!==void 0&&T!=null&&a(e,["setup","systemInstruction"],ne(T));const E=s(n,["tools"]);if(e!==void 0&&E!=null){let _=We(E);Array.isArray(_)&&(_=_.map(F=>vc(Ye(F)))),a(e,["setup","tools"],_)}const I=s(n,["sessionResumption"]);e!==void 0&&I!=null&&a(e,["setup","sessionResumption"],I);const C=s(n,["inputAudioTranscription"]);e!==void 0&&C!=null&&a(e,["setup","inputAudioTranscription"],C);const A=s(n,["outputAudioTranscription"]);e!==void 0&&A!=null&&a(e,["setup","outputAudioTranscription"],A);const S=s(n,["realtimeInputConfig"]);e!==void 0&&S!=null&&a(e,["setup","realtimeInputConfig"],S);const N=s(n,["contextWindowCompression"]);e!==void 0&&N!=null&&a(e,["setup","contextWindowCompression"],N);const L=s(n,["proactivity"]);return e!==void 0&&L!=null&&a(e,["setup","proactivity"],L),t}function hc(n,e){const t={},i=s(e,["model"]);i!=null&&a(t,["setup","model"],Y(n,i));const o=s(e,["config"]);return o!=null&&a(t,["config"],fc(o,t)),t}function mc(n,e){const t={},i=s(e,["model"]);i!=null&&a(t,["setup","model"],Y(n,i));const o=s(e,["config"]);return o!=null&&a(t,["config"],pc(o,t)),t}function gc(n){const e={},t=s(n,["musicGenerationConfig"]);return t!=null&&a(e,["musicGenerationConfig"],t),e}function yc(n){const e={},t=s(n,["weightedPrompts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>o)),a(e,["weightedPrompts"],i)}return e}function Tc(n){const e={},t=s(n,["media"]);if(t!=null){let c=rr(t);Array.isArray(c)&&(c=c.map(f=>En(f))),a(e,["mediaChunks"],c)}const i=s(n,["audio"]);i!=null&&a(e,["audio"],En(lr(i)));const o=s(n,["audioStreamEnd"]);o!=null&&a(e,["audioStreamEnd"],o);const r=s(n,["video"]);r!=null&&a(e,["video"],En(sr(r)));const l=s(n,["text"]);l!=null&&a(e,["text"],l);const u=s(n,["activityStart"]);u!=null&&a(e,["activityStart"],u);const d=s(n,["activityEnd"]);return d!=null&&a(e,["activityEnd"],d),e}function Cc(n){const e={},t=s(n,["media"]);if(t!=null){let c=rr(t);Array.isArray(c)&&(c=c.map(f=>f)),a(e,["mediaChunks"],c)}const i=s(n,["audio"]);i!=null&&a(e,["audio"],lr(i));const o=s(n,["audioStreamEnd"]);o!=null&&a(e,["audioStreamEnd"],o);const r=s(n,["video"]);r!=null&&a(e,["video"],sr(r));const l=s(n,["text"]);l!=null&&a(e,["text"],l);const u=s(n,["activityStart"]);u!=null&&a(e,["activityStart"],u);const d=s(n,["activityEnd"]);return d!=null&&a(e,["activityEnd"],d),e}function Ec(n){const e={},t=s(n,["setupComplete"]);t!=null&&a(e,["setupComplete"],t);const i=s(n,["serverContent"]);i!=null&&a(e,["serverContent"],i);const o=s(n,["toolCall"]);o!=null&&a(e,["toolCall"],o);const r=s(n,["toolCallCancellation"]);r!=null&&a(e,["toolCallCancellation"],r);const l=s(n,["usageMetadata"]);l!=null&&a(e,["usageMetadata"],Ac(l));const u=s(n,["goAway"]);u!=null&&a(e,["goAway"],u);const d=s(n,["sessionResumptionUpdate"]);return d!=null&&a(e,["sessionResumptionUpdate"],d),e}function _c(n){const e={},t=s(n,["mediaResolution"]);t!=null&&a(e,["mediaResolution"],t);const i=s(n,["codeExecutionResult"]);i!=null&&a(e,["codeExecutionResult"],i);const o=s(n,["executableCode"]);o!=null&&a(e,["executableCode"],o);const r=s(n,["fileData"]);r!=null&&a(e,["fileData"],sc(r));const l=s(n,["functionCall"]);l!=null&&a(e,["functionCall"],lc(l));const u=s(n,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const d=s(n,["inlineData"]);d!=null&&a(e,["inlineData"],En(d));const c=s(n,["text"]);c!=null&&a(e,["text"],c);const f=s(n,["thought"]);f!=null&&a(e,["thought"],f);const p=s(n,["thoughtSignature"]);p!=null&&a(e,["thoughtSignature"],p);const h=s(n,["videoMetadata"]);return h!=null&&a(e,["videoMetadata"],h),e}function Sc(n){const e={},t=s(n,["handle"]);if(t!=null&&a(e,["handle"],t),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Tr(n){const e={},t=s(n,["languageCode"]);t!=null&&a(e,["languageCode"],t);const i=s(n,["voiceConfig"]);if(i!=null&&a(e,["voiceConfig"],i),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Ic(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(p=>p)),a(e,["functionDeclarations"],f)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(n,["googleSearchRetrieval"]);i!=null&&a(e,["googleSearchRetrieval"],i);const o=s(n,["computerUse"]);o!=null&&a(e,["computerUse"],o);const r=s(n,["fileSearch"]);r!=null&&a(e,["fileSearch"],r);const l=s(n,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(n,["googleMaps"]);u!=null&&a(e,["googleMaps"],cc(u));const d=s(n,["googleSearch"]);d!=null&&a(e,["googleSearch"],dc(d));const c=s(n,["urlContext"]);return c!=null&&a(e,["urlContext"],c),e}function vc(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(h=>ac(h))),a(e,["functionDeclarations"],p)}const i=s(n,["retrieval"]);i!=null&&a(e,["retrieval"],i);const o=s(n,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const r=s(n,["computerUse"]);if(r!=null&&a(e,["computerUse"],r),s(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(n,["codeExecution"]);l!=null&&a(e,["codeExecution"],l);const u=s(n,["enterpriseWebSearch"]);u!=null&&a(e,["enterpriseWebSearch"],u);const d=s(n,["googleMaps"]);d!=null&&a(e,["googleMaps"],d);const c=s(n,["googleSearch"]);c!=null&&a(e,["googleSearch"],c);const f=s(n,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function Ac(n){const e={},t=s(n,["promptTokenCount"]);t!=null&&a(e,["promptTokenCount"],t);const i=s(n,["cachedContentTokenCount"]);i!=null&&a(e,["cachedContentTokenCount"],i);const o=s(n,["candidatesTokenCount"]);o!=null&&a(e,["responseTokenCount"],o);const r=s(n,["toolUsePromptTokenCount"]);r!=null&&a(e,["toolUsePromptTokenCount"],r);const l=s(n,["thoughtsTokenCount"]);l!=null&&a(e,["thoughtsTokenCount"],l);const u=s(n,["totalTokenCount"]);u!=null&&a(e,["totalTokenCount"],u);const d=s(n,["promptTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(T=>T)),a(e,["promptTokensDetails"],m)}const c=s(n,["cacheTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(T=>T)),a(e,["cacheTokensDetails"],m)}const f=s(n,["candidatesTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(T=>T)),a(e,["responseTokensDetails"],m)}const p=s(n,["toolUsePromptTokensDetails"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(T=>T)),a(e,["toolUsePromptTokensDetails"],m)}const h=s(n,["trafficType"]);return h!=null&&a(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xc(n){const e={},t=s(n,["data"]);if(t!=null&&a(e,["data"],t),s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(n,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function kc(n){const e={},t=s(n,["content"]);t!=null&&a(e,["content"],t);const i=s(n,["citationMetadata"]);i!=null&&a(e,["citationMetadata"],wc(i));const o=s(n,["tokenCount"]);o!=null&&a(e,["tokenCount"],o);const r=s(n,["finishReason"]);r!=null&&a(e,["finishReason"],r);const l=s(n,["avgLogprobs"]);l!=null&&a(e,["avgLogprobs"],l);const u=s(n,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);const d=s(n,["index"]);d!=null&&a(e,["index"],d);const c=s(n,["logprobsResult"]);c!=null&&a(e,["logprobsResult"],c);const f=s(n,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>m)),a(e,["safetyRatings"],h)}const p=s(n,["urlContextMetadata"]);return p!=null&&a(e,["urlContextMetadata"],p),e}function wc(n){const e={},t=s(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>o)),a(e,["citations"],i)}return e}function Pc(n,e){const t={},i=s(e,["model"]);i!=null&&a(t,["_url","model"],Y(n,i));const o=s(e,["contents"]);if(o!=null){let r=ce(o);Array.isArray(r)&&(r=r.map(l=>l)),a(t,["contents"],r)}return t}function Rc(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const i=s(n,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["tokensInfo"],o)}return e}function Mc(n){const e={},t=s(n,["values"]);t!=null&&a(e,["values"],t);const i=s(n,["statistics"]);return i!=null&&a(e,["statistics"],Nc(i)),e}function Nc(n){const e={},t=s(n,["truncated"]);t!=null&&a(e,["truncated"],t);const i=s(n,["token_count"]);return i!=null&&a(e,["tokenCount"],i),e}function Pn(n){const e={},t=s(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>Hd(r))),a(e,["parts"],o)}const i=s(n,["role"]);return i!=null&&a(e,["role"],i),e}function Dc(n){const e={},t=s(n,["controlType"]);t!=null&&a(e,["controlType"],t);const i=s(n,["enableControlImageComputation"]);return i!=null&&a(e,["computeControl"],i),e}function Lc(n){const e={};if(s(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Fc(n,e){const t={},i=s(n,["systemInstruction"]);e!==void 0&&i!=null&&a(e,["systemInstruction"],ne(i));const o=s(n,["tools"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Ir(u))),a(e,["tools"],l)}const r=s(n,["generationConfig"]);return e!==void 0&&r!=null&&a(e,["generationConfig"],xd(r)),t}function Uc(n,e){const t={},i=s(e,["model"]);i!=null&&a(t,["_url","model"],Y(n,i));const o=s(e,["contents"]);if(o!=null){let l=ce(o);Array.isArray(l)&&(l=l.map(u=>Pn(u))),a(t,["contents"],l)}const r=s(e,["config"]);return r!=null&&Lc(r),t}function Vc(n,e){const t={},i=s(e,["model"]);i!=null&&a(t,["_url","model"],Y(n,i));const o=s(e,["contents"]);if(o!=null){let l=ce(o);Array.isArray(l)&&(l=l.map(u=>u)),a(t,["contents"],l)}const r=s(e,["config"]);return r!=null&&Fc(r,t),t}function bc(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const i=s(n,["totalTokens"]);i!=null&&a(e,["totalTokens"],i);const o=s(n,["cachedContentTokenCount"]);return o!=null&&a(e,["cachedContentTokenCount"],o),e}function qc(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const i=s(n,["totalTokens"]);return i!=null&&a(e,["totalTokens"],i),e}function Gc(n,e){const t={},i=s(e,["model"]);return i!=null&&a(t,["_url","name"],Y(n,i)),t}function Hc(n,e){const t={},i=s(e,["model"]);return i!=null&&a(t,["_url","name"],Y(n,i)),t}function Bc(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function zc(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function Jc(n,e){const t={},i=s(n,["outputGcsUri"]);e!==void 0&&i!=null&&a(e,["parameters","storageUri"],i);const o=s(n,["negativePrompt"]);e!==void 0&&o!=null&&a(e,["parameters","negativePrompt"],o);const r=s(n,["numberOfImages"]);e!==void 0&&r!=null&&a(e,["parameters","sampleCount"],r);const l=s(n,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=s(n,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const d=s(n,["seed"]);e!==void 0&&d!=null&&a(e,["parameters","seed"],d);const c=s(n,["safetyFilterLevel"]);e!==void 0&&c!=null&&a(e,["parameters","safetySetting"],c);const f=s(n,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const p=s(n,["includeSafetyAttributes"]);e!==void 0&&p!=null&&a(e,["parameters","includeSafetyAttributes"],p);const h=s(n,["includeRaiReason"]);e!==void 0&&h!=null&&a(e,["parameters","includeRaiReason"],h);const m=s(n,["language"]);e!==void 0&&m!=null&&a(e,["parameters","language"],m);const T=s(n,["outputMimeType"]);e!==void 0&&T!=null&&a(e,["parameters","outputOptions","mimeType"],T);const E=s(n,["outputCompressionQuality"]);e!==void 0&&E!=null&&a(e,["parameters","outputOptions","compressionQuality"],E);const I=s(n,["addWatermark"]);e!==void 0&&I!=null&&a(e,["parameters","addWatermark"],I);const C=s(n,["labels"]);e!==void 0&&C!=null&&a(e,["labels"],C);const A=s(n,["editMode"]);e!==void 0&&A!=null&&a(e,["parameters","editMode"],A);const S=s(n,["baseSteps"]);return e!==void 0&&S!=null&&a(e,["parameters","editConfig","baseSteps"],S),t}function $c(n,e){const t={},i=s(e,["model"]);i!=null&&a(t,["_url","model"],Y(n,i));const o=s(e,["prompt"]);o!=null&&a(t,["instances[0]","prompt"],o);const r=s(e,["referenceImages"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>Wd(d))),a(t,["instances[0]","referenceImages"],u)}const l=s(e,["config"]);return l!=null&&Jc(l,t),t}function Yc(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const i=s(n,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>Rn(r))),a(e,["generatedImages"],o)}return e}function Wc(n,e){const t={},i=s(n,["taskType"]);e!==void 0&&i!=null&&a(e,["requests[]","taskType"],i);const o=s(n,["title"]);e!==void 0&&o!=null&&a(e,["requests[]","title"],o);const r=s(n,["outputDimensionality"]);if(e!==void 0&&r!=null&&a(e,["requests[]","outputDimensionality"],r),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function Oc(n,e){const t={},i=s(n,["taskType"]);e!==void 0&&i!=null&&a(e,["instances[]","task_type"],i);const o=s(n,["title"]);e!==void 0&&o!=null&&a(e,["instances[]","title"],o);const r=s(n,["outputDimensionality"]);e!==void 0&&r!=null&&a(e,["parameters","outputDimensionality"],r);const l=s(n,["mimeType"]);e!==void 0&&l!=null&&a(e,["instances[]","mimeType"],l);const u=s(n,["autoTruncate"]);return e!==void 0&&u!=null&&a(e,["parameters","autoTruncate"],u),t}function Kc(n,e){const t={},i=s(e,["model"]);i!=null&&a(t,["_url","model"],Y(n,i));const o=s(e,["contents"]);if(o!=null){let u=Tt(n,o);Array.isArray(u)&&(u=u.map(d=>d)),a(t,["requests[]","content"],u)}const r=s(e,["config"]);r!=null&&Wc(r,t);const l=s(e,["model"]);return l!==void 0&&a(t,["requests[]","model"],Y(n,l)),t}function Xc(n,e){const t={},i=s(e,["model"]);i!=null&&a(t,["_url","model"],Y(n,i));const o=s(e,["contents"]);if(o!=null){let l=Tt(n,o);Array.isArray(l)&&(l=l.map(u=>u)),a(t,["instances[]","content"],l)}const r=s(e,["config"]);return r!=null&&Oc(r,t),t}function Qc(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const i=s(n,["embeddings"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["embeddings"],r)}const o=s(n,["metadata"]);return o!=null&&a(e,["metadata"],o),e}function Zc(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const i=s(n,["predictions[]","embeddings"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>Mc(l))),a(e,["embeddings"],r)}const o=s(n,["metadata"]);return o!=null&&a(e,["metadata"],o),e}function jc(n){const e={},t=s(n,["endpoint"]);t!=null&&a(e,["name"],t);const i=s(n,["deployedModelId"]);return i!=null&&a(e,["deployedModelId"],i),e}function ed(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);const i=s(n,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function nd(n){const e={},t=s(n,["id"]);t!=null&&a(e,["id"],t);const i=s(n,["args"]);i!=null&&a(e,["args"],i);const o=s(n,["name"]);if(o!=null&&a(e,["name"],o),s(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function td(n){const e={},t=s(n,["mode"]);t!=null&&a(e,["mode"],t);const i=s(n,["allowedFunctionNames"]);if(i!=null&&a(e,["allowedFunctionNames"],i),s(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function id(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=s(n,["description"]);t!=null&&a(e,["description"],t);const i=s(n,["name"]);i!=null&&a(e,["name"],i);const o=s(n,["parameters"]);o!=null&&a(e,["parameters"],o);const r=s(n,["parametersJsonSchema"]);r!=null&&a(e,["parametersJsonSchema"],r);const l=s(n,["response"]);l!=null&&a(e,["response"],l);const u=s(n,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function od(n,e,t){const i={},o=s(e,["systemInstruction"]);t!==void 0&&o!=null&&a(t,["systemInstruction"],Pn(ne(o)));const r=s(e,["temperature"]);r!=null&&a(i,["temperature"],r);const l=s(e,["topP"]);l!=null&&a(i,["topP"],l);const u=s(e,["topK"]);u!=null&&a(i,["topK"],u);const d=s(e,["candidateCount"]);d!=null&&a(i,["candidateCount"],d);const c=s(e,["maxOutputTokens"]);c!=null&&a(i,["maxOutputTokens"],c);const f=s(e,["stopSequences"]);f!=null&&a(i,["stopSequences"],f);const p=s(e,["responseLogprobs"]);p!=null&&a(i,["responseLogprobs"],p);const h=s(e,["logprobs"]);h!=null&&a(i,["logprobs"],h);const m=s(e,["presencePenalty"]);m!=null&&a(i,["presencePenalty"],m);const T=s(e,["frequencyPenalty"]);T!=null&&a(i,["frequencyPenalty"],T);const E=s(e,["seed"]);E!=null&&a(i,["seed"],E);const I=s(e,["responseMimeType"]);I!=null&&a(i,["responseMimeType"],I);const C=s(e,["responseSchema"]);C!=null&&a(i,["responseSchema"],Ct(C));const A=s(e,["responseJsonSchema"]);if(A!=null&&a(i,["responseJsonSchema"],A),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=s(e,["safetySettings"]);if(t!==void 0&&S!=null){let w=S;Array.isArray(w)&&(w=w.map(J=>Od(J))),a(t,["safetySettings"],w)}const N=s(e,["tools"]);if(t!==void 0&&N!=null){let w=We(N);Array.isArray(w)&&(w=w.map(J=>nf(Ye(J)))),a(t,["tools"],w)}const L=s(e,["toolConfig"]);if(t!==void 0&&L!=null&&a(t,["toolConfig"],ef(L)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=s(e,["cachedContent"]);t!==void 0&&_!=null&&a(t,["cachedContent"],Ae(n,_));const F=s(e,["responseModalities"]);F!=null&&a(i,["responseModalities"],F);const G=s(e,["mediaResolution"]);G!=null&&a(i,["mediaResolution"],G);const P=s(e,["speechConfig"]);if(P!=null&&a(i,["speechConfig"],Et(P)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=s(e,["thinkingConfig"]);V!=null&&a(i,["thinkingConfig"],V);const D=s(e,["imageConfig"]);return D!=null&&a(i,["imageConfig"],Md(D)),i}function rd(n,e,t){const i={},o=s(e,["systemInstruction"]);t!==void 0&&o!=null&&a(t,["systemInstruction"],ne(o));const r=s(e,["temperature"]);r!=null&&a(i,["temperature"],r);const l=s(e,["topP"]);l!=null&&a(i,["topP"],l);const u=s(e,["topK"]);u!=null&&a(i,["topK"],u);const d=s(e,["candidateCount"]);d!=null&&a(i,["candidateCount"],d);const c=s(e,["maxOutputTokens"]);c!=null&&a(i,["maxOutputTokens"],c);const f=s(e,["stopSequences"]);f!=null&&a(i,["stopSequences"],f);const p=s(e,["responseLogprobs"]);p!=null&&a(i,["responseLogprobs"],p);const h=s(e,["logprobs"]);h!=null&&a(i,["logprobs"],h);const m=s(e,["presencePenalty"]);m!=null&&a(i,["presencePenalty"],m);const T=s(e,["frequencyPenalty"]);T!=null&&a(i,["frequencyPenalty"],T);const E=s(e,["seed"]);E!=null&&a(i,["seed"],E);const I=s(e,["responseMimeType"]);I!=null&&a(i,["responseMimeType"],I);const C=s(e,["responseSchema"]);C!=null&&a(i,["responseSchema"],Ct(C));const A=s(e,["responseJsonSchema"]);A!=null&&a(i,["responseJsonSchema"],A);const S=s(e,["routingConfig"]);S!=null&&a(i,["routingConfig"],S);const N=s(e,["modelSelectionConfig"]);N!=null&&a(i,["modelConfig"],N);const L=s(e,["safetySettings"]);if(t!==void 0&&L!=null){let z=L;Array.isArray(z)&&(z=z.map(Z=>Z)),a(t,["safetySettings"],z)}const _=s(e,["tools"]);if(t!==void 0&&_!=null){let z=We(_);Array.isArray(z)&&(z=z.map(Z=>Ir(Ye(Z)))),a(t,["tools"],z)}const F=s(e,["toolConfig"]);t!==void 0&&F!=null&&a(t,["toolConfig"],F);const G=s(e,["labels"]);t!==void 0&&G!=null&&a(t,["labels"],G);const P=s(e,["cachedContent"]);t!==void 0&&P!=null&&a(t,["cachedContent"],Ae(n,P));const V=s(e,["responseModalities"]);V!=null&&a(i,["responseModalities"],V);const D=s(e,["mediaResolution"]);D!=null&&a(i,["mediaResolution"],D);const w=s(e,["speechConfig"]);w!=null&&a(i,["speechConfig"],Sr(Et(w)));const J=s(e,["audioTimestamp"]);J!=null&&a(i,["audioTimestamp"],J);const b=s(e,["thinkingConfig"]);b!=null&&a(i,["thinkingConfig"],b);const R=s(e,["imageConfig"]);return R!=null&&a(i,["imageConfig"],Nd(R)),i}function oo(n,e){const t={},i=s(e,["model"]);i!=null&&a(t,["_url","model"],Y(n,i));const o=s(e,["contents"]);if(o!=null){let l=ce(o);Array.isArray(l)&&(l=l.map(u=>Pn(u))),a(t,["contents"],l)}const r=s(e,["config"]);return r!=null&&a(t,["generationConfig"],od(n,r,t)),t}function ro(n,e){const t={},i=s(e,["model"]);i!=null&&a(t,["_url","model"],Y(n,i));const o=s(e,["contents"]);if(o!=null){let l=ce(o);Array.isArray(l)&&(l=l.map(u=>u)),a(t,["contents"],l)}const r=s(e,["config"]);return r!=null&&a(t,["generationConfig"],rd(n,r,t)),t}function so(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const i=s(n,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(c=>kc(c))),a(e,["candidates"],d)}const o=s(n,["modelVersion"]);o!=null&&a(e,["modelVersion"],o);const r=s(n,["promptFeedback"]);r!=null&&a(e,["promptFeedback"],r);const l=s(n,["responseId"]);l!=null&&a(e,["responseId"],l);const u=s(n,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function lo(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const i=s(n,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>f)),a(e,["candidates"],c)}const o=s(n,["createTime"]);o!=null&&a(e,["createTime"],o);const r=s(n,["modelVersion"]);r!=null&&a(e,["modelVersion"],r);const l=s(n,["promptFeedback"]);l!=null&&a(e,["promptFeedback"],l);const u=s(n,["responseId"]);u!=null&&a(e,["responseId"],u);const d=s(n,["usageMetadata"]);return d!=null&&a(e,["usageMetadata"],d),e}function sd(n,e){const t={};if(s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=s(n,["numberOfImages"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const o=s(n,["aspectRatio"]);e!==void 0&&o!=null&&a(e,["parameters","aspectRatio"],o);const r=s(n,["guidanceScale"]);if(e!==void 0&&r!=null&&a(e,["parameters","guidanceScale"],r),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(n,["safetyFilterLevel"]);e!==void 0&&l!=null&&a(e,["parameters","safetySetting"],l);const u=s(n,["personGeneration"]);e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u);const d=s(n,["includeSafetyAttributes"]);e!==void 0&&d!=null&&a(e,["parameters","includeSafetyAttributes"],d);const c=s(n,["includeRaiReason"]);e!==void 0&&c!=null&&a(e,["parameters","includeRaiReason"],c);const f=s(n,["language"]);e!==void 0&&f!=null&&a(e,["parameters","language"],f);const p=s(n,["outputMimeType"]);e!==void 0&&p!=null&&a(e,["parameters","outputOptions","mimeType"],p);const h=s(n,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&a(e,["parameters","outputOptions","compressionQuality"],h),s(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const m=s(n,["imageSize"]);if(e!==void 0&&m!=null&&a(e,["parameters","sampleImageSize"],m),s(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function ld(n,e){const t={},i=s(n,["outputGcsUri"]);e!==void 0&&i!=null&&a(e,["parameters","storageUri"],i);const o=s(n,["negativePrompt"]);e!==void 0&&o!=null&&a(e,["parameters","negativePrompt"],o);const r=s(n,["numberOfImages"]);e!==void 0&&r!=null&&a(e,["parameters","sampleCount"],r);const l=s(n,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=s(n,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const d=s(n,["seed"]);e!==void 0&&d!=null&&a(e,["parameters","seed"],d);const c=s(n,["safetyFilterLevel"]);e!==void 0&&c!=null&&a(e,["parameters","safetySetting"],c);const f=s(n,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const p=s(n,["includeSafetyAttributes"]);e!==void 0&&p!=null&&a(e,["parameters","includeSafetyAttributes"],p);const h=s(n,["includeRaiReason"]);e!==void 0&&h!=null&&a(e,["parameters","includeRaiReason"],h);const m=s(n,["language"]);e!==void 0&&m!=null&&a(e,["parameters","language"],m);const T=s(n,["outputMimeType"]);e!==void 0&&T!=null&&a(e,["parameters","outputOptions","mimeType"],T);const E=s(n,["outputCompressionQuality"]);e!==void 0&&E!=null&&a(e,["parameters","outputOptions","compressionQuality"],E);const I=s(n,["addWatermark"]);e!==void 0&&I!=null&&a(e,["parameters","addWatermark"],I);const C=s(n,["labels"]);e!==void 0&&C!=null&&a(e,["labels"],C);const A=s(n,["imageSize"]);e!==void 0&&A!=null&&a(e,["parameters","sampleImageSize"],A);const S=s(n,["enhancePrompt"]);return e!==void 0&&S!=null&&a(e,["parameters","enhancePrompt"],S),t}function ad(n,e){const t={},i=s(e,["model"]);i!=null&&a(t,["_url","model"],Y(n,i));const o=s(e,["prompt"]);o!=null&&a(t,["instances[0]","prompt"],o);const r=s(e,["config"]);return r!=null&&sd(r,t),t}function ud(n,e){const t={},i=s(e,["model"]);i!=null&&a(t,["_url","model"],Y(n,i));const o=s(e,["prompt"]);o!=null&&a(t,["instances[0]","prompt"],o);const r=s(e,["config"]);return r!=null&&ld(r,t),t}function cd(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const i=s(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>Sd(l))),a(e,["generatedImages"],r)}const o=s(n,["positivePromptSafetyAttributes"]);return o!=null&&a(e,["positivePromptSafetyAttributes"],Er(o)),e}function dd(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const i=s(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>Rn(l))),a(e,["generatedImages"],r)}const o=s(n,["positivePromptSafetyAttributes"]);return o!=null&&a(e,["positivePromptSafetyAttributes"],_r(o)),e}function fd(n,e){const t={},i=s(n,["numberOfVideos"]);if(e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i),s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=s(n,["durationSeconds"]);if(e!==void 0&&o!=null&&a(e,["parameters","durationSeconds"],o),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=s(n,["aspectRatio"]);e!==void 0&&r!=null&&a(e,["parameters","aspectRatio"],r);const l=s(n,["resolution"]);e!==void 0&&l!=null&&a(e,["parameters","resolution"],l);const u=s(n,["personGeneration"]);if(e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u),s(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=s(n,["negativePrompt"]);e!==void 0&&d!=null&&a(e,["parameters","negativePrompt"],d);const c=s(n,["enhancePrompt"]);if(e!==void 0&&c!=null&&a(e,["parameters","enhancePrompt"],c),s(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=s(n,["lastFrame"]);e!==void 0&&f!=null&&a(e,["instances[0]","lastFrame"],Mn(f));const p=s(n,["referenceImages"]);if(e!==void 0&&p!=null){let h=p;Array.isArray(h)&&(h=h.map(m=>mf(m))),a(e,["instances[0]","referenceImages"],h)}if(s(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function pd(n,e){const t={},i=s(n,["numberOfVideos"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const o=s(n,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const r=s(n,["fps"]);e!==void 0&&r!=null&&a(e,["parameters","fps"],r);const l=s(n,["durationSeconds"]);e!==void 0&&l!=null&&a(e,["parameters","durationSeconds"],l);const u=s(n,["seed"]);e!==void 0&&u!=null&&a(e,["parameters","seed"],u);const d=s(n,["aspectRatio"]);e!==void 0&&d!=null&&a(e,["parameters","aspectRatio"],d);const c=s(n,["resolution"]);e!==void 0&&c!=null&&a(e,["parameters","resolution"],c);const f=s(n,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const p=s(n,["pubsubTopic"]);e!==void 0&&p!=null&&a(e,["parameters","pubsubTopic"],p);const h=s(n,["negativePrompt"]);e!==void 0&&h!=null&&a(e,["parameters","negativePrompt"],h);const m=s(n,["enhancePrompt"]);e!==void 0&&m!=null&&a(e,["parameters","enhancePrompt"],m);const T=s(n,["generateAudio"]);e!==void 0&&T!=null&&a(e,["parameters","generateAudio"],T);const E=s(n,["lastFrame"]);e!==void 0&&E!=null&&a(e,["instances[0]","lastFrame"],me(E));const I=s(n,["referenceImages"]);if(e!==void 0&&I!=null){let S=I;Array.isArray(S)&&(S=S.map(N=>gf(N))),a(e,["instances[0]","referenceImages"],S)}const C=s(n,["mask"]);e!==void 0&&C!=null&&a(e,["instances[0]","mask"],hf(C));const A=s(n,["compressionQuality"]);return e!==void 0&&A!=null&&a(e,["parameters","compressionQuality"],A),t}function hd(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const i=s(n,["metadata"]);i!=null&&a(e,["metadata"],i);const o=s(n,["done"]);o!=null&&a(e,["done"],o);const r=s(n,["error"]);r!=null&&a(e,["error"],r);const l=s(n,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],Td(l)),e}function md(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const i=s(n,["metadata"]);i!=null&&a(e,["metadata"],i);const o=s(n,["done"]);o!=null&&a(e,["done"],o);const r=s(n,["error"]);r!=null&&a(e,["error"],r);const l=s(n,["response"]);return l!=null&&a(e,["response"],Cd(l)),e}function gd(n,e){const t={},i=s(e,["model"]);i!=null&&a(t,["_url","model"],Y(n,i));const o=s(e,["prompt"]);o!=null&&a(t,["instances[0]","prompt"],o);const r=s(e,["image"]);r!=null&&a(t,["instances[0]","image"],Mn(r));const l=s(e,["video"]);l!=null&&a(t,["instances[0]","video"],vr(l));const u=s(e,["source"]);u!=null&&Ed(u,t);const d=s(e,["config"]);return d!=null&&fd(d,t),t}function yd(n,e){const t={},i=s(e,["model"]);i!=null&&a(t,["_url","model"],Y(n,i));const o=s(e,["prompt"]);o!=null&&a(t,["instances[0]","prompt"],o);const r=s(e,["image"]);r!=null&&a(t,["instances[0]","image"],me(r));const l=s(e,["video"]);l!=null&&a(t,["instances[0]","video"],Ar(l));const u=s(e,["source"]);u!=null&&_d(u,t);const d=s(e,["config"]);return d!=null&&pd(d,t),t}function Td(n){const e={},t=s(n,["generatedSamples"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(l=>vd(l))),a(e,["generatedVideos"],r)}const i=s(n,["raiMediaFilteredCount"]);i!=null&&a(e,["raiMediaFilteredCount"],i);const o=s(n,["raiMediaFilteredReasons"]);return o!=null&&a(e,["raiMediaFilteredReasons"],o),e}function Cd(n){const e={},t=s(n,["videos"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(l=>Ad(l))),a(e,["generatedVideos"],r)}const i=s(n,["raiMediaFilteredCount"]);i!=null&&a(e,["raiMediaFilteredCount"],i);const o=s(n,["raiMediaFilteredReasons"]);return o!=null&&a(e,["raiMediaFilteredReasons"],o),e}function Ed(n,e){const t={},i=s(n,["prompt"]);e!==void 0&&i!=null&&a(e,["instances[0]","prompt"],i);const o=s(n,["image"]);e!==void 0&&o!=null&&a(e,["instances[0]","image"],Mn(o));const r=s(n,["video"]);return e!==void 0&&r!=null&&a(e,["instances[0]","video"],vr(r)),t}function _d(n,e){const t={},i=s(n,["prompt"]);e!==void 0&&i!=null&&a(e,["instances[0]","prompt"],i);const o=s(n,["image"]);e!==void 0&&o!=null&&a(e,["instances[0]","image"],me(o));const r=s(n,["video"]);return e!==void 0&&r!=null&&a(e,["instances[0]","video"],Ar(r)),t}function Sd(n){const e={},t=s(n,["_self"]);t!=null&&a(e,["image"],Dd(t));const i=s(n,["raiFilteredReason"]);i!=null&&a(e,["raiFilteredReason"],i);const o=s(n,["_self"]);return o!=null&&a(e,["safetyAttributes"],Er(o)),e}function Rn(n){const e={},t=s(n,["_self"]);t!=null&&a(e,["image"],Cr(t));const i=s(n,["raiFilteredReason"]);i!=null&&a(e,["raiFilteredReason"],i);const o=s(n,["_self"]);o!=null&&a(e,["safetyAttributes"],_r(o));const r=s(n,["prompt"]);return r!=null&&a(e,["enhancedPrompt"],r),e}function Id(n){const e={},t=s(n,["_self"]);t!=null&&a(e,["mask"],Cr(t));const i=s(n,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["labels"],o)}return e}function vd(n){const e={},t=s(n,["video"]);return t!=null&&a(e,["video"],ff(t)),e}function Ad(n){const e={},t=s(n,["_self"]);return t!=null&&a(e,["video"],pf(t)),e}function xd(n){const e={},t=s(n,["modelSelectionConfig"]);t!=null&&a(e,["modelConfig"],t);const i=s(n,["responseJsonSchema"]);i!=null&&a(e,["responseJsonSchema"],i);const o=s(n,["audioTimestamp"]);o!=null&&a(e,["audioTimestamp"],o);const r=s(n,["candidateCount"]);r!=null&&a(e,["candidateCount"],r);const l=s(n,["enableAffectiveDialog"]);l!=null&&a(e,["enableAffectiveDialog"],l);const u=s(n,["frequencyPenalty"]);u!=null&&a(e,["frequencyPenalty"],u);const d=s(n,["logprobs"]);d!=null&&a(e,["logprobs"],d);const c=s(n,["maxOutputTokens"]);c!=null&&a(e,["maxOutputTokens"],c);const f=s(n,["mediaResolution"]);f!=null&&a(e,["mediaResolution"],f);const p=s(n,["presencePenalty"]);p!=null&&a(e,["presencePenalty"],p);const h=s(n,["responseLogprobs"]);h!=null&&a(e,["responseLogprobs"],h);const m=s(n,["responseMimeType"]);m!=null&&a(e,["responseMimeType"],m);const T=s(n,["responseModalities"]);T!=null&&a(e,["responseModalities"],T);const E=s(n,["responseSchema"]);E!=null&&a(e,["responseSchema"],E);const I=s(n,["routingConfig"]);I!=null&&a(e,["routingConfig"],I);const C=s(n,["seed"]);C!=null&&a(e,["seed"],C);const A=s(n,["speechConfig"]);A!=null&&a(e,["speechConfig"],Sr(A));const S=s(n,["stopSequences"]);S!=null&&a(e,["stopSequences"],S);const N=s(n,["temperature"]);N!=null&&a(e,["temperature"],N);const L=s(n,["thinkingConfig"]);L!=null&&a(e,["thinkingConfig"],L);const _=s(n,["topK"]);_!=null&&a(e,["topK"],_);const F=s(n,["topP"]);if(F!=null&&a(e,["topP"],F),s(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function kd(n,e){const t={},i=s(e,["model"]);return i!=null&&a(t,["_url","name"],Y(n,i)),t}function wd(n,e){const t={},i=s(e,["model"]);return i!=null&&a(t,["_url","name"],Y(n,i)),t}function Pd(n){const e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(n,["enableWidget"]);return t!=null&&a(e,["enableWidget"],t),e}function Rd(n){const e={};if(s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=s(n,["timeRangeFilter"]);return t!=null&&a(e,["timeRangeFilter"],t),e}function Md(n){const e={},t=s(n,["aspectRatio"]);t!=null&&a(e,["aspectRatio"],t);const i=s(n,["imageSize"]);if(i!=null&&a(e,["imageSize"],i),s(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Nd(n){const e={},t=s(n,["aspectRatio"]);t!=null&&a(e,["aspectRatio"],t);const i=s(n,["imageSize"]);i!=null&&a(e,["imageSize"],i);const o=s(n,["outputMimeType"]);o!=null&&a(e,["imageOutputOptions","mimeType"],o);const r=s(n,["outputCompressionQuality"]);return r!=null&&a(e,["imageOutputOptions","compressionQuality"],r),e}function Dd(n){const e={},t=s(n,["bytesBase64Encoded"]);t!=null&&a(e,["imageBytes"],Pe(t));const i=s(n,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function Cr(n){const e={},t=s(n,["gcsUri"]);t!=null&&a(e,["gcsUri"],t);const i=s(n,["bytesBase64Encoded"]);i!=null&&a(e,["imageBytes"],Pe(i));const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Mn(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=s(n,["imageBytes"]);t!=null&&a(e,["bytesBase64Encoded"],Pe(t));const i=s(n,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function me(n){const e={},t=s(n,["gcsUri"]);t!=null&&a(e,["gcsUri"],t);const i=s(n,["imageBytes"]);i!=null&&a(e,["bytesBase64Encoded"],Pe(i));const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Ld(n,e,t){const i={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);t!==void 0&&r!=null&&a(t,["_query","pageToken"],r);const l=s(e,["filter"]);t!==void 0&&l!=null&&a(t,["_query","filter"],l);const u=s(e,["queryBase"]);return t!==void 0&&u!=null&&a(t,["_url","models_url"],dr(n,u)),i}function Fd(n,e,t){const i={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);t!==void 0&&r!=null&&a(t,["_query","pageToken"],r);const l=s(e,["filter"]);t!==void 0&&l!=null&&a(t,["_query","filter"],l);const u=s(e,["queryBase"]);return t!==void 0&&u!=null&&a(t,["_url","models_url"],dr(n,u)),i}function Ud(n,e){const t={},i=s(e,["config"]);return i!=null&&Ld(n,i,t),t}function Vd(n,e){const t={},i=s(e,["config"]);return i!=null&&Fd(n,i,t),t}function bd(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const i=s(n,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=s(n,["_self"]);if(o!=null){let r=fr(o);Array.isArray(r)&&(r=r.map(l=>nt(l))),a(e,["models"],r)}return e}function qd(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const i=s(n,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=s(n,["_self"]);if(o!=null){let r=fr(o);Array.isArray(r)&&(r=r.map(l=>tt(l))),a(e,["models"],r)}return e}function Gd(n){const e={},t=s(n,["maskMode"]);t!=null&&a(e,["maskMode"],t);const i=s(n,["segmentationClasses"]);i!=null&&a(e,["maskClasses"],i);const o=s(n,["maskDilation"]);return o!=null&&a(e,["dilation"],o),e}function nt(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const i=s(n,["displayName"]);i!=null&&a(e,["displayName"],i);const o=s(n,["description"]);o!=null&&a(e,["description"],o);const r=s(n,["version"]);r!=null&&a(e,["version"],r);const l=s(n,["_self"]);l!=null&&a(e,["tunedModelInfo"],tf(l));const u=s(n,["inputTokenLimit"]);u!=null&&a(e,["inputTokenLimit"],u);const d=s(n,["outputTokenLimit"]);d!=null&&a(e,["outputTokenLimit"],d);const c=s(n,["supportedGenerationMethods"]);c!=null&&a(e,["supportedActions"],c);const f=s(n,["temperature"]);f!=null&&a(e,["temperature"],f);const p=s(n,["maxTemperature"]);p!=null&&a(e,["maxTemperature"],p);const h=s(n,["topP"]);h!=null&&a(e,["topP"],h);const m=s(n,["topK"]);m!=null&&a(e,["topK"],m);const T=s(n,["thinking"]);return T!=null&&a(e,["thinking"],T),e}function tt(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const i=s(n,["displayName"]);i!=null&&a(e,["displayName"],i);const o=s(n,["description"]);o!=null&&a(e,["description"],o);const r=s(n,["versionId"]);r!=null&&a(e,["version"],r);const l=s(n,["deployedModels"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(h=>jc(h))),a(e,["endpoints"],p)}const u=s(n,["labels"]);u!=null&&a(e,["labels"],u);const d=s(n,["_self"]);d!=null&&a(e,["tunedModelInfo"],of(d));const c=s(n,["defaultCheckpointId"]);c!=null&&a(e,["defaultCheckpointId"],c);const f=s(n,["checkpoints"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>h)),a(e,["checkpoints"],p)}return e}function Hd(n){const e={},t=s(n,["mediaResolution"]);t!=null&&a(e,["mediaResolution"],t);const i=s(n,["codeExecutionResult"]);i!=null&&a(e,["codeExecutionResult"],i);const o=s(n,["executableCode"]);o!=null&&a(e,["executableCode"],o);const r=s(n,["fileData"]);r!=null&&a(e,["fileData"],ed(r));const l=s(n,["functionCall"]);l!=null&&a(e,["functionCall"],nd(l));const u=s(n,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const d=s(n,["inlineData"]);d!=null&&a(e,["inlineData"],xc(d));const c=s(n,["text"]);c!=null&&a(e,["text"],c);const f=s(n,["thought"]);f!=null&&a(e,["thought"],f);const p=s(n,["thoughtSignature"]);p!=null&&a(e,["thoughtSignature"],p);const h=s(n,["videoMetadata"]);return h!=null&&a(e,["videoMetadata"],h),e}function Bd(n){const e={},t=s(n,["productImage"]);return t!=null&&a(e,["image"],me(t)),e}function zd(n,e){const t={},i=s(n,["numberOfImages"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const o=s(n,["baseSteps"]);e!==void 0&&o!=null&&a(e,["parameters","baseSteps"],o);const r=s(n,["outputGcsUri"]);e!==void 0&&r!=null&&a(e,["parameters","storageUri"],r);const l=s(n,["seed"]);e!==void 0&&l!=null&&a(e,["parameters","seed"],l);const u=s(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&a(e,["parameters","safetySetting"],u);const d=s(n,["personGeneration"]);e!==void 0&&d!=null&&a(e,["parameters","personGeneration"],d);const c=s(n,["addWatermark"]);e!==void 0&&c!=null&&a(e,["parameters","addWatermark"],c);const f=s(n,["outputMimeType"]);e!==void 0&&f!=null&&a(e,["parameters","outputOptions","mimeType"],f);const p=s(n,["outputCompressionQuality"]);e!==void 0&&p!=null&&a(e,["parameters","outputOptions","compressionQuality"],p);const h=s(n,["enhancePrompt"]);e!==void 0&&h!=null&&a(e,["parameters","enhancePrompt"],h);const m=s(n,["labels"]);return e!==void 0&&m!=null&&a(e,["labels"],m),t}function Jd(n,e){const t={},i=s(e,["model"]);i!=null&&a(t,["_url","model"],Y(n,i));const o=s(e,["source"]);o!=null&&Yd(o,t);const r=s(e,["config"]);return r!=null&&zd(r,t),t}function $d(n){const e={},t=s(n,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>Rn(o))),a(e,["generatedImages"],i)}return e}function Yd(n,e){const t={},i=s(n,["prompt"]);e!==void 0&&i!=null&&a(e,["instances[0]","prompt"],i);const o=s(n,["personImage"]);e!==void 0&&o!=null&&a(e,["instances[0]","personImage","image"],me(o));const r=s(n,["productImages"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Bd(u))),a(e,["instances[0]","productImages"],l)}return t}function Wd(n){const e={},t=s(n,["referenceImage"]);t!=null&&a(e,["referenceImage"],me(t));const i=s(n,["referenceId"]);i!=null&&a(e,["referenceId"],i);const o=s(n,["referenceType"]);o!=null&&a(e,["referenceType"],o);const r=s(n,["maskImageConfig"]);r!=null&&a(e,["maskImageConfig"],Gd(r));const l=s(n,["controlImageConfig"]);l!=null&&a(e,["controlImageConfig"],Dc(l));const u=s(n,["styleImageConfig"]);u!=null&&a(e,["styleImageConfig"],u);const d=s(n,["subjectImageConfig"]);return d!=null&&a(e,["subjectImageConfig"],d),e}function Er(n){const e={},t=s(n,["safetyAttributes","categories"]);t!=null&&a(e,["categories"],t);const i=s(n,["safetyAttributes","scores"]);i!=null&&a(e,["scores"],i);const o=s(n,["contentType"]);return o!=null&&a(e,["contentType"],o),e}function _r(n){const e={},t=s(n,["safetyAttributes","categories"]);t!=null&&a(e,["categories"],t);const i=s(n,["safetyAttributes","scores"]);i!=null&&a(e,["scores"],i);const o=s(n,["contentType"]);return o!=null&&a(e,["contentType"],o),e}function Od(n){const e={},t=s(n,["category"]);if(t!=null&&a(e,["category"],t),s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=s(n,["threshold"]);return i!=null&&a(e,["threshold"],i),e}function Kd(n){const e={},t=s(n,["image"]);return t!=null&&a(e,["image"],me(t)),e}function Xd(n,e){const t={},i=s(n,["mode"]);e!==void 0&&i!=null&&a(e,["parameters","mode"],i);const o=s(n,["maxPredictions"]);e!==void 0&&o!=null&&a(e,["parameters","maxPredictions"],o);const r=s(n,["confidenceThreshold"]);e!==void 0&&r!=null&&a(e,["parameters","confidenceThreshold"],r);const l=s(n,["maskDilation"]);e!==void 0&&l!=null&&a(e,["parameters","maskDilation"],l);const u=s(n,["binaryColorThreshold"]);e!==void 0&&u!=null&&a(e,["parameters","binaryColorThreshold"],u);const d=s(n,["labels"]);return e!==void 0&&d!=null&&a(e,["labels"],d),t}function Qd(n,e){const t={},i=s(e,["model"]);i!=null&&a(t,["_url","model"],Y(n,i));const o=s(e,["source"]);o!=null&&jd(o,t);const r=s(e,["config"]);return r!=null&&Xd(r,t),t}function Zd(n){const e={},t=s(n,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>Id(o))),a(e,["generatedMasks"],i)}return e}function jd(n,e){const t={},i=s(n,["prompt"]);e!==void 0&&i!=null&&a(e,["instances[0]","prompt"],i);const o=s(n,["image"]);e!==void 0&&o!=null&&a(e,["instances[0]","image"],me(o));const r=s(n,["scribbleImage"]);return e!==void 0&&r!=null&&a(e,["instances[0]","scribble"],Kd(r)),t}function Sr(n){const e={},t=s(n,["languageCode"]);t!=null&&a(e,["languageCode"],t);const i=s(n,["voiceConfig"]);if(i!=null&&a(e,["voiceConfig"],i),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function ef(n){const e={},t=s(n,["functionCallingConfig"]);t!=null&&a(e,["functionCallingConfig"],td(t));const i=s(n,["retrievalConfig"]);return i!=null&&a(e,["retrievalConfig"],i),e}function nf(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(p=>p)),a(e,["functionDeclarations"],f)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(n,["googleSearchRetrieval"]);i!=null&&a(e,["googleSearchRetrieval"],i);const o=s(n,["computerUse"]);o!=null&&a(e,["computerUse"],o);const r=s(n,["fileSearch"]);r!=null&&a(e,["fileSearch"],r);const l=s(n,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(n,["googleMaps"]);u!=null&&a(e,["googleMaps"],Pd(u));const d=s(n,["googleSearch"]);d!=null&&a(e,["googleSearch"],Rd(d));const c=s(n,["urlContext"]);return c!=null&&a(e,["urlContext"],c),e}function Ir(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(h=>id(h))),a(e,["functionDeclarations"],p)}const i=s(n,["retrieval"]);i!=null&&a(e,["retrieval"],i);const o=s(n,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const r=s(n,["computerUse"]);if(r!=null&&a(e,["computerUse"],r),s(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(n,["codeExecution"]);l!=null&&a(e,["codeExecution"],l);const u=s(n,["enterpriseWebSearch"]);u!=null&&a(e,["enterpriseWebSearch"],u);const d=s(n,["googleMaps"]);d!=null&&a(e,["googleMaps"],d);const c=s(n,["googleSearch"]);c!=null&&a(e,["googleSearch"],c);const f=s(n,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function tf(n){const e={},t=s(n,["baseModel"]);t!=null&&a(e,["baseModel"],t);const i=s(n,["createTime"]);i!=null&&a(e,["createTime"],i);const o=s(n,["updateTime"]);return o!=null&&a(e,["updateTime"],o),e}function of(n){const e={},t=s(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&a(e,["baseModel"],t);const i=s(n,["createTime"]);i!=null&&a(e,["createTime"],i);const o=s(n,["updateTime"]);return o!=null&&a(e,["updateTime"],o),e}function rf(n,e){const t={},i=s(n,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const o=s(n,["description"]);e!==void 0&&o!=null&&a(e,["description"],o);const r=s(n,["defaultCheckpointId"]);return e!==void 0&&r!=null&&a(e,["defaultCheckpointId"],r),t}function sf(n,e){const t={},i=s(n,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const o=s(n,["description"]);e!==void 0&&o!=null&&a(e,["description"],o);const r=s(n,["defaultCheckpointId"]);return e!==void 0&&r!=null&&a(e,["defaultCheckpointId"],r),t}function lf(n,e){const t={},i=s(e,["model"]);i!=null&&a(t,["_url","name"],Y(n,i));const o=s(e,["config"]);return o!=null&&rf(o,t),t}function af(n,e){const t={},i=s(e,["model"]);i!=null&&a(t,["_url","model"],Y(n,i));const o=s(e,["config"]);return o!=null&&sf(o,t),t}function uf(n,e){const t={},i=s(n,["outputGcsUri"]);e!==void 0&&i!=null&&a(e,["parameters","storageUri"],i);const o=s(n,["safetyFilterLevel"]);e!==void 0&&o!=null&&a(e,["parameters","safetySetting"],o);const r=s(n,["personGeneration"]);e!==void 0&&r!=null&&a(e,["parameters","personGeneration"],r);const l=s(n,["includeRaiReason"]);e!==void 0&&l!=null&&a(e,["parameters","includeRaiReason"],l);const u=s(n,["outputMimeType"]);e!==void 0&&u!=null&&a(e,["parameters","outputOptions","mimeType"],u);const d=s(n,["outputCompressionQuality"]);e!==void 0&&d!=null&&a(e,["parameters","outputOptions","compressionQuality"],d);const c=s(n,["enhanceInputImage"]);e!==void 0&&c!=null&&a(e,["parameters","upscaleConfig","enhanceInputImage"],c);const f=s(n,["imagePreservationFactor"]);e!==void 0&&f!=null&&a(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const p=s(n,["labels"]);e!==void 0&&p!=null&&a(e,["labels"],p);const h=s(n,["numberOfImages"]);e!==void 0&&h!=null&&a(e,["parameters","sampleCount"],h);const m=s(n,["mode"]);return e!==void 0&&m!=null&&a(e,["parameters","mode"],m),t}function cf(n,e){const t={},i=s(e,["model"]);i!=null&&a(t,["_url","model"],Y(n,i));const o=s(e,["image"]);o!=null&&a(t,["instances[0]","image"],me(o));const r=s(e,["upscaleFactor"]);r!=null&&a(t,["parameters","upscaleConfig","upscaleFactor"],r);const l=s(e,["config"]);return l!=null&&uf(l,t),t}function df(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const i=s(n,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>Rn(r))),a(e,["generatedImages"],o)}return e}function ff(n){const e={},t=s(n,["uri"]);t!=null&&a(e,["uri"],t);const i=s(n,["encodedVideo"]);i!=null&&a(e,["videoBytes"],Pe(i));const o=s(n,["encoding"]);return o!=null&&a(e,["mimeType"],o),e}function pf(n){const e={},t=s(n,["gcsUri"]);t!=null&&a(e,["uri"],t);const i=s(n,["bytesBase64Encoded"]);i!=null&&a(e,["videoBytes"],Pe(i));const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function hf(n){const e={},t=s(n,["image"]);t!=null&&a(e,["_self"],me(t));const i=s(n,["maskMode"]);return i!=null&&a(e,["maskMode"],i),e}function mf(n){const e={},t=s(n,["image"]);t!=null&&a(e,["image"],Mn(t));const i=s(n,["referenceType"]);return i!=null&&a(e,["referenceType"],i),e}function gf(n){const e={},t=s(n,["image"]);t!=null&&a(e,["image"],me(t));const i=s(n,["referenceType"]);return i!=null&&a(e,["referenceType"],i),e}function vr(n){const e={},t=s(n,["uri"]);t!=null&&a(e,["uri"],t);const i=s(n,["videoBytes"]);i!=null&&a(e,["encodedVideo"],Pe(i));const o=s(n,["mimeType"]);return o!=null&&a(e,["encoding"],o),e}function Ar(n){const e={},t=s(n,["uri"]);t!=null&&a(e,["gcsUri"],t);const i=s(n,["videoBytes"]);i!=null&&a(e,["bytesBase64Encoded"],Pe(i));const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yf="Content-Type",Tf="X-Server-Timeout",Cf="User-Agent",it="x-goog-api-client",Ef="1.30.0",_f=`google-genai-sdk/${Ef}`,Sf="v1beta1",If="v1beta",ao=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class vf{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:Sf,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:If,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const o=[this.getRequestUrlInternal(t)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[l,u]of Object.entries(e.queryParams))o.searchParams.append(l,String(u));let r={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=e.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,t,o.toString(),e.abortSignal),this.unaryApiCall(o,r,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[o,r]of Object.entries(t))typeof r=="object"?i[o]=Object.assign(Object.assign({},i[o]),r):r!==void 0&&(i[o]=r);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,t,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let r={};return r.body=e.body,r=await this.includeExtraHttpOptionsToRequestInit(r,t,o.toString(),e.abortSignal),this.streamApiCall(o,r,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i,o){if(t&&t.timeout||o){const r=new AbortController,l=r.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const u=setTimeout(()=>r.abort(),t.timeout);u&&typeof u.unref=="function"&&u.unref()}o&&o.addEventListener("abort",()=>{r.abort()}),e.signal=l}return t&&t.extraBody!==null&&Af(e,t.extraBody),e.headers=await this.getHeadersInternal(t,i),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async o=>(await uo(o),new Zn(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async o=>(await uo(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var t;return Be(this,arguments,function*(){const o=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),r=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:d}=yield Q(o.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=r.decode(d,{stream:!0});try{const p=JSON.parse(c);if("error"in p){const h=JSON.parse(JSON.stringify(p.error)),m=h.status,T=h.code,E=`got status: ${m}. ${JSON.stringify(p)}`;if(T>=400&&T<600)throw new wn({message:E,status:T})}}catch(p){if(p.name==="ApiError")throw p}l+=c;let f=l.match(ao);for(;f;){const p=f[1];try{const h=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Q(new Zn(h)),l=l.slice(f[0].length),f=l.match(ao)}catch(h){throw new Error(`exception parsing stream chunk ${p}. ${h}`)}}}}finally{o.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=_f+" "+this.clientOptions.userAgentExtra;return e[Cf]=t,e[it]=t,e[yf]="application/json",e}async getHeadersInternal(e,t){const i=new Headers;if(e&&e.headers){for(const[o,r]of Object.entries(e.headers))i.append(o,r);e.timeout&&e.timeout>0&&i.append(Tf,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,t),i}getFileName(e){var t;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(t=i.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),i}async uploadFile(e,t){var i;const o={};t!=null&&(o.mimeType=t.mimeType,o.name=t.name,o.displayName=t.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const r=this.clientOptions.uploader,l=await r.stat(e);o.sizeBytes=String(l.size);const u=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=u;const d={file:o},c=this.getFileName(e),f=M("upload/v1beta/files",d._url),p=await this.fetchUploadUrl(f,o.sizeBytes,o.mimeType,c,d,t==null?void 0:t.httpOptions);return r.upload(e,p,this)}async uploadFileToFileSearchStore(e,t,i){var o;const r=this.clientOptions.uploader,l=await r.stat(t),u=String(l.size),d=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(t),p={};i!=null&&i.customMetadata&&(p.customMetadata=i.customMetadata),i!=null&&i.chunkingConfig&&(p.chunkingConfig=i.chunkingConfig);const h=await this.fetchUploadUrl(c,u,d,f,p,i==null?void 0:i.httpOptions);return r.uploadToFileSearchStore(t,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,i,o,r,l){var u;let d={};l?d=l:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${i}`},o?{"X-Goog-Upload-File-Name":o}:{})};const c=await this.request({path:e,body:JSON.stringify(r),httpMethod:"POST",httpOptions:d});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(u=c==null?void 0:c.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function uo(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let i;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await n.json():i={error:{message:await n.text(),code:n.status,status:n.statusText}};const o=JSON.stringify(i);throw t>=400&&t<600?new wn({message:o,status:t}):new Error(o)}}function Af(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const r=JSON.parse(n.body);if(typeof r=="object"&&r!==null&&!Array.isArray(r))t=r;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(r,l){const u=Object.assign({},r);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const c=l[d],f=u[d];c&&typeof c=="object"&&!Array.isArray(c)&&f&&typeof f=="object"&&!Array.isArray(f)?u[d]=i(f,c):(f&&c&&typeof f!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof f}, New type: ${typeof c}. Overwriting.`),u[d]=c)}return u}const o=i(t,e);n.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xf="mcp_used/unknown";let kf=!1;function xr(n){for(const e of n)if(wf(e)||typeof e=="object"&&"inputSchema"in e)return!0;return kf}function kr(n){var e;const t=(e=n[it])!==null&&e!==void 0?e:"";n[it]=(t+` ${xf}`).trimStart()}function wf(n){return n!==null&&typeof n=="object"&&n instanceof St}function Pf(n,e=100){return Be(this,arguments,function*(){let i,o=0;for(;o<e;){const r=yield Q(n.listTools({cursor:i}));for(const l of r.tools)yield yield Q(l),o++;if(!r.nextCursor)break;i=r.nextCursor}})}class St{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new St(e,t)}async initialize(){var e,t,i,o;if(this.mcpTools.length>0)return;const r={},l=[];for(const f of this.mcpClients)try{for(var u=!0,d=(t=void 0,an(Pf(f))),c;c=await d.next(),e=c.done,!e;u=!0){o=c.value,u=!1;const p=o;l.push(p);const h=p.name;if(r[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);r[h]=f}}catch(p){t={error:p}}finally{try{!u&&!e&&(i=d.return)&&await i.call(d)}finally{if(t)throw t.error}}this.mcpTools=l,this.functionNameToMcpClient=r}async tool(){return await this.initialize(),Ea(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const l=await o.callTool({name:i.name,arguments:i.args},void 0,r);t.push({functionResponse:{name:i.name,response:l.isError?{error:l}:l}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Rf(n,e,t){const i=new fa;let o;t.data instanceof Blob?o=JSON.parse(await t.data.text()):o=JSON.parse(t.data),Object.assign(i,o),e(i)}class Mf{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),l=Lf(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${o}/ws/google.ai.generativelanguage.${r}.GenerativeService.BidiGenerateMusic?key=${u}`;let c=()=>{};const f=new Promise(S=>{c=S}),p=e.callbacks,h=function(){c({})},m=this.apiClient,T={onopen:h,onmessage:S=>{Rf(m,p.onmessage,S)},onerror:(t=p==null?void 0:p.onerror)!==null&&t!==void 0?t:function(S){},onclose:(i=p==null?void 0:p.onclose)!==null&&i!==void 0?i:function(S){}},E=this.webSocketFactory.create(d,Df(l),T);E.connect(),await f;const A={setup:{model:Y(this.apiClient,e.model)}};return E.send(JSON.stringify(A)),new Nf(E,this.apiClient)}}class Nf{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=yc(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=gc(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Ge.PLAY)}pause(){this.sendPlaybackControl(Ge.PAUSE)}stop(){this.sendPlaybackControl(Ge.STOP)}resetContext(){this.sendPlaybackControl(Ge.RESET_CONTEXT)}close(){this.conn.close()}}function Df(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function Lf(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ff="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Uf(n,e,t){const i=new da;let o;t.data instanceof Blob?o=await t.data.text():t.data instanceof ArrayBuffer?o=new TextDecoder().decode(t.data):o=t.data;const r=JSON.parse(o);if(n.isVertexAI()){const l=Ec(r);Object.assign(i,l)}else Object.assign(i,r);e(i)}class Vf{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new Mf(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,o,r,l,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let f;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&xr(e.config.tools)&&kr(p);const h=Hf(p);if(this.apiClient.isVertexAI())f=`${d}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,f);else{const P=this.apiClient.getApiKey();let V="BidiGenerateContent",D="key";P!=null&&P.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),V="BidiGenerateContentConstrained",D="access_token"),f=`${d}/ws/google.ai.generativelanguage.${c}.GenerativeService.${V}?${D}=${P}`}let m=()=>{};const T=new Promise(P=>{m=P}),E=e.callbacks,I=function(){var P;(P=E==null?void 0:E.onopen)===null||P===void 0||P.call(E),m({})},C=this.apiClient,A={onopen:I,onmessage:P=>{Uf(C,E.onmessage,P)},onerror:(t=E==null?void 0:E.onerror)!==null&&t!==void 0?t:function(P){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function(P){}},S=this.webSocketFactory.create(f,Gf(h),A);S.connect(),await T;let N=Y(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&N.startsWith("publishers/")){const P=this.apiClient.getProject(),V=this.apiClient.getLocation();N=`projects/${P}/locations/${V}/`+N}let L={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Sn.AUDIO]}:e.config.responseModalities=[Sn.AUDIO]),!((r=e.config)===null||r===void 0)&&r.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const _=(u=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],F=[];for(const P of _)if(this.isCallableTool(P)){const V=P;F.push(await V.tool())}else F.push(P);F.length>0&&(e.config.tools=F);const G={model:N,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?L=mc(this.apiClient,G):L=hc(this.apiClient,G),delete L.config,S.send(JSON.stringify(L)),new qf(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const bf={turnComplete:!0};class qf{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=ce(t.turns),e.isVertexAI()||(i=i.map(o=>Pn(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const r of i){if(typeof r!="object"||r===null||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error(Ff)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},bf),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:Cc(e)}:t={realtimeInput:Tc(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function Gf(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function Hf(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const co=10;function fo(n){var e,t,i;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const l of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(ze(l)){o=!0;break}if(!o)return!0;const r=(i=n==null?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return r&&(r<0||!Number.isInteger(r))||r==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",r),!0):!1}function ze(n){return"callTool"in n&&typeof n.callTool=="function"}function Bf(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(o=>ze(o)))!==null&&i!==void 0?i:!1}function po(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((i,o)=>{if(ze(i))return;const r=i;r.functionDeclarations&&r.functionDeclarations.length>0&&t.push(o)}),t}function ho(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zf extends ve{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,o,r,l,u;const d=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!Bf(t)||fo(t.config))return await this.generateContentInternal(d);const c=po(t);if(c.length>0){const E=c.map(I=>`tools[${I}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let f,p;const h=ce(d.contents),m=(r=(o=(i=d.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:co;let T=0;for(;T<m&&(f=await this.generateContentInternal(d),!(!f.functionCalls||f.functionCalls.length===0));){const E=f.candidates[0].content,I=[];for(const C of(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(ze(C)){const S=await C.callTool(f.functionCalls);I.push(...S)}T++,p={role:"user",parts:I},d.contents=ce(d.contents),d.contents.push(E),d.contents.push(p),ho(d.config)&&(h.push(E),h.push(p))}return ho(d.config)&&(f.automaticFunctionCallingHistory=h),f},this.generateContentStream=async t=>{var i,o,r,l,u;if(this.maybeMoveToResponseJsonSchem(t),fo(t.config)){const p=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(p)}const d=po(t);if(d.length>0){const p=d.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(r=(o=(i=t==null?void 0:t.config)===null||i===void 0?void 0:i.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||r===void 0?void 0:r.streamFunctionCallArguments,f=(u=(l=t==null?void 0:t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(c&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var o;let r;const l=[];if(i!=null&&i.generatedImages)for(const d of i.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((o=d==null?void 0:d.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?r=d==null?void 0:d.safetyAttributes:l.push(d);let u;return r?u={generatedImages:l,positivePromptSafetyAttributes:r,sdkHttpResponse:i.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:i.sdkHttpResponse},u}),this.list=async t=>{var i;const l={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((i=l.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new De(Ie.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const o={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(o)},this.generateVideos=async t=>{var i,o,r,l,u,d;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=t.video)===null||i===void 0)&&i.uri&&(!((o=t.video)===null||o===void 0)&&o.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((l=(r=t.source)===null||r===void 0?void 0:r.video)===null||l===void 0)&&l.uri&&(!((d=(u=t.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,i,o;const r=(t=e.config)===null||t===void 0?void 0:t.tools;if(!r)return e;const l=await Promise.all(r.map(async d=>ze(d)?await d.tool():d)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(u.config.tools=l,e.config&&e.config.tools&&xr(e.config.tools)){const d=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let c=Object.assign({},d);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),kr(c),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return u}async initAfcToolsMap(e){var t,i,o;const r=new Map;for(const l of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(ze(l)){const u=l,d=await u.tool();for(const c of(o=d.functionDeclarations)!==null&&o!==void 0?o:[]){if(!c.name)throw new Error("Function declaration name is required.");if(r.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);r.set(c.name,u)}}return r}async processAfcStream(e){var t,i,o;const r=(o=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:co;let l=!1,u=0;const d=await this.initAfcToolsMap(e);return(function(c,f,p){var h,m;return Be(this,arguments,function*(){for(var T,E,I,C;u<r;){l&&(u++,l=!1);const L=yield Q(c.processParamsMaybeAddMcpUsage(p)),_=yield Q(c.generateContentStreamInternal(L)),F=[],G=[];try{for(var A=!0,S=(E=void 0,an(_)),N;N=yield Q(S.next()),T=N.done,!T;A=!0){C=N.value,A=!1;const P=C;if(yield yield Q(P),P.candidates&&(!((h=P.candidates[0])===null||h===void 0)&&h.content)){G.push(P.candidates[0].content);for(const V of(m=P.candidates[0].content.parts)!==null&&m!==void 0?m:[])if(u<r&&V.functionCall){if(!V.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(V.functionCall.name)){const D=yield Q(f.get(V.functionCall.name).callTool([V.functionCall]));F.push(...D)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${V.functionCall.name}`)}}}}catch(P){E={error:P}}finally{try{!A&&!T&&(I=S.return)&&(yield Q(I.call(S)))}finally{if(E)throw E.error}}if(F.length>0){l=!0;const P=new nn;P.candidates=[{content:{role:"user",parts:F}}],yield yield Q(P);const V=[];V.push(...G),V.push({role:"user",parts:F});const D=ce(p.contents).concat(V);p.contents=D}else break}})})(this,d,e)}async generateContentInternal(e){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=ro(this.apiClient,e);return u=M("{model}:generateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=lo(f),h=new nn;return Object.assign(h,p),h})}else{const c=oo(this.apiClient,e);return u=M("{model}:generateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=so(f),h=new nn;return Object.assign(h,p),h})}}async generateContentStreamInternal(e){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=ro(this.apiClient,e);return u=M("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(p){return Be(this,arguments,function*(){var h,m,T,E;try{for(var I=!0,C=an(p),A;A=yield Q(C.next()),h=A.done,!h;I=!0){E=A.value,I=!1;const S=E,N=lo(yield Q(S.json()));N.sdkHttpResponse={headers:S.headers};const L=new nn;Object.assign(L,N),yield yield Q(L)}}catch(S){m={error:S}}finally{try{!I&&!h&&(T=C.return)&&(yield Q(T.call(C)))}finally{if(m)throw m.error}}})})}else{const c=oo(this.apiClient,e);return u=M("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(p){return Be(this,arguments,function*(){var h,m,T,E;try{for(var I=!0,C=an(p),A;A=yield Q(C.next()),h=A.done,!h;I=!0){E=A.value,I=!1;const S=E,N=so(yield Q(S.json()));N.sdkHttpResponse={headers:S.headers};const L=new nn;Object.assign(L,N),yield yield Q(L)}}catch(S){m={error:S}}finally{try{!I&&!h&&(T=C.return)&&(yield Q(T.call(C)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Xc(this.apiClient,e);return u=M("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Zc(f),h=new Bi;return Object.assign(h,p),h})}else{const c=Kc(this.apiClient,e);return u=M("{model}:batchEmbedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Qc(f),h=new Bi;return Object.assign(h,p),h})}}async generateImagesInternal(e){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=ud(this.apiClient,e);return u=M("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=dd(f),h=new zi;return Object.assign(h,p),h})}else{const c=ad(this.apiClient,e);return u=M("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=cd(f),h=new zi;return Object.assign(h,p),h})}}async editImageInternal(e){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const u=$c(this.apiClient,e);return r=M("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>{const c=Yc(d),f=new ea;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const u=cf(this.apiClient,e);return r=M("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>{const c=df(d),f=new na;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const u=Jd(this.apiClient,e);return r=M("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const c=$d(d),f=new ta;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const u=Qd(this.apiClient,e);return r=M("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const c=Zd(d),f=new ia;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=wd(this.apiClient,e);return u=M("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>tt(f))}else{const c=kd(this.apiClient,e);return u=M("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>nt(f))}}async listInternal(e){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Vd(this.apiClient,e);return u=M("{models_url}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=qd(f),h=new Ji;return Object.assign(h,p),h})}else{const c=Ud(this.apiClient,e);return u=M("{models_url}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=bd(f),h=new Ji;return Object.assign(h,p),h})}}async update(e){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=af(this.apiClient,e);return u=M("{model}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>tt(f))}else{const c=lf(this.apiClient,e);return u=M("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>nt(f))}}async delete(e){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Hc(this.apiClient,e);return u=M("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=zc(f),h=new $i;return Object.assign(h,p),h})}else{const c=Gc(this.apiClient,e);return u=M("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Bc(f),h=new $i;return Object.assign(h,p),h})}}async countTokens(e){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Vc(this.apiClient,e);return u=M("{model}:countTokens",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=qc(f),h=new Yi;return Object.assign(h,p),h})}else{const c=Uc(this.apiClient,e);return u=M("{model}:countTokens",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=bc(f),h=new Yi;return Object.assign(h,p),h})}}async computeTokens(e){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const u=Pc(this.apiClient,e);return r=M("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>{const c=Rc(d),f=new oa;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=yd(this.apiClient,e);return u=M("{model}:predictLongRunning",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>{const p=md(f),h=new In;return Object.assign(h,p),h})}else{const c=gd(this.apiClient,e);return u=M("{model}:predictLongRunning",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>{const p=hd(f),h=new In;return Object.assign(h,p),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jf extends ve{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=t.name.split("/operations/")[0];let r;i&&"httpOptions"in i&&(r=i.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:o,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=t.name.split("/operations/")[0];let r;i&&"httpOptions"in i&&(r=i.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:o,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Ol(e);return u=M("{operationName}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l}else{const c=Wl(e);return u=M("{operationName}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l}}async fetchPredictVideosOperationInternal(e){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const u=Gl(e);return r=M("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $f(n){const e={},t=s(n,["data"]);if(t!=null&&a(e,["data"],t),s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(n,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function Yf(n){const e={},t=s(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>np(r))),a(e,["parts"],o)}const i=s(n,["role"]);return i!=null&&a(e,["role"],i),e}function Wf(n,e,t){const i={},o=s(e,["expireTime"]);t!==void 0&&o!=null&&a(t,["expireTime"],o);const r=s(e,["newSessionExpireTime"]);t!==void 0&&r!=null&&a(t,["newSessionExpireTime"],r);const l=s(e,["uses"]);t!==void 0&&l!=null&&a(t,["uses"],l);const u=s(e,["liveConnectConstraints"]);t!==void 0&&u!=null&&a(t,["bidiGenerateContentSetup"],ep(n,u));const d=s(e,["lockAdditionalFields"]);return t!==void 0&&d!=null&&a(t,["fieldMask"],d),i}function Of(n,e){const t={},i=s(e,["config"]);return i!=null&&a(t,["config"],Wf(n,i,t)),t}function Kf(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);const i=s(n,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function Xf(n){const e={},t=s(n,["id"]);t!=null&&a(e,["id"],t);const i=s(n,["args"]);i!=null&&a(e,["args"],i);const o=s(n,["name"]);if(o!=null&&a(e,["name"],o),s(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Qf(n){const e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(n,["enableWidget"]);return t!=null&&a(e,["enableWidget"],t),e}function Zf(n){const e={};if(s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=s(n,["timeRangeFilter"]);return t!=null&&a(e,["timeRangeFilter"],t),e}function jf(n,e){const t={},i=s(n,["generationConfig"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig"],i);const o=s(n,["responseModalities"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig","responseModalities"],o);const r=s(n,["temperature"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","temperature"],r);const l=s(n,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(n,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const d=s(n,["maxOutputTokens"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","maxOutputTokens"],d);const c=s(n,["mediaResolution"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","mediaResolution"],c);const f=s(n,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const p=s(n,["speechConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","speechConfig"],_t(p));const h=s(n,["thinkingConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","thinkingConfig"],h);const m=s(n,["enableAffectiveDialog"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],m);const T=s(n,["systemInstruction"]);e!==void 0&&T!=null&&a(e,["setup","systemInstruction"],Yf(ne(T)));const E=s(n,["tools"]);if(e!==void 0&&E!=null){let _=We(E);Array.isArray(_)&&(_=_.map(F=>ip(Ye(F)))),a(e,["setup","tools"],_)}const I=s(n,["sessionResumption"]);e!==void 0&&I!=null&&a(e,["setup","sessionResumption"],tp(I));const C=s(n,["inputAudioTranscription"]);e!==void 0&&C!=null&&a(e,["setup","inputAudioTranscription"],C);const A=s(n,["outputAudioTranscription"]);e!==void 0&&A!=null&&a(e,["setup","outputAudioTranscription"],A);const S=s(n,["realtimeInputConfig"]);e!==void 0&&S!=null&&a(e,["setup","realtimeInputConfig"],S);const N=s(n,["contextWindowCompression"]);e!==void 0&&N!=null&&a(e,["setup","contextWindowCompression"],N);const L=s(n,["proactivity"]);return e!==void 0&&L!=null&&a(e,["setup","proactivity"],L),t}function ep(n,e){const t={},i=s(e,["model"]);i!=null&&a(t,["setup","model"],Y(n,i));const o=s(e,["config"]);return o!=null&&a(t,["config"],jf(o,t)),t}function np(n){const e={},t=s(n,["mediaResolution"]);t!=null&&a(e,["mediaResolution"],t);const i=s(n,["codeExecutionResult"]);i!=null&&a(e,["codeExecutionResult"],i);const o=s(n,["executableCode"]);o!=null&&a(e,["executableCode"],o);const r=s(n,["fileData"]);r!=null&&a(e,["fileData"],Kf(r));const l=s(n,["functionCall"]);l!=null&&a(e,["functionCall"],Xf(l));const u=s(n,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const d=s(n,["inlineData"]);d!=null&&a(e,["inlineData"],$f(d));const c=s(n,["text"]);c!=null&&a(e,["text"],c);const f=s(n,["thought"]);f!=null&&a(e,["thought"],f);const p=s(n,["thoughtSignature"]);p!=null&&a(e,["thoughtSignature"],p);const h=s(n,["videoMetadata"]);return h!=null&&a(e,["videoMetadata"],h),e}function tp(n){const e={},t=s(n,["handle"]);if(t!=null&&a(e,["handle"],t),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ip(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(p=>p)),a(e,["functionDeclarations"],f)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(n,["googleSearchRetrieval"]);i!=null&&a(e,["googleSearchRetrieval"],i);const o=s(n,["computerUse"]);o!=null&&a(e,["computerUse"],o);const r=s(n,["fileSearch"]);r!=null&&a(e,["fileSearch"],r);const l=s(n,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(n,["googleMaps"]);u!=null&&a(e,["googleMaps"],Qf(u));const d=s(n,["googleSearch"]);d!=null&&a(e,["googleSearch"],Zf(d));const c=s(n,["urlContext"]);return c!=null&&a(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function op(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const i=n[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(r=>`${t}.${r}`);e.push(...o)}else e.push(t)}return e.join(",")}function rp(n,e){let t=null;const i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const r=i.setup;typeof r=="object"&&r!==null?(n.bidiGenerateContentSetup=r,t=r):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;const o=n.fieldMask;if(t){const r=op(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)r?n.fieldMask=r:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];o.length>0&&(u=o.map(c=>l.includes(c)?`generationConfig.${c}`:c));const d=[];r&&d.push(r),u.length>0&&d.push(...u),d.length>0?n.fieldMask=d.join(","):delete n.fieldMask}else delete n.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?n.fieldMask=o.join(","):delete n.fieldMask;return n}class sp extends ve{constructor(e){super(),this.apiClient=e}async create(e){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=Of(this.apiClient,e);r=M("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const d=rp(u,e.config);return o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lp(n,e){const t={},i=s(n,["displayName"]);return e!==void 0&&i!=null&&a(e,["displayName"],i),t}function ap(n){const e={},t=s(n,["config"]);return t!=null&&lp(t,e),e}function up(n,e){const t={},i=s(n,["force"]);return e!==void 0&&i!=null&&a(e,["_query","force"],i),t}function cp(n){const e={},t=s(n,["name"]);t!=null&&a(e,["_url","name"],t);const i=s(n,["config"]);return i!=null&&up(i,e),e}function dp(n){const e={},t=s(n,["name"]);return t!=null&&a(e,["_url","name"],t),e}function fp(n,e){const t={},i=s(n,["customMetadata"]);if(e!==void 0&&i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["customMetadata"],r)}const o=s(n,["chunkingConfig"]);return e!==void 0&&o!=null&&a(e,["chunkingConfig"],o),t}function pp(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const i=s(n,["metadata"]);i!=null&&a(e,["metadata"],i);const o=s(n,["done"]);o!=null&&a(e,["done"],o);const r=s(n,["error"]);r!=null&&a(e,["error"],r);const l=s(n,["response"]);return l!=null&&a(e,["response"],mp(l)),e}function hp(n){const e={},t=s(n,["fileSearchStoreName"]);t!=null&&a(e,["_url","file_search_store_name"],t);const i=s(n,["fileName"]);i!=null&&a(e,["fileName"],i);const o=s(n,["config"]);return o!=null&&fp(o,e),e}function mp(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const i=s(n,["parent"]);i!=null&&a(e,["parent"],i);const o=s(n,["documentName"]);return o!=null&&a(e,["documentName"],o),e}function gp(n,e){const t={},i=s(n,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const o=s(n,["pageToken"]);return e!==void 0&&o!=null&&a(e,["_query","pageToken"],o),t}function yp(n){const e={},t=s(n,["config"]);return t!=null&&gp(t,e),e}function Tp(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const i=s(n,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=s(n,["fileSearchStores"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["fileSearchStores"],r)}return e}function Cp(n,e){const t={},i=s(n,["mimeType"]);e!==void 0&&i!=null&&a(e,["mimeType"],i);const o=s(n,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const r=s(n,["customMetadata"]);if(e!==void 0&&r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),a(e,["customMetadata"],u)}const l=s(n,["chunkingConfig"]);return e!==void 0&&l!=null&&a(e,["chunkingConfig"],l),t}function Ep(n){const e={},t=s(n,["fileSearchStoreName"]);t!=null&&a(e,["_url","file_search_store_name"],t);const i=s(n,["config"]);return i!=null&&Cp(i,e),e}function _p(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sp(n,e){const t={},i=s(n,["force"]);return e!==void 0&&i!=null&&a(e,["_query","force"],i),t}function Ip(n){const e={},t=s(n,["name"]);t!=null&&a(e,["_url","name"],t);const i=s(n,["config"]);return i!=null&&Sp(i,e),e}function vp(n){const e={},t=s(n,["name"]);return t!=null&&a(e,["_url","name"],t),e}function Ap(n,e){const t={},i=s(n,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const o=s(n,["pageToken"]);return e!==void 0&&o!=null&&a(e,["_query","pageToken"],o),t}function xp(n){const e={},t=s(n,["parent"]);t!=null&&a(e,["_url","parent"],t);const i=s(n,["config"]);return i!=null&&Ap(i,e),e}function kp(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const i=s(n,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=s(n,["documents"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["documents"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wp extends ve{constructor(e){super(),this.apiClient=e,this.list=async t=>new De(Ie.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:t.parent,config:i.config}),await this.listInternal(t),t)}async get(e){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=vp(e);return r=M("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(e){var t,i;let o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Ip(e);o=M("{name}",l._url),r=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=xp(e);return r=M("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const c=kp(d),f=new ra;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pp extends ve{constructor(e,t=new wp(e)){super(),this.apiClient=e,this.documents=t,this.list=async(i={})=>new De(Ie.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ap(e);return r=M("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async get(e){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=dp(e);return r=M("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(e){var t,i;let o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=cp(e);o=M("{name}",l._url),r=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=yp(e);return r=M("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const c=Tp(d),f=new sa;return Object.assign(f,c),f})}}async uploadToFileSearchStoreInternal(e){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Ep(e);return r=M("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const c=_p(d),f=new la;return Object.assign(f,c),f})}}async importFile(e){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=hp(e);return r=M("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const c=pp(d),f=new gt;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rp(n,e){const t={},i=s(n,["name"]);return i!=null&&a(t,["_url","name"],i),t}function Mp(n,e){const t={},i=s(n,["name"]);return i!=null&&a(t,["_url","name"],i),t}function Np(n,e,t){const i={};if(s(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=s(n,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&a(e,["displayName"],o),s(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=s(n,["epochCount"]);e!==void 0&&r!=null&&a(e,["tuningTask","hyperparameters","epochCount"],r);const l=s(n,["learningRateMultiplier"]);if(l!=null&&a(i,["tuningTask","hyperparameters","learningRateMultiplier"],l),s(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=s(n,["batchSize"]);e!==void 0&&u!=null&&a(e,["tuningTask","hyperparameters","batchSize"],u);const d=s(n,["learningRate"]);if(e!==void 0&&d!=null&&a(e,["tuningTask","hyperparameters","learningRate"],d),s(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(s(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function Dp(n,e,t){const i={};let o=s(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const m=s(n,["validationDataset"]);e!==void 0&&m!=null&&a(e,["supervisedTuningSpec"],mo(m))}else if(o==="PREFERENCE_TUNING"){const m=s(n,["validationDataset"]);e!==void 0&&m!=null&&a(e,["preferenceOptimizationSpec"],mo(m))}const r=s(n,["tunedModelDisplayName"]);e!==void 0&&r!=null&&a(e,["tunedModelDisplayName"],r);const l=s(n,["description"]);e!==void 0&&l!=null&&a(e,["description"],l);let u=s(t,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const m=s(n,["epochCount"]);e!==void 0&&m!=null&&a(e,["supervisedTuningSpec","hyperParameters","epochCount"],m)}else if(u==="PREFERENCE_TUNING"){const m=s(n,["epochCount"]);e!==void 0&&m!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],m)}let d=s(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const m=s(n,["learningRateMultiplier"]);e!==void 0&&m!=null&&a(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m)}else if(d==="PREFERENCE_TUNING"){const m=s(n,["learningRateMultiplier"]);e!==void 0&&m!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],m)}let c=s(t,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const m=s(n,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&a(e,["supervisedTuningSpec","exportLastCheckpointOnly"],m)}else if(c==="PREFERENCE_TUNING"){const m=s(n,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&a(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],m)}let f=s(t,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const m=s(n,["adapterSize"]);e!==void 0&&m!=null&&a(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m)}else if(f==="PREFERENCE_TUNING"){const m=s(n,["adapterSize"]);e!==void 0&&m!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],m)}if(s(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=s(n,["labels"]);e!==void 0&&p!=null&&a(e,["labels"],p);const h=s(n,["beta"]);return e!==void 0&&h!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),i}function Lp(n,e){const t={},i=s(n,["baseModel"]);i!=null&&a(t,["baseModel"],i);const o=s(n,["preTunedModel"]);o!=null&&a(t,["preTunedModel"],o);const r=s(n,["trainingDataset"]);r!=null&&$p(r);const l=s(n,["config"]);return l!=null&&Np(l,t),t}function Fp(n,e){const t={},i=s(n,["baseModel"]);i!=null&&a(t,["baseModel"],i);const o=s(n,["preTunedModel"]);o!=null&&a(t,["preTunedModel"],o);const r=s(n,["trainingDataset"]);r!=null&&Yp(r,t,e);const l=s(n,["config"]);return l!=null&&Dp(l,t,e),t}function Up(n,e){const t={},i=s(n,["name"]);return i!=null&&a(t,["_url","name"],i),t}function Vp(n,e){const t={},i=s(n,["name"]);return i!=null&&a(t,["_url","name"],i),t}function bp(n,e,t){const i={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);e!==void 0&&r!=null&&a(e,["_query","pageToken"],r);const l=s(n,["filter"]);return e!==void 0&&l!=null&&a(e,["_query","filter"],l),i}function qp(n,e,t){const i={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);e!==void 0&&r!=null&&a(e,["_query","pageToken"],r);const l=s(n,["filter"]);return e!==void 0&&l!=null&&a(e,["_query","filter"],l),i}function Gp(n,e){const t={},i=s(n,["config"]);return i!=null&&bp(i,t),t}function Hp(n,e){const t={},i=s(n,["config"]);return i!=null&&qp(i,t),t}function Bp(n,e){const t={},i=s(n,["sdkHttpResponse"]);i!=null&&a(t,["sdkHttpResponse"],i);const o=s(n,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(n,["tunedModels"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>wr(u))),a(t,["tuningJobs"],l)}return t}function zp(n,e){const t={},i=s(n,["sdkHttpResponse"]);i!=null&&a(t,["sdkHttpResponse"],i);const o=s(n,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(n,["tuningJobs"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>ot(u))),a(t,["tuningJobs"],l)}return t}function Jp(n,e){const t={},i=s(n,["name"]);i!=null&&a(t,["model"],i);const o=s(n,["name"]);return o!=null&&a(t,["endpoint"],o),t}function $p(n,e){const t={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=s(n,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>r)),a(t,["examples","examples"],o)}return t}function Yp(n,e,t){const i={};let o=s(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=s(n,["gcsUri"]);e!==void 0&&l!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=s(n,["gcsUri"]);e!==void 0&&l!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let r=s(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const l=s(n,["vertexDatasetResource"]);e!==void 0&&l!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(r==="PREFERENCE_TUNING"){const l=s(n,["vertexDatasetResource"]);e!==void 0&&l!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(s(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function wr(n,e){const t={},i=s(n,["sdkHttpResponse"]);i!=null&&a(t,["sdkHttpResponse"],i);const o=s(n,["name"]);o!=null&&a(t,["name"],o);const r=s(n,["state"]);r!=null&&a(t,["state"],ur(r));const l=s(n,["createTime"]);l!=null&&a(t,["createTime"],l);const u=s(n,["tuningTask","startTime"]);u!=null&&a(t,["startTime"],u);const d=s(n,["tuningTask","completeTime"]);d!=null&&a(t,["endTime"],d);const c=s(n,["updateTime"]);c!=null&&a(t,["updateTime"],c);const f=s(n,["description"]);f!=null&&a(t,["description"],f);const p=s(n,["baseModel"]);p!=null&&a(t,["baseModel"],p);const h=s(n,["_self"]);return h!=null&&a(t,["tunedModel"],Jp(h)),t}function ot(n,e){const t={},i=s(n,["sdkHttpResponse"]);i!=null&&a(t,["sdkHttpResponse"],i);const o=s(n,["name"]);o!=null&&a(t,["name"],o);const r=s(n,["state"]);r!=null&&a(t,["state"],ur(r));const l=s(n,["createTime"]);l!=null&&a(t,["createTime"],l);const u=s(n,["startTime"]);u!=null&&a(t,["startTime"],u);const d=s(n,["endTime"]);d!=null&&a(t,["endTime"],d);const c=s(n,["updateTime"]);c!=null&&a(t,["updateTime"],c);const f=s(n,["error"]);f!=null&&a(t,["error"],f);const p=s(n,["description"]);p!=null&&a(t,["description"],p);const h=s(n,["baseModel"]);h!=null&&a(t,["baseModel"],h);const m=s(n,["tunedModel"]);m!=null&&a(t,["tunedModel"],m);const T=s(n,["preTunedModel"]);T!=null&&a(t,["preTunedModel"],T);const E=s(n,["supervisedTuningSpec"]);E!=null&&a(t,["supervisedTuningSpec"],E);const I=s(n,["preferenceOptimizationSpec"]);I!=null&&a(t,["preferenceOptimizationSpec"],I);const C=s(n,["tuningDataStats"]);C!=null&&a(t,["tuningDataStats"],C);const A=s(n,["encryptionSpec"]);A!=null&&a(t,["encryptionSpec"],A);const S=s(n,["partnerModelTuningSpec"]);S!=null&&a(t,["partnerModelTuningSpec"],S);const N=s(n,["customBaseModel"]);N!=null&&a(t,["customBaseModel"],N);const L=s(n,["experiment"]);L!=null&&a(t,["experiment"],L);const _=s(n,["labels"]);_!=null&&a(t,["labels"],_);const F=s(n,["outputUri"]);F!=null&&a(t,["outputUri"],F);const G=s(n,["pipelineJob"]);G!=null&&a(t,["pipelineJob"],G);const P=s(n,["serviceAccount"]);P!=null&&a(t,["serviceAccount"],P);const V=s(n,["tunedModelDisplayName"]);V!=null&&a(t,["tunedModelDisplayName"],V);const D=s(n,["veoTuningSpec"]);return D!=null&&a(t,["veoTuningSpec"],D),t}function Wp(n,e){const t={},i=s(n,["sdkHttpResponse"]);i!=null&&a(t,["sdkHttpResponse"],i);const o=s(n,["name"]);o!=null&&a(t,["name"],o);const r=s(n,["metadata"]);r!=null&&a(t,["metadata"],r);const l=s(n,["done"]);l!=null&&a(t,["done"],l);const u=s(n,["error"]);return u!=null&&a(t,["error"],u),t}function mo(n,e){const t={},i=s(n,["gcsUri"]);i!=null&&a(t,["validationDatasetUri"],i);const o=s(n,["vertexDatasetResource"]);return o!=null&&a(t,["validationDatasetUri"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Op extends ve{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new De(Ie.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.tune=async t=>{var i;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const o={tunedModelName:t.baseModel};!((i=t.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(o.checkpointId=t.config.preTunedModelCheckpointId);const r=Object.assign(Object.assign({},t),{preTunedModel:o});return r.baseModel=void 0,await this.tuneInternal(r)}else{const o=Object.assign({},t);return await this.tuneInternal(o)}else{const o=Object.assign({},t),r=await this.tuneMldevInternal(o);let l="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?l=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(l=r.name.split("/operations/")[0]),{name:l,state:Qn.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Vp(e);return u=M("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>ot(f))}else{const c=Up(e);return u=M("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>wr(f))}}async listInternal(e){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Hp(e);return u=M("tuningJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=zp(f),h=new Wi;return Object.assign(h,p),h})}else{const c=Gp(e);return u=M("tunedModels",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Bp(f),h=new Wi;return Object.assign(h,p),h})}}async cancel(e){var t,i,o,r;let l="",u={};if(this.apiClient.isVertexAI()){const d=Mp(e);l=M("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const d=Rp(e);l=M("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async tuneInternal(e){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const u=Fp(e,e);return r=M("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>ot(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Lp(e);return r=M("tunedModels",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>Wp(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kp{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Xp=1024*1024*8,Qp=3,Zp=1e3,jp=2,An="x-goog-upload-status";async function eh(n,e,t){var i;const o=await Pr(n,e,t),r=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[An])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return r.file}async function nh(n,e,t){var i;const o=await Pr(n,e,t),r=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[An])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=ir(r),u=new yt;return Object.assign(u,l),u}async function Pr(n,e,t){var i,o;let r=0,l=0,u=new Zn(new Response),d="upload";for(r=n.size;l<r;){const c=Math.min(Xp,r-l),f=n.slice(l,l+c);l+c>=r&&(d+=", finalize");let p=0,h=Zp;for(;p<Qp&&(u=await t.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(c)}}}),!(!((i=u==null?void 0:u.headers)===null||i===void 0)&&i[An]));)p++,await ih(h),h=h*jp;if(l+=c,((o=u==null?void 0:u.headers)===null||o===void 0?void 0:o[An])!=="active")break;if(r<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function th(n){return{size:n.size,type:n.type}}function ih(n){return new Promise(e=>setTimeout(e,n))}class oh{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await eh(e,t,i)}async uploadToFileSearchStore(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nh(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await th(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rh{create(e,t,i){return new sh(e,t,i)}}class sh{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const go="x-goog-api-key";class lh{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(go)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(go,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ah="gl-node/";class bC{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=bl(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const o=new lh(this.apiKey);this.apiClient=new vf({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:ah+"web",uploader:new oh,downloader:new Kp}),this.models=new zf(this.apiClient),this.live=new Vf(this.apiClient,o,new rh),this.batches=new pu(this.apiClient),this.chats=new Ou(this.models,this.apiClient),this.caches=new $u(this.apiClient),this.files=new oc(this.apiClient),this.operations=new Jf(this.apiClient),this.authTokens=new sp(this.apiClient),this.tunings=new Op(this.apiClient),this.fileSearchStores=new Pp(this.apiClient)}}function uh(n,e){const t={};return(n[n.length-1]===""?[...n,""]:n).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const ch=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,dh=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,fh={};function yo(n,e){return(fh.jsx?dh:ch).test(n)}const ph=/[ \t\n\f\r]/g;function hh(n){return typeof n=="object"?n.type==="text"?To(n.value):!1:To(n)}function To(n){return n.replace(ph,"")===""}class pn{constructor(e,t,i){this.normal=t,this.property=e,i&&(this.space=i)}}pn.prototype.normal={};pn.prototype.property={};pn.prototype.space=void 0;function Rr(n,e){const t={},i={};for(const o of n)Object.assign(t,o.property),Object.assign(i,o.normal);return new pn(t,i,e)}function rt(n){return n.toLowerCase()}class re{constructor(e,t){this.attribute=t,this.property=e}}re.prototype.attribute="";re.prototype.booleanish=!1;re.prototype.boolean=!1;re.prototype.commaOrSpaceSeparated=!1;re.prototype.commaSeparated=!1;re.prototype.defined=!1;re.prototype.mustUseProperty=!1;re.prototype.number=!1;re.prototype.overloadedBoolean=!1;re.prototype.property="";re.prototype.spaceSeparated=!1;re.prototype.space=void 0;let mh=0;const B=Le(),j=Le(),st=Le(),x=Le(),K=Le(),Je=Le(),le=Le();function Le(){return 2**++mh}const lt=Object.freeze(Object.defineProperty({__proto__:null,boolean:B,booleanish:j,commaOrSpaceSeparated:le,commaSeparated:Je,number:x,overloadedBoolean:st,spaceSeparated:K},Symbol.toStringTag,{value:"Module"})),Vn=Object.keys(lt);class It extends re{constructor(e,t,i,o){let r=-1;if(super(e,t),Co(this,"space",o),typeof i=="number")for(;++r<Vn.length;){const l=Vn[r];Co(this,Vn[r],(i&lt[l])===lt[l])}}}It.prototype.defined=!0;function Co(n,e,t){t&&(n[e]=t)}function Ke(n){const e={},t={};for(const[i,o]of Object.entries(n.properties)){const r=new It(i,n.transform(n.attributes||{},i),o,n.space);n.mustUseProperty&&n.mustUseProperty.includes(i)&&(r.mustUseProperty=!0),e[i]=r,t[rt(i)]=i,t[rt(r.attribute)]=i}return new pn(e,t,n.space)}const Mr=Ke({properties:{ariaActiveDescendant:null,ariaAtomic:j,ariaAutoComplete:null,ariaBusy:j,ariaChecked:j,ariaColCount:x,ariaColIndex:x,ariaColSpan:x,ariaControls:K,ariaCurrent:null,ariaDescribedBy:K,ariaDetails:null,ariaDisabled:j,ariaDropEffect:K,ariaErrorMessage:null,ariaExpanded:j,ariaFlowTo:K,ariaGrabbed:j,ariaHasPopup:null,ariaHidden:j,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:K,ariaLevel:x,ariaLive:null,ariaModal:j,ariaMultiLine:j,ariaMultiSelectable:j,ariaOrientation:null,ariaOwns:K,ariaPlaceholder:null,ariaPosInSet:x,ariaPressed:j,ariaReadOnly:j,ariaRelevant:null,ariaRequired:j,ariaRoleDescription:K,ariaRowCount:x,ariaRowIndex:x,ariaRowSpan:x,ariaSelected:j,ariaSetSize:x,ariaSort:null,ariaValueMax:x,ariaValueMin:x,ariaValueNow:x,ariaValueText:null,role:null},transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Nr(n,e){return e in n?n[e]:e}function Dr(n,e){return Nr(n,e.toLowerCase())}const gh=Ke({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Je,acceptCharset:K,accessKey:K,action:null,allow:null,allowFullScreen:B,allowPaymentRequest:B,allowUserMedia:B,alt:null,as:null,async:B,autoCapitalize:null,autoComplete:K,autoFocus:B,autoPlay:B,blocking:K,capture:null,charSet:null,checked:B,cite:null,className:K,cols:x,colSpan:null,content:null,contentEditable:j,controls:B,controlsList:K,coords:x|Je,crossOrigin:null,data:null,dateTime:null,decoding:null,default:B,defer:B,dir:null,dirName:null,disabled:B,download:st,draggable:j,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:B,formTarget:null,headers:K,height:x,hidden:st,high:x,href:null,hrefLang:null,htmlFor:K,httpEquiv:K,id:null,imageSizes:null,imageSrcSet:null,inert:B,inputMode:null,integrity:null,is:null,isMap:B,itemId:null,itemProp:K,itemRef:K,itemScope:B,itemType:K,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:B,low:x,manifest:null,max:null,maxLength:x,media:null,method:null,min:null,minLength:x,multiple:B,muted:B,name:null,nonce:null,noModule:B,noValidate:B,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:B,optimum:x,pattern:null,ping:K,placeholder:null,playsInline:B,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:B,referrerPolicy:null,rel:K,required:B,reversed:B,rows:x,rowSpan:x,sandbox:K,scope:null,scoped:B,seamless:B,selected:B,shadowRootClonable:B,shadowRootDelegatesFocus:B,shadowRootMode:null,shape:null,size:x,sizes:null,slot:null,span:x,spellCheck:j,src:null,srcDoc:null,srcLang:null,srcSet:null,start:x,step:null,style:null,tabIndex:x,target:null,title:null,translate:null,type:null,typeMustMatch:B,useMap:null,value:j,width:x,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:K,axis:null,background:null,bgColor:null,border:x,borderColor:null,bottomMargin:x,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:B,declare:B,event:null,face:null,frame:null,frameBorder:null,hSpace:x,leftMargin:x,link:null,longDesc:null,lowSrc:null,marginHeight:x,marginWidth:x,noResize:B,noHref:B,noShade:B,noWrap:B,object:null,profile:null,prompt:null,rev:null,rightMargin:x,rules:null,scheme:null,scrolling:j,standby:null,summary:null,text:null,topMargin:x,valueType:null,version:null,vAlign:null,vLink:null,vSpace:x,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:B,disableRemotePlayback:B,prefix:null,property:null,results:x,security:null,unselectable:null},space:"html",transform:Dr}),yh=Ke({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:le,accentHeight:x,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:x,amplitude:x,arabicForm:null,ascent:x,attributeName:null,attributeType:null,azimuth:x,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:x,by:null,calcMode:null,capHeight:x,className:K,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:x,diffuseConstant:x,direction:null,display:null,dur:null,divisor:x,dominantBaseline:null,download:B,dx:null,dy:null,edgeMode:null,editable:null,elevation:x,enableBackground:null,end:null,event:null,exponent:x,externalResourcesRequired:null,fill:null,fillOpacity:x,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Je,g2:Je,glyphName:Je,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:x,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:x,horizOriginX:x,horizOriginY:x,id:null,ideographic:x,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:x,k:x,k1:x,k2:x,k3:x,k4:x,kernelMatrix:le,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:x,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:x,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:x,overlineThickness:x,paintOrder:null,panose1:null,path:null,pathLength:x,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:K,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:x,pointsAtY:x,pointsAtZ:x,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:le,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:le,rev:le,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:le,requiredFeatures:le,requiredFonts:le,requiredFormats:le,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:x,specularExponent:x,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:x,strikethroughThickness:x,string:null,stroke:null,strokeDashArray:le,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:x,strokeOpacity:x,strokeWidth:null,style:null,surfaceScale:x,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:le,tabIndex:x,tableValues:null,target:null,targetX:x,targetY:x,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:le,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:x,underlineThickness:x,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:x,values:null,vAlphabetic:x,vMathematical:x,vectorEffect:null,vHanging:x,vIdeographic:x,version:null,vertAdvY:x,vertOriginX:x,vertOriginY:x,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:x,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Nr}),Lr=Ke({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()}}),Fr=Ke({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Dr}),Ur=Ke({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()}}),Th={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Ch=/[A-Z]/g,Eo=/-[a-z]/g,Eh=/^data[-\w.:]+$/i;function _h(n,e){const t=rt(e);let i=e,o=re;if(t in n.normal)return n.property[n.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&Eh.test(e)){if(e.charAt(4)==="-"){const r=e.slice(5).replace(Eo,Ih);i="data"+r.charAt(0).toUpperCase()+r.slice(1)}else{const r=e.slice(4);if(!Eo.test(r)){let l=r.replace(Ch,Sh);l.charAt(0)!=="-"&&(l="-"+l),e="data"+l}}o=It}return new o(i,e)}function Sh(n){return"-"+n.toLowerCase()}function Ih(n){return n.charAt(1).toUpperCase()}const vh=Rr([Mr,gh,Lr,Fr,Ur],"html"),vt=Rr([Mr,yh,Lr,Fr,Ur],"svg");function Ah(n){return n.join(" ").trim()}var be={},bn,_o;function xh(){if(_o)return bn;_o=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,r=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,u=/^\s+|\s+$/g,d=`
`,c="/",f="*",p="",h="comment",m="declaration";function T(I,C){if(typeof I!="string")throw new TypeError("First argument must be a string");if(!I)return[];C=C||{};var A=1,S=1;function N(b){var R=b.match(e);R&&(A+=R.length);var z=b.lastIndexOf(d);S=~z?b.length-z:S+b.length}function L(){var b={line:A,column:S};return function(R){return R.position=new _(b),P(),R}}function _(b){this.start=b,this.end={line:A,column:S},this.source=C.source}_.prototype.content=I;function F(b){var R=new Error(C.source+":"+A+":"+S+": "+b);if(R.reason=b,R.filename=C.source,R.line=A,R.column=S,R.source=I,!C.silent)throw R}function G(b){var R=b.exec(I);if(R){var z=R[0];return N(z),I=I.slice(z.length),R}}function P(){G(t)}function V(b){var R;for(b=b||[];R=D();)R!==!1&&b.push(R);return b}function D(){var b=L();if(!(c!=I.charAt(0)||f!=I.charAt(1))){for(var R=2;p!=I.charAt(R)&&(f!=I.charAt(R)||c!=I.charAt(R+1));)++R;if(R+=2,p===I.charAt(R-1))return F("End of comment missing");var z=I.slice(2,R-2);return S+=2,N(z),I=I.slice(R),S+=2,b({type:h,comment:z})}}function w(){var b=L(),R=G(i);if(R){if(D(),!G(o))return F("property missing ':'");var z=G(r),Z=b({type:m,property:E(R[0].replace(n,p)),value:z?E(z[0].replace(n,p)):p});return G(l),Z}}function J(){var b=[];V(b);for(var R;R=w();)R!==!1&&(b.push(R),V(b));return b}return P(),J()}function E(I){return I?I.replace(u,p):p}return bn=T,bn}var So;function kh(){if(So)return be;So=1;var n=be&&be.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(be,"__esModule",{value:!0}),be.default=t;const e=n(xh());function t(i,o){let r=null;if(!i||typeof i!="string")return r;const l=(0,e.default)(i),u=typeof o=="function";return l.forEach(d=>{if(d.type!=="declaration")return;const{property:c,value:f}=d;u?o(c,f,d):f&&(r=r||{},r[c]=f)}),r}return be}var tn={},Io;function wh(){if(Io)return tn;Io=1,Object.defineProperty(tn,"__esModule",{value:!0}),tn.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,t=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,r=function(c){return!c||t.test(c)||n.test(c)},l=function(c,f){return f.toUpperCase()},u=function(c,f){return"".concat(f,"-")},d=function(c,f){return f===void 0&&(f={}),r(c)?c:(c=c.toLowerCase(),f.reactCompat?c=c.replace(o,u):c=c.replace(i,u),c.replace(e,l))};return tn.camelCase=d,tn}var on,vo;function Ph(){if(vo)return on;vo=1;var n=on&&on.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},e=n(kh()),t=wh();function i(o,r){var l={};return!o||typeof o!="string"||(0,e.default)(o,function(u,d){u&&d&&(l[(0,t.camelCase)(u,r)]=d)}),l}return i.default=i,on=i,on}var Rh=Ph();const Mh=nr(Rh),Vr=br("end"),At=br("start");function br(n){return e;function e(t){const i=t&&t.position&&t.position[n]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function Nh(n){const e=At(n),t=Vr(n);if(e&&t)return{start:e,end:t}}function un(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?Ao(n.position):"start"in n||"end"in n?Ao(n):"line"in n||"column"in n?at(n):""}function at(n){return xo(n&&n.line)+":"+xo(n&&n.column)}function Ao(n){return at(n&&n.start)+"-"+at(n&&n.end)}function xo(n){return n&&typeof n=="number"?n:1}class te extends Error{constructor(e,t,i){super(),typeof t=="string"&&(i=t,t=void 0);let o="",r={},l=!1;if(t&&("line"in t&&"column"in t?r={place:t}:"start"in t&&"end"in t?r={place:t}:"type"in t?r={ancestors:[t],place:t.position}:r={...t}),typeof e=="string"?o=e:!r.cause&&e&&(l=!0,o=e.message,r.cause=e),!r.ruleId&&!r.source&&typeof i=="string"){const d=i.indexOf(":");d===-1?r.ruleId=i:(r.source=i.slice(0,d),r.ruleId=i.slice(d+1))}if(!r.place&&r.ancestors&&r.ancestors){const d=r.ancestors[r.ancestors.length-1];d&&(r.place=d.position)}const u=r.place&&"start"in r.place?r.place.start:r.place;this.ancestors=r.ancestors||void 0,this.cause=r.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=u?u.line:void 0,this.name=un(r.place)||"1:1",this.place=r.place||void 0,this.reason=this.message,this.ruleId=r.ruleId||void 0,this.source=r.source||void 0,this.stack=l&&r.cause&&typeof r.cause.stack=="string"?r.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}te.prototype.file="";te.prototype.name="";te.prototype.reason="";te.prototype.message="";te.prototype.stack="";te.prototype.column=void 0;te.prototype.line=void 0;te.prototype.ancestors=void 0;te.prototype.cause=void 0;te.prototype.fatal=void 0;te.prototype.place=void 0;te.prototype.ruleId=void 0;te.prototype.source=void 0;const xt={}.hasOwnProperty,Dh=new Map,Lh=/[A-Z]/g,Fh=new Set(["table","tbody","thead","tfoot","tr"]),Uh=new Set(["td","th"]),qr="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Vh(n,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=$h(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=Jh(t,e.jsx,e.jsxs)}const o={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?vt:vh,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},r=Gr(o,n,void 0);return r&&typeof r!="string"?r:o.create(n,o.Fragment,{children:r||void 0},void 0)}function Gr(n,e,t){if(e.type==="element")return bh(n,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return qh(n,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Hh(n,e,t);if(e.type==="mdxjsEsm")return Gh(n,e);if(e.type==="root")return Bh(n,e,t);if(e.type==="text")return zh(n,e)}function bh(n,e,t){const i=n.schema;let o=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(o=vt,n.schema=o),n.ancestors.push(e);const r=Br(n,e.tagName,!1),l=Yh(n,e);let u=wt(n,e);return Fh.has(e.tagName)&&(u=u.filter(function(d){return typeof d=="string"?!hh(d):!0})),Hr(n,l,r,e),kt(l,u),n.ancestors.pop(),n.schema=i,n.create(e,r,l,t)}function qh(n,e){if(e.data&&e.data.estree&&n.evaluater){const i=e.data.estree.body[0];return i.type,n.evaluater.evaluateExpression(i.expression)}fn(n,e.position)}function Gh(n,e){if(e.data&&e.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(e.data.estree);fn(n,e.position)}function Hh(n,e,t){const i=n.schema;let o=i;e.name==="svg"&&i.space==="html"&&(o=vt,n.schema=o),n.ancestors.push(e);const r=e.name===null?n.Fragment:Br(n,e.name,!0),l=Wh(n,e),u=wt(n,e);return Hr(n,l,r,e),kt(l,u),n.ancestors.pop(),n.schema=i,n.create(e,r,l,t)}function Bh(n,e,t){const i={};return kt(i,wt(n,e)),n.create(e,n.Fragment,i,t)}function zh(n,e){return e.value}function Hr(n,e,t,i){typeof t!="string"&&t!==n.Fragment&&n.passNode&&(e.node=i)}function kt(n,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(n.children=t)}}function Jh(n,e,t){return i;function i(o,r,l,u){const c=Array.isArray(l.children)?t:e;return u?c(r,l,u):c(r,l)}}function $h(n,e){return t;function t(i,o,r,l){const u=Array.isArray(r.children),d=At(i);return e(o,r,l,u,{columnNumber:d?d.column-1:void 0,fileName:n,lineNumber:d?d.line:void 0},void 0)}}function Yh(n,e){const t={};let i,o;for(o in e.properties)if(o!=="children"&&xt.call(e.properties,o)){const r=Oh(n,o,e.properties[o]);if(r){const[l,u]=r;n.tableCellAlignToStyle&&l==="align"&&typeof u=="string"&&Uh.has(e.tagName)?i=u:t[l]=u}}if(i){const r=t.style||(t.style={});r[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return t}function Wh(n,e){const t={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&n.evaluater){const r=i.data.estree.body[0];r.type;const l=r.expression;l.type;const u=l.properties[0];u.type,Object.assign(t,n.evaluater.evaluateExpression(u.argument))}else fn(n,e.position);else{const o=i.name;let r;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&n.evaluater){const u=i.value.data.estree.body[0];u.type,r=n.evaluater.evaluateExpression(u.expression)}else fn(n,e.position);else r=i.value===null?!0:i.value;t[o]=r}return t}function wt(n,e){const t=[];let i=-1;const o=n.passKeys?new Map:Dh;for(;++i<e.children.length;){const r=e.children[i];let l;if(n.passKeys){const d=r.type==="element"?r.tagName:r.type==="mdxJsxFlowElement"||r.type==="mdxJsxTextElement"?r.name:void 0;if(d){const c=o.get(d)||0;l=d+"-"+c,o.set(d,c+1)}}const u=Gr(n,r,l);u!==void 0&&t.push(u)}return t}function Oh(n,e,t){const i=_h(n.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=i.commaSeparated?uh(t):Ah(t)),i.property==="style"){let o=typeof t=="object"?t:Kh(n,String(t));return n.stylePropertyNameCase==="css"&&(o=Xh(o)),["style",o]}return[n.elementAttributeNameCase==="react"&&i.space?Th[i.property]||i.property:i.attribute,t]}}function Kh(n,e){try{return Mh(e,{reactCompat:!0})}catch(t){if(n.ignoreInvalidStyle)return{};const i=t,o=new te("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=n.filePath||void 0,o.url=qr+"#cannot-parse-style-attribute",o}}function Br(n,e,t){let i;if(!t)i={type:"Literal",value:e};else if(e.includes(".")){const o=e.split(".");let r=-1,l;for(;++r<o.length;){const u=yo(o[r])?{type:"Identifier",name:o[r]}:{type:"Literal",value:o[r]};l=l?{type:"MemberExpression",object:l,property:u,computed:!!(r&&u.type==="Literal"),optional:!1}:u}i=l}else i=yo(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const o=i.value;return xt.call(n.components,o)?n.components[o]:o}if(n.evaluater)return n.evaluater.evaluateExpression(i);fn(n)}function fn(n,e){const t=new te("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=n.filePath||void 0,t.url=qr+"#cannot-handle-mdx-estrees-without-createevaluater",t}function Xh(n){const e={};let t;for(t in n)xt.call(n,t)&&(e[Qh(t)]=n[t]);return e}function Qh(n){let e=n.replace(Lh,Zh);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Zh(n){return"-"+n.toLowerCase()}const qn={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},jh={};function em(n,e){const t=jh,i=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,o=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return zr(n,i,o)}function zr(n,e,t){if(nm(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return ko(n.children,e,t)}return Array.isArray(n)?ko(n,e,t):""}function ko(n,e,t){const i=[];let o=-1;for(;++o<n.length;)i[o]=zr(n[o],e,t);return i.join("")}function nm(n){return!!(n&&typeof n=="object")}const wo=document.createElement("i");function Pt(n){const e="&"+n+";";wo.innerHTML=e;const t=wo.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}function Te(n,e,t,i){const o=n.length;let r=0,l;if(e<0?e=-e>o?0:o+e:e=e>o?o:e,t=t>0?t:0,i.length<1e4)l=Array.from(i),l.unshift(e,t),n.splice(...l);else for(t&&n.splice(e,t);r<i.length;)l=i.slice(r,r+1e4),l.unshift(e,0),n.splice(...l),r+=1e4,e+=1e4}function ue(n,e){return n.length>0?(Te(n,n.length,0,e),n):e}const Po={}.hasOwnProperty;function tm(n){const e={};let t=-1;for(;++t<n.length;)im(e,n[t]);return e}function im(n,e){let t;for(t in e){const o=(Po.call(n,t)?n[t]:void 0)||(n[t]={}),r=e[t];let l;if(r)for(l in r){Po.call(o,l)||(o[l]=[]);const u=r[l];om(o[l],Array.isArray(u)?u:u?[u]:[])}}}function om(n,e){let t=-1;const i=[];for(;++t<e.length;)(e[t].add==="after"?n:i).push(e[t]);Te(n,0,0,i)}function Jr(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function $e(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ye=Re(/[A-Za-z]/),ae=Re(/[\dA-Za-z]/),rm=Re(/[#-'*+\--9=?A-Z^-~]/);function ut(n){return n!==null&&(n<32||n===127)}const ct=Re(/\d/),sm=Re(/[\dA-Fa-f]/),lm=Re(/[!-/:-@[-`{-~]/);function q(n){return n!==null&&n<-2}function oe(n){return n!==null&&(n<0||n===32)}function W(n){return n===-2||n===-1||n===32}const am=Re(new RegExp("\\p{P}|\\p{S}","u")),um=Re(/\s/);function Re(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function Xe(n){const e=[];let t=-1,i=0,o=0;for(;++t<n.length;){const r=n.charCodeAt(t);let l="";if(r===37&&ae(n.charCodeAt(t+1))&&ae(n.charCodeAt(t+2)))o=2;else if(r<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(r))||(l=String.fromCharCode(r));else if(r>55295&&r<57344){const u=n.charCodeAt(t+1);r<56320&&u>56319&&u<57344?(l=String.fromCharCode(r,u),o=1):l=""}else l=String.fromCharCode(r);l&&(e.push(n.slice(i,t),encodeURIComponent(l)),i=t+o+1,l=""),o&&(t+=o,o=0)}return e.join("")+n.slice(i)}function X(n,e,t,i){const o=i?i-1:Number.POSITIVE_INFINITY;let r=0;return l;function l(d){return W(d)?(n.enter(t),u(d)):e(d)}function u(d){return W(d)&&r++<o?(n.consume(d),u):(n.exit(t),e(d))}}const cm={tokenize:dm};function dm(n){const e=n.attempt(this.parser.constructs.contentInitial,i,o);let t;return e;function i(u){if(u===null){n.consume(u);return}return n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),X(n,e,"linePrefix")}function o(u){return n.enter("paragraph"),r(u)}function r(u){const d=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=d),t=d,l(u)}function l(u){if(u===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(u);return}return q(u)?(n.consume(u),n.exit("chunkText"),r):(n.consume(u),l)}}const fm={tokenize:pm},Ro={tokenize:hm};function pm(n){const e=this,t=[];let i=0,o,r,l;return u;function u(S){if(i<t.length){const N=t[i];return e.containerState=N[1],n.attempt(N[0].continuation,d,c)(S)}return c(S)}function d(S){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,o&&A();const N=e.events.length;let L=N,_;for(;L--;)if(e.events[L][0]==="exit"&&e.events[L][1].type==="chunkFlow"){_=e.events[L][1].end;break}C(i);let F=N;for(;F<e.events.length;)e.events[F][1].end={..._},F++;return Te(e.events,L+1,0,e.events.slice(N)),e.events.length=F,c(S)}return u(S)}function c(S){if(i===t.length){if(!o)return h(S);if(o.currentConstruct&&o.currentConstruct.concrete)return T(S);e.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(Ro,f,p)(S)}function f(S){return o&&A(),C(i),h(S)}function p(S){return e.parser.lazy[e.now().line]=i!==t.length,l=e.now().offset,T(S)}function h(S){return e.containerState={},n.attempt(Ro,m,T)(S)}function m(S){return i++,t.push([e.currentConstruct,e.containerState]),h(S)}function T(S){if(S===null){o&&A(),C(0),n.consume(S);return}return o=o||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:r}),E(S)}function E(S){if(S===null){I(n.exit("chunkFlow"),!0),C(0),n.consume(S);return}return q(S)?(n.consume(S),I(n.exit("chunkFlow")),i=0,e.interrupt=void 0,u):(n.consume(S),E)}function I(S,N){const L=e.sliceStream(S);if(N&&L.push(null),S.previous=r,r&&(r.next=S),r=S,o.defineSkip(S.start),o.write(L),e.parser.lazy[S.start.line]){let _=o.events.length;for(;_--;)if(o.events[_][1].start.offset<l&&(!o.events[_][1].end||o.events[_][1].end.offset>l))return;const F=e.events.length;let G=F,P,V;for(;G--;)if(e.events[G][0]==="exit"&&e.events[G][1].type==="chunkFlow"){if(P){V=e.events[G][1].end;break}P=!0}for(C(i),_=F;_<e.events.length;)e.events[_][1].end={...V},_++;Te(e.events,G+1,0,e.events.slice(F)),e.events.length=_}}function C(S){let N=t.length;for(;N-- >S;){const L=t[N];e.containerState=L[1],L[0].exit.call(e,n)}t.length=S}function A(){o.write([null]),r=void 0,o=void 0,e.containerState._closeFlow=void 0}}function hm(n,e,t){return X(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Mo(n){if(n===null||oe(n)||um(n))return 1;if(am(n))return 2}function Rt(n,e,t){const i=[];let o=-1;for(;++o<n.length;){const r=n[o].resolveAll;r&&!i.includes(r)&&(e=r(e,t),i.push(r))}return e}const dt={name:"attention",resolveAll:mm,tokenize:gm};function mm(n,e){let t=-1,i,o,r,l,u,d,c,f;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(i=t;i--;)if(n[i][0]==="exit"&&n[i][1].type==="attentionSequence"&&n[i][1]._open&&e.sliceSerialize(n[i][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[i][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[i][1].end.offset-n[i][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;d=n[i][1].end.offset-n[i][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const p={...n[i][1].end},h={...n[t][1].start};No(p,-d),No(h,d),l={type:d>1?"strongSequence":"emphasisSequence",start:p,end:{...n[i][1].end}},u={type:d>1?"strongSequence":"emphasisSequence",start:{...n[t][1].start},end:h},r={type:d>1?"strongText":"emphasisText",start:{...n[i][1].end},end:{...n[t][1].start}},o={type:d>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},n[i][1].end={...l.start},n[t][1].start={...u.end},c=[],n[i][1].end.offset-n[i][1].start.offset&&(c=ue(c,[["enter",n[i][1],e],["exit",n[i][1],e]])),c=ue(c,[["enter",o,e],["enter",l,e],["exit",l,e],["enter",r,e]]),c=ue(c,Rt(e.parser.constructs.insideSpan.null,n.slice(i+1,t),e)),c=ue(c,[["exit",r,e],["enter",u,e],["exit",u,e],["exit",o,e]]),n[t][1].end.offset-n[t][1].start.offset?(f=2,c=ue(c,[["enter",n[t][1],e],["exit",n[t][1],e]])):f=0,Te(n,i-1,t-i+3,c),t=i+c.length-f-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function gm(n,e){const t=this.parser.constructs.attentionMarkers.null,i=this.previous,o=Mo(i);let r;return l;function l(d){return r=d,n.enter("attentionSequence"),u(d)}function u(d){if(d===r)return n.consume(d),u;const c=n.exit("attentionSequence"),f=Mo(d),p=!f||f===2&&o||t.includes(d),h=!o||o===2&&f||t.includes(i);return c._open=!!(r===42?p:p&&(o||!h)),c._close=!!(r===42?h:h&&(f||!p)),e(d)}}function No(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const ym={name:"autolink",tokenize:Tm};function Tm(n,e,t){let i=0;return o;function o(m){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(m),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),r}function r(m){return ye(m)?(n.consume(m),l):m===64?t(m):c(m)}function l(m){return m===43||m===45||m===46||ae(m)?(i=1,u(m)):c(m)}function u(m){return m===58?(n.consume(m),i=0,d):(m===43||m===45||m===46||ae(m))&&i++<32?(n.consume(m),u):(i=0,c(m))}function d(m){return m===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(m),n.exit("autolinkMarker"),n.exit("autolink"),e):m===null||m===32||m===60||ut(m)?t(m):(n.consume(m),d)}function c(m){return m===64?(n.consume(m),f):rm(m)?(n.consume(m),c):t(m)}function f(m){return ae(m)?p(m):t(m)}function p(m){return m===46?(n.consume(m),i=0,f):m===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(m),n.exit("autolinkMarker"),n.exit("autolink"),e):h(m)}function h(m){if((m===45||ae(m))&&i++<63){const T=m===45?h:p;return n.consume(m),T}return t(m)}}const Nn={partial:!0,tokenize:Cm};function Cm(n,e,t){return i;function i(r){return W(r)?X(n,o,"linePrefix")(r):o(r)}function o(r){return r===null||q(r)?e(r):t(r)}}const $r={continuation:{tokenize:_m},exit:Sm,name:"blockQuote",tokenize:Em};function Em(n,e,t){const i=this;return o;function o(l){if(l===62){const u=i.containerState;return u.open||(n.enter("blockQuote",{_container:!0}),u.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(l),n.exit("blockQuoteMarker"),r}return t(l)}function r(l){return W(l)?(n.enter("blockQuotePrefixWhitespace"),n.consume(l),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(l))}}function _m(n,e,t){const i=this;return o;function o(l){return W(l)?X(n,r,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):r(l)}function r(l){return n.attempt($r,e,t)(l)}}function Sm(n){n.exit("blockQuote")}const Yr={name:"characterEscape",tokenize:Im};function Im(n,e,t){return i;function i(r){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(r),n.exit("escapeMarker"),o}function o(r){return lm(r)?(n.enter("characterEscapeValue"),n.consume(r),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(r)}}const Wr={name:"characterReference",tokenize:vm};function vm(n,e,t){const i=this;let o=0,r,l;return u;function u(p){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(p),n.exit("characterReferenceMarker"),d}function d(p){return p===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(p),n.exit("characterReferenceMarkerNumeric"),c):(n.enter("characterReferenceValue"),r=31,l=ae,f(p))}function c(p){return p===88||p===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(p),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),r=6,l=sm,f):(n.enter("characterReferenceValue"),r=7,l=ct,f(p))}function f(p){if(p===59&&o){const h=n.exit("characterReferenceValue");return l===ae&&!Pt(i.sliceSerialize(h))?t(p):(n.enter("characterReferenceMarker"),n.consume(p),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return l(p)&&o++<r?(n.consume(p),f):t(p)}}const Do={partial:!0,tokenize:xm},Lo={concrete:!0,name:"codeFenced",tokenize:Am};function Am(n,e,t){const i=this,o={partial:!0,tokenize:L};let r=0,l=0,u;return d;function d(_){return c(_)}function c(_){const F=i.events[i.events.length-1];return r=F&&F[1].type==="linePrefix"?F[2].sliceSerialize(F[1],!0).length:0,u=_,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),f(_)}function f(_){return _===u?(l++,n.consume(_),f):l<3?t(_):(n.exit("codeFencedFenceSequence"),W(_)?X(n,p,"whitespace")(_):p(_))}function p(_){return _===null||q(_)?(n.exit("codeFencedFence"),i.interrupt?e(_):n.check(Do,E,N)(_)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),h(_))}function h(_){return _===null||q(_)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),p(_)):W(_)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),X(n,m,"whitespace")(_)):_===96&&_===u?t(_):(n.consume(_),h)}function m(_){return _===null||q(_)?p(_):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),T(_))}function T(_){return _===null||q(_)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),p(_)):_===96&&_===u?t(_):(n.consume(_),T)}function E(_){return n.attempt(o,N,I)(_)}function I(_){return n.enter("lineEnding"),n.consume(_),n.exit("lineEnding"),C}function C(_){return r>0&&W(_)?X(n,A,"linePrefix",r+1)(_):A(_)}function A(_){return _===null||q(_)?n.check(Do,E,N)(_):(n.enter("codeFlowValue"),S(_))}function S(_){return _===null||q(_)?(n.exit("codeFlowValue"),A(_)):(n.consume(_),S)}function N(_){return n.exit("codeFenced"),e(_)}function L(_,F,G){let P=0;return V;function V(R){return _.enter("lineEnding"),_.consume(R),_.exit("lineEnding"),D}function D(R){return _.enter("codeFencedFence"),W(R)?X(_,w,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):w(R)}function w(R){return R===u?(_.enter("codeFencedFenceSequence"),J(R)):G(R)}function J(R){return R===u?(P++,_.consume(R),J):P>=l?(_.exit("codeFencedFenceSequence"),W(R)?X(_,b,"whitespace")(R):b(R)):G(R)}function b(R){return R===null||q(R)?(_.exit("codeFencedFence"),F(R)):G(R)}}}function xm(n,e,t){const i=this;return o;function o(l){return l===null?t(l):(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),r)}function r(l){return i.parser.lazy[i.now().line]?t(l):e(l)}}const Gn={name:"codeIndented",tokenize:wm},km={partial:!0,tokenize:Pm};function wm(n,e,t){const i=this;return o;function o(c){return n.enter("codeIndented"),X(n,r,"linePrefix",5)(c)}function r(c){const f=i.events[i.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?l(c):t(c)}function l(c){return c===null?d(c):q(c)?n.attempt(km,l,d)(c):(n.enter("codeFlowValue"),u(c))}function u(c){return c===null||q(c)?(n.exit("codeFlowValue"),l(c)):(n.consume(c),u)}function d(c){return n.exit("codeIndented"),e(c)}}function Pm(n,e,t){const i=this;return o;function o(l){return i.parser.lazy[i.now().line]?t(l):q(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),o):X(n,r,"linePrefix",5)(l)}function r(l){const u=i.events[i.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):q(l)?o(l):t(l)}}const Rm={name:"codeText",previous:Nm,resolve:Mm,tokenize:Dm};function Mm(n){let e=n.length-4,t=3,i,o;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(i=t;++i<e;)if(n[i][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(i=t-1,e++;++i<=e;)o===void 0?i!==e&&n[i][1].type!=="lineEnding"&&(o=i):(i===e||n[i][1].type==="lineEnding")&&(n[o][1].type="codeTextData",i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),e-=i-o-2,i=o+2),o=void 0);return n}function Nm(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Dm(n,e,t){let i=0,o,r;return l;function l(p){return n.enter("codeText"),n.enter("codeTextSequence"),u(p)}function u(p){return p===96?(n.consume(p),i++,u):(n.exit("codeTextSequence"),d(p))}function d(p){return p===null?t(p):p===32?(n.enter("space"),n.consume(p),n.exit("space"),d):p===96?(r=n.enter("codeTextSequence"),o=0,f(p)):q(p)?(n.enter("lineEnding"),n.consume(p),n.exit("lineEnding"),d):(n.enter("codeTextData"),c(p))}function c(p){return p===null||p===32||p===96||q(p)?(n.exit("codeTextData"),d(p)):(n.consume(p),c)}function f(p){return p===96?(n.consume(p),o++,f):o===i?(n.exit("codeTextSequence"),n.exit("codeText"),e(p)):(r.type="codeTextData",c(p))}}class Lm{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const i=t??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,t,i){const o=t||0;this.setCursor(Math.trunc(e));const r=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return i&&rn(this.left,i),r.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),rn(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),rn(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);rn(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);rn(this.left,t.reverse())}}}function rn(n,e){let t=0;if(e.length<1e4)n.push(...e);else for(;t<e.length;)n.push(...e.slice(t,t+1e4)),t+=1e4}function Or(n){const e={};let t=-1,i,o,r,l,u,d,c;const f=new Lm(n);for(;++t<f.length;){for(;t in e;)t=e[t];if(i=f.get(t),t&&i[1].type==="chunkFlow"&&f.get(t-1)[1].type==="listItemPrefix"&&(d=i[1]._tokenizer.events,r=0,r<d.length&&d[r][1].type==="lineEndingBlank"&&(r+=2),r<d.length&&d[r][1].type==="content"))for(;++r<d.length&&d[r][1].type!=="content";)d[r][1].type==="chunkText"&&(d[r][1]._isInFirstContentOfListItem=!0,r++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,Fm(f,t)),t=e[t],c=!0);else if(i[1]._container){for(r=t,o=void 0;r--;)if(l=f.get(r),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(o&&(f.get(o)[1].type="lineEndingBlank"),l[1].type="lineEnding",o=r);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;o&&(i[1].end={...f.get(o)[1].start},u=f.slice(o,t),u.unshift(i),f.splice(o,t-o+1,u))}}return Te(n,0,Number.POSITIVE_INFINITY,f.slice(0)),!c}function Fm(n,e){const t=n.get(e)[1],i=n.get(e)[2];let o=e-1;const r=[];let l=t._tokenizer;l||(l=i.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const u=l.events,d=[],c={};let f,p,h=-1,m=t,T=0,E=0;const I=[E];for(;m;){for(;n.get(++o)[1]!==m;);r.push(o),m._tokenizer||(f=i.sliceStream(m),m.next||f.push(null),p&&l.defineSkip(m.start),m._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(f),m._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),p=m,m=m.next}for(m=t;++h<u.length;)u[h][0]==="exit"&&u[h-1][0]==="enter"&&u[h][1].type===u[h-1][1].type&&u[h][1].start.line!==u[h][1].end.line&&(E=h+1,I.push(E),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(l.events=[],m?(m._tokenizer=void 0,m.previous=void 0):I.pop(),h=I.length;h--;){const C=u.slice(I[h],I[h+1]),A=r.pop();d.push([A,A+C.length-1]),n.splice(A,2,C)}for(d.reverse(),h=-1;++h<d.length;)c[T+d[h][0]]=T+d[h][1],T+=d[h][1]-d[h][0]-1;return c}const Um={resolve:bm,tokenize:qm},Vm={partial:!0,tokenize:Gm};function bm(n){return Or(n),n}function qm(n,e){let t;return i;function i(u){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),o(u)}function o(u){return u===null?r(u):q(u)?n.check(Vm,l,r)(u):(n.consume(u),o)}function r(u){return n.exit("chunkContent"),n.exit("content"),e(u)}function l(u){return n.consume(u),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,o}}function Gm(n,e,t){const i=this;return o;function o(l){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),X(n,r,"linePrefix")}function r(l){if(l===null||q(l))return t(l);const u=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):n.interrupt(i.parser.constructs.flow,t,e)(l)}}function Kr(n,e,t,i,o,r,l,u,d){const c=d||Number.POSITIVE_INFINITY;let f=0;return p;function p(C){return C===60?(n.enter(i),n.enter(o),n.enter(r),n.consume(C),n.exit(r),h):C===null||C===32||C===41||ut(C)?t(C):(n.enter(i),n.enter(l),n.enter(u),n.enter("chunkString",{contentType:"string"}),E(C))}function h(C){return C===62?(n.enter(r),n.consume(C),n.exit(r),n.exit(o),n.exit(i),e):(n.enter(u),n.enter("chunkString",{contentType:"string"}),m(C))}function m(C){return C===62?(n.exit("chunkString"),n.exit(u),h(C)):C===null||C===60||q(C)?t(C):(n.consume(C),C===92?T:m)}function T(C){return C===60||C===62||C===92?(n.consume(C),m):m(C)}function E(C){return!f&&(C===null||C===41||oe(C))?(n.exit("chunkString"),n.exit(u),n.exit(l),n.exit(i),e(C)):f<c&&C===40?(n.consume(C),f++,E):C===41?(n.consume(C),f--,E):C===null||C===32||C===40||ut(C)?t(C):(n.consume(C),C===92?I:E)}function I(C){return C===40||C===41||C===92?(n.consume(C),E):E(C)}}function Xr(n,e,t,i,o,r){const l=this;let u=0,d;return c;function c(m){return n.enter(i),n.enter(o),n.consume(m),n.exit(o),n.enter(r),f}function f(m){return u>999||m===null||m===91||m===93&&!d||m===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?t(m):m===93?(n.exit(r),n.enter(o),n.consume(m),n.exit(o),n.exit(i),e):q(m)?(n.enter("lineEnding"),n.consume(m),n.exit("lineEnding"),f):(n.enter("chunkString",{contentType:"string"}),p(m))}function p(m){return m===null||m===91||m===93||q(m)||u++>999?(n.exit("chunkString"),f(m)):(n.consume(m),d||(d=!W(m)),m===92?h:p)}function h(m){return m===91||m===92||m===93?(n.consume(m),u++,p):p(m)}}function Qr(n,e,t,i,o,r){let l;return u;function u(h){return h===34||h===39||h===40?(n.enter(i),n.enter(o),n.consume(h),n.exit(o),l=h===40?41:h,d):t(h)}function d(h){return h===l?(n.enter(o),n.consume(h),n.exit(o),n.exit(i),e):(n.enter(r),c(h))}function c(h){return h===l?(n.exit(r),d(l)):h===null?t(h):q(h)?(n.enter("lineEnding"),n.consume(h),n.exit("lineEnding"),X(n,c,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===l||h===null||q(h)?(n.exit("chunkString"),c(h)):(n.consume(h),h===92?p:f)}function p(h){return h===l||h===92?(n.consume(h),f):f(h)}}function cn(n,e){let t;return i;function i(o){return q(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),t=!0,i):W(o)?X(n,i,t?"linePrefix":"lineSuffix")(o):e(o)}}const Hm={name:"definition",tokenize:zm},Bm={partial:!0,tokenize:Jm};function zm(n,e,t){const i=this;let o;return r;function r(m){return n.enter("definition"),l(m)}function l(m){return Xr.call(i,n,u,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function u(m){return o=$e(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),m===58?(n.enter("definitionMarker"),n.consume(m),n.exit("definitionMarker"),d):t(m)}function d(m){return oe(m)?cn(n,c)(m):c(m)}function c(m){return Kr(n,f,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function f(m){return n.attempt(Bm,p,p)(m)}function p(m){return W(m)?X(n,h,"whitespace")(m):h(m)}function h(m){return m===null||q(m)?(n.exit("definition"),i.parser.defined.push(o),e(m)):t(m)}}function Jm(n,e,t){return i;function i(u){return oe(u)?cn(n,o)(u):t(u)}function o(u){return Qr(n,r,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function r(u){return W(u)?X(n,l,"whitespace")(u):l(u)}function l(u){return u===null||q(u)?e(u):t(u)}}const $m={name:"hardBreakEscape",tokenize:Ym};function Ym(n,e,t){return i;function i(r){return n.enter("hardBreakEscape"),n.consume(r),o}function o(r){return q(r)?(n.exit("hardBreakEscape"),e(r)):t(r)}}const Wm={name:"headingAtx",resolve:Om,tokenize:Km};function Om(n,e){let t=n.length-2,i=3,o,r;return n[i][1].type==="whitespace"&&(i+=2),t-2>i&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(i===t-1||t-4>i&&n[t-2][1].type==="whitespace")&&(t-=i+1===t?2:4),t>i&&(o={type:"atxHeadingText",start:n[i][1].start,end:n[t][1].end},r={type:"chunkText",start:n[i][1].start,end:n[t][1].end,contentType:"text"},Te(n,i,t-i+1,[["enter",o,e],["enter",r,e],["exit",r,e],["exit",o,e]])),n}function Km(n,e,t){let i=0;return o;function o(f){return n.enter("atxHeading"),r(f)}function r(f){return n.enter("atxHeadingSequence"),l(f)}function l(f){return f===35&&i++<6?(n.consume(f),l):f===null||oe(f)?(n.exit("atxHeadingSequence"),u(f)):t(f)}function u(f){return f===35?(n.enter("atxHeadingSequence"),d(f)):f===null||q(f)?(n.exit("atxHeading"),e(f)):W(f)?X(n,u,"whitespace")(f):(n.enter("atxHeadingText"),c(f))}function d(f){return f===35?(n.consume(f),d):(n.exit("atxHeadingSequence"),u(f))}function c(f){return f===null||f===35||oe(f)?(n.exit("atxHeadingText"),u(f)):(n.consume(f),c)}}const Xm=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Fo=["pre","script","style","textarea"],Qm={concrete:!0,name:"htmlFlow",resolveTo:eg,tokenize:ng},Zm={partial:!0,tokenize:ig},jm={partial:!0,tokenize:tg};function eg(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function ng(n,e,t){const i=this;let o,r,l,u,d;return c;function c(y){return f(y)}function f(y){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(y),p}function p(y){return y===33?(n.consume(y),h):y===47?(n.consume(y),r=!0,E):y===63?(n.consume(y),o=3,i.interrupt?e:g):ye(y)?(n.consume(y),l=String.fromCharCode(y),I):t(y)}function h(y){return y===45?(n.consume(y),o=2,m):y===91?(n.consume(y),o=5,u=0,T):ye(y)?(n.consume(y),o=4,i.interrupt?e:g):t(y)}function m(y){return y===45?(n.consume(y),i.interrupt?e:g):t(y)}function T(y){const pe="CDATA[";return y===pe.charCodeAt(u++)?(n.consume(y),u===pe.length?i.interrupt?e:w:T):t(y)}function E(y){return ye(y)?(n.consume(y),l=String.fromCharCode(y),I):t(y)}function I(y){if(y===null||y===47||y===62||oe(y)){const pe=y===47,Me=l.toLowerCase();return!pe&&!r&&Fo.includes(Me)?(o=1,i.interrupt?e(y):w(y)):Xm.includes(l.toLowerCase())?(o=6,pe?(n.consume(y),C):i.interrupt?e(y):w(y)):(o=7,i.interrupt&&!i.parser.lazy[i.now().line]?t(y):r?A(y):S(y))}return y===45||ae(y)?(n.consume(y),l+=String.fromCharCode(y),I):t(y)}function C(y){return y===62?(n.consume(y),i.interrupt?e:w):t(y)}function A(y){return W(y)?(n.consume(y),A):V(y)}function S(y){return y===47?(n.consume(y),V):y===58||y===95||ye(y)?(n.consume(y),N):W(y)?(n.consume(y),S):V(y)}function N(y){return y===45||y===46||y===58||y===95||ae(y)?(n.consume(y),N):L(y)}function L(y){return y===61?(n.consume(y),_):W(y)?(n.consume(y),L):S(y)}function _(y){return y===null||y===60||y===61||y===62||y===96?t(y):y===34||y===39?(n.consume(y),d=y,F):W(y)?(n.consume(y),_):G(y)}function F(y){return y===d?(n.consume(y),d=null,P):y===null||q(y)?t(y):(n.consume(y),F)}function G(y){return y===null||y===34||y===39||y===47||y===60||y===61||y===62||y===96||oe(y)?L(y):(n.consume(y),G)}function P(y){return y===47||y===62||W(y)?S(y):t(y)}function V(y){return y===62?(n.consume(y),D):t(y)}function D(y){return y===null||q(y)?w(y):W(y)?(n.consume(y),D):t(y)}function w(y){return y===45&&o===2?(n.consume(y),z):y===60&&o===1?(n.consume(y),Z):y===62&&o===4?(n.consume(y),fe):y===63&&o===3?(n.consume(y),g):y===93&&o===5?(n.consume(y),Ce):q(y)&&(o===6||o===7)?(n.exit("htmlFlowData"),n.check(Zm,Ee,J)(y)):y===null||q(y)?(n.exit("htmlFlowData"),J(y)):(n.consume(y),w)}function J(y){return n.check(jm,b,Ee)(y)}function b(y){return n.enter("lineEnding"),n.consume(y),n.exit("lineEnding"),R}function R(y){return y===null||q(y)?J(y):(n.enter("htmlFlowData"),w(y))}function z(y){return y===45?(n.consume(y),g):w(y)}function Z(y){return y===47?(n.consume(y),l="",de):w(y)}function de(y){if(y===62){const pe=l.toLowerCase();return Fo.includes(pe)?(n.consume(y),fe):w(y)}return ye(y)&&l.length<8?(n.consume(y),l+=String.fromCharCode(y),de):w(y)}function Ce(y){return y===93?(n.consume(y),g):w(y)}function g(y){return y===62?(n.consume(y),fe):y===45&&o===2?(n.consume(y),g):w(y)}function fe(y){return y===null||q(y)?(n.exit("htmlFlowData"),Ee(y)):(n.consume(y),fe)}function Ee(y){return n.exit("htmlFlow"),e(y)}}function tg(n,e,t){const i=this;return o;function o(l){return q(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),r):t(l)}function r(l){return i.parser.lazy[i.now().line]?t(l):e(l)}}function ig(n,e,t){return i;function i(o){return n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),n.attempt(Nn,e,t)}}const og={name:"htmlText",tokenize:rg};function rg(n,e,t){const i=this;let o,r,l;return u;function u(g){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(g),d}function d(g){return g===33?(n.consume(g),c):g===47?(n.consume(g),L):g===63?(n.consume(g),S):ye(g)?(n.consume(g),G):t(g)}function c(g){return g===45?(n.consume(g),f):g===91?(n.consume(g),r=0,T):ye(g)?(n.consume(g),A):t(g)}function f(g){return g===45?(n.consume(g),m):t(g)}function p(g){return g===null?t(g):g===45?(n.consume(g),h):q(g)?(l=p,Z(g)):(n.consume(g),p)}function h(g){return g===45?(n.consume(g),m):p(g)}function m(g){return g===62?z(g):g===45?h(g):p(g)}function T(g){const fe="CDATA[";return g===fe.charCodeAt(r++)?(n.consume(g),r===fe.length?E:T):t(g)}function E(g){return g===null?t(g):g===93?(n.consume(g),I):q(g)?(l=E,Z(g)):(n.consume(g),E)}function I(g){return g===93?(n.consume(g),C):E(g)}function C(g){return g===62?z(g):g===93?(n.consume(g),C):E(g)}function A(g){return g===null||g===62?z(g):q(g)?(l=A,Z(g)):(n.consume(g),A)}function S(g){return g===null?t(g):g===63?(n.consume(g),N):q(g)?(l=S,Z(g)):(n.consume(g),S)}function N(g){return g===62?z(g):S(g)}function L(g){return ye(g)?(n.consume(g),_):t(g)}function _(g){return g===45||ae(g)?(n.consume(g),_):F(g)}function F(g){return q(g)?(l=F,Z(g)):W(g)?(n.consume(g),F):z(g)}function G(g){return g===45||ae(g)?(n.consume(g),G):g===47||g===62||oe(g)?P(g):t(g)}function P(g){return g===47?(n.consume(g),z):g===58||g===95||ye(g)?(n.consume(g),V):q(g)?(l=P,Z(g)):W(g)?(n.consume(g),P):z(g)}function V(g){return g===45||g===46||g===58||g===95||ae(g)?(n.consume(g),V):D(g)}function D(g){return g===61?(n.consume(g),w):q(g)?(l=D,Z(g)):W(g)?(n.consume(g),D):P(g)}function w(g){return g===null||g===60||g===61||g===62||g===96?t(g):g===34||g===39?(n.consume(g),o=g,J):q(g)?(l=w,Z(g)):W(g)?(n.consume(g),w):(n.consume(g),b)}function J(g){return g===o?(n.consume(g),o=void 0,R):g===null?t(g):q(g)?(l=J,Z(g)):(n.consume(g),J)}function b(g){return g===null||g===34||g===39||g===60||g===61||g===96?t(g):g===47||g===62||oe(g)?P(g):(n.consume(g),b)}function R(g){return g===47||g===62||oe(g)?P(g):t(g)}function z(g){return g===62?(n.consume(g),n.exit("htmlTextData"),n.exit("htmlText"),e):t(g)}function Z(g){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(g),n.exit("lineEnding"),de}function de(g){return W(g)?X(n,Ce,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(g):Ce(g)}function Ce(g){return n.enter("htmlTextData"),l(g)}}const Mt={name:"labelEnd",resolveAll:ug,resolveTo:cg,tokenize:dg},sg={tokenize:fg},lg={tokenize:pg},ag={tokenize:hg};function ug(n){let e=-1;const t=[];for(;++e<n.length;){const i=n[e][1];if(t.push(n[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const o=i.type==="labelImage"?4:2;i.type="data",e+=o}}return n.length!==t.length&&Te(n,0,n.length,t),n}function cg(n,e){let t=n.length,i=0,o,r,l,u;for(;t--;)if(o=n[t][1],r){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;n[t][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(l){if(n[t][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(r=t,o.type!=="labelLink")){i=2;break}}else o.type==="labelEnd"&&(l=t);const d={type:n[r][1].type==="labelLink"?"link":"image",start:{...n[r][1].start},end:{...n[n.length-1][1].end}},c={type:"label",start:{...n[r][1].start},end:{...n[l][1].end}},f={type:"labelText",start:{...n[r+i+2][1].end},end:{...n[l-2][1].start}};return u=[["enter",d,e],["enter",c,e]],u=ue(u,n.slice(r+1,r+i+3)),u=ue(u,[["enter",f,e]]),u=ue(u,Rt(e.parser.constructs.insideSpan.null,n.slice(r+i+4,l-3),e)),u=ue(u,[["exit",f,e],n[l-2],n[l-1],["exit",c,e]]),u=ue(u,n.slice(l+1)),u=ue(u,[["exit",d,e]]),Te(n,r,n.length,u),n}function dg(n,e,t){const i=this;let o=i.events.length,r,l;for(;o--;)if((i.events[o][1].type==="labelImage"||i.events[o][1].type==="labelLink")&&!i.events[o][1]._balanced){r=i.events[o][1];break}return u;function u(h){return r?r._inactive?p(h):(l=i.parser.defined.includes($e(i.sliceSerialize({start:r.end,end:i.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(h),n.exit("labelMarker"),n.exit("labelEnd"),d):t(h)}function d(h){return h===40?n.attempt(sg,f,l?f:p)(h):h===91?n.attempt(lg,f,l?c:p)(h):l?f(h):p(h)}function c(h){return n.attempt(ag,f,p)(h)}function f(h){return e(h)}function p(h){return r._balanced=!0,t(h)}}function fg(n,e,t){return i;function i(p){return n.enter("resource"),n.enter("resourceMarker"),n.consume(p),n.exit("resourceMarker"),o}function o(p){return oe(p)?cn(n,r)(p):r(p)}function r(p){return p===41?f(p):Kr(n,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function l(p){return oe(p)?cn(n,d)(p):f(p)}function u(p){return t(p)}function d(p){return p===34||p===39||p===40?Qr(n,c,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):f(p)}function c(p){return oe(p)?cn(n,f)(p):f(p)}function f(p){return p===41?(n.enter("resourceMarker"),n.consume(p),n.exit("resourceMarker"),n.exit("resource"),e):t(p)}}function pg(n,e,t){const i=this;return o;function o(u){return Xr.call(i,n,r,l,"reference","referenceMarker","referenceString")(u)}function r(u){return i.parser.defined.includes($e(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(u):t(u)}function l(u){return t(u)}}function hg(n,e,t){return i;function i(r){return n.enter("reference"),n.enter("referenceMarker"),n.consume(r),n.exit("referenceMarker"),o}function o(r){return r===93?(n.enter("referenceMarker"),n.consume(r),n.exit("referenceMarker"),n.exit("reference"),e):t(r)}}const mg={name:"labelStartImage",resolveAll:Mt.resolveAll,tokenize:gg};function gg(n,e,t){const i=this;return o;function o(u){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(u),n.exit("labelImageMarker"),r}function r(u){return u===91?(n.enter("labelMarker"),n.consume(u),n.exit("labelMarker"),n.exit("labelImage"),l):t(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(u):e(u)}}const yg={name:"labelStartLink",resolveAll:Mt.resolveAll,tokenize:Tg};function Tg(n,e,t){const i=this;return o;function o(l){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(l),n.exit("labelMarker"),n.exit("labelLink"),r}function r(l){return l===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(l):e(l)}}const Hn={name:"lineEnding",tokenize:Cg};function Cg(n,e){return t;function t(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),X(n,e,"linePrefix")}}const _n={name:"thematicBreak",tokenize:Eg};function Eg(n,e,t){let i=0,o;return r;function r(c){return n.enter("thematicBreak"),l(c)}function l(c){return o=c,u(c)}function u(c){return c===o?(n.enter("thematicBreakSequence"),d(c)):i>=3&&(c===null||q(c))?(n.exit("thematicBreak"),e(c)):t(c)}function d(c){return c===o?(n.consume(c),i++,d):(n.exit("thematicBreakSequence"),W(c)?X(n,u,"whitespace")(c):u(c))}}const ie={continuation:{tokenize:vg},exit:xg,name:"list",tokenize:Ig},_g={partial:!0,tokenize:kg},Sg={partial:!0,tokenize:Ag};function Ig(n,e,t){const i=this,o=i.events[i.events.length-1];let r=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,l=0;return u;function u(m){const T=i.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(T==="listUnordered"?!i.containerState.marker||m===i.containerState.marker:ct(m)){if(i.containerState.type||(i.containerState.type=T,n.enter(T,{_container:!0})),T==="listUnordered")return n.enter("listItemPrefix"),m===42||m===45?n.check(_n,t,c)(m):c(m);if(!i.interrupt||m===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),d(m)}return t(m)}function d(m){return ct(m)&&++l<10?(n.consume(m),d):(!i.interrupt||l<2)&&(i.containerState.marker?m===i.containerState.marker:m===41||m===46)?(n.exit("listItemValue"),c(m)):t(m)}function c(m){return n.enter("listItemMarker"),n.consume(m),n.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||m,n.check(Nn,i.interrupt?t:f,n.attempt(_g,h,p))}function f(m){return i.containerState.initialBlankLine=!0,r++,h(m)}function p(m){return W(m)?(n.enter("listItemPrefixWhitespace"),n.consume(m),n.exit("listItemPrefixWhitespace"),h):t(m)}function h(m){return i.containerState.size=r+i.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(m)}}function vg(n,e,t){const i=this;return i.containerState._closeFlow=void 0,n.check(Nn,o,r);function o(u){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,X(n,e,"listItemIndent",i.containerState.size+1)(u)}function r(u){return i.containerState.furtherBlankLines||!W(u)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,l(u)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,n.attempt(Sg,e,l)(u))}function l(u){return i.containerState._closeFlow=!0,i.interrupt=void 0,X(n,n.attempt(ie,e,t),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function Ag(n,e,t){const i=this;return X(n,o,"listItemIndent",i.containerState.size+1);function o(r){const l=i.events[i.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===i.containerState.size?e(r):t(r)}}function xg(n){n.exit(this.containerState.type)}function kg(n,e,t){const i=this;return X(n,o,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(r){const l=i.events[i.events.length-1];return!W(r)&&l&&l[1].type==="listItemPrefixWhitespace"?e(r):t(r)}}const Uo={name:"setextUnderline",resolveTo:wg,tokenize:Pg};function wg(n,e){let t=n.length,i,o,r;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){i=t;break}n[t][1].type==="paragraph"&&(o=t)}else n[t][1].type==="content"&&n.splice(t,1),!r&&n[t][1].type==="definition"&&(r=t);const l={type:"setextHeading",start:{...n[i][1].start},end:{...n[n.length-1][1].end}};return n[o][1].type="setextHeadingText",r?(n.splice(o,0,["enter",l,e]),n.splice(r+1,0,["exit",n[i][1],e]),n[i][1].end={...n[r][1].end}):n[i][1]=l,n.push(["exit",l,e]),n}function Pg(n,e,t){const i=this;let o;return r;function r(c){let f=i.events.length,p;for(;f--;)if(i.events[f][1].type!=="lineEnding"&&i.events[f][1].type!=="linePrefix"&&i.events[f][1].type!=="content"){p=i.events[f][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||p)?(n.enter("setextHeadingLine"),o=c,l(c)):t(c)}function l(c){return n.enter("setextHeadingLineSequence"),u(c)}function u(c){return c===o?(n.consume(c),u):(n.exit("setextHeadingLineSequence"),W(c)?X(n,d,"lineSuffix")(c):d(c))}function d(c){return c===null||q(c)?(n.exit("setextHeadingLine"),e(c)):t(c)}}const Rg={tokenize:Mg};function Mg(n){const e=this,t=n.attempt(Nn,i,n.attempt(this.parser.constructs.flowInitial,o,X(n,n.attempt(this.parser.constructs.flow,o,n.attempt(Um,o)),"linePrefix")));return t;function i(r){if(r===null){n.consume(r);return}return n.enter("lineEndingBlank"),n.consume(r),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function o(r){if(r===null){n.consume(r);return}return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const Ng={resolveAll:jr()},Dg=Zr("string"),Lg=Zr("text");function Zr(n){return{resolveAll:jr(n==="text"?Fg:void 0),tokenize:e};function e(t){const i=this,o=this.parser.constructs[n],r=t.attempt(o,l,u);return l;function l(f){return c(f)?r(f):u(f)}function u(f){if(f===null){t.consume(f);return}return t.enter("data"),t.consume(f),d}function d(f){return c(f)?(t.exit("data"),r(f)):(t.consume(f),d)}function c(f){if(f===null)return!0;const p=o[f];let h=-1;if(p)for(;++h<p.length;){const m=p[h];if(!m.previous||m.previous.call(i,i.previous))return!0}return!1}}}function jr(n){return e;function e(t,i){let o=-1,r;for(;++o<=t.length;)r===void 0?t[o]&&t[o][1].type==="data"&&(r=o,o++):(!t[o]||t[o][1].type!=="data")&&(o!==r+2&&(t[r][1].end=t[o-1][1].end,t.splice(r+2,o-r-2),o=r+2),r=void 0);return n?n(t,i):t}}function Fg(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const i=n[t-1][1],o=e.sliceStream(i);let r=o.length,l=-1,u=0,d;for(;r--;){const c=o[r];if(typeof c=="string"){for(l=c.length;c.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(c===-2)d=!0,u++;else if(c!==-1){r++;break}}if(e._contentTypeTextTrailing&&t===n.length&&(u=0),u){const c={type:t===n.length||d||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:r?l:i.start._bufferIndex+l,_index:i.start._index+r,line:i.end.line,column:i.end.column-u,offset:i.end.offset-u},end:{...i.end}};i.end={...c.start},i.start.offset===i.end.offset?Object.assign(i,c):(n.splice(t,0,["enter",c,e],["exit",c,e]),t+=2)}t++}return n}const Ug={42:ie,43:ie,45:ie,48:ie,49:ie,50:ie,51:ie,52:ie,53:ie,54:ie,55:ie,56:ie,57:ie,62:$r},Vg={91:Hm},bg={[-2]:Gn,[-1]:Gn,32:Gn},qg={35:Wm,42:_n,45:[Uo,_n],60:Qm,61:Uo,95:_n,96:Lo,126:Lo},Gg={38:Wr,92:Yr},Hg={[-5]:Hn,[-4]:Hn,[-3]:Hn,33:mg,38:Wr,42:dt,60:[ym,og],91:yg,92:[$m,Yr],93:Mt,95:dt,96:Rm},Bg={null:[dt,Ng]},zg={null:[42,95]},Jg={null:[]},$g=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:zg,contentInitial:Vg,disable:Jg,document:Ug,flow:qg,flowInitial:bg,insideSpan:Bg,string:Gg,text:Hg},Symbol.toStringTag,{value:"Module"}));function Yg(n,e,t){let i={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const o={},r=[];let l=[],u=[];const d={attempt:F(L),check:F(_),consume:A,enter:S,exit:N,interrupt:F(_,{interrupt:!0})},c={code:null,containerState:{},defineSkip:E,events:[],now:T,parser:n,previous:null,sliceSerialize:h,sliceStream:m,write:p};let f=e.tokenize.call(c,d);return e.resolveAll&&r.push(e),c;function p(D){return l=ue(l,D),I(),l[l.length-1]!==null?[]:(G(e,0),c.events=Rt(r,c.events,c),c.events)}function h(D,w){return Og(m(D),w)}function m(D){return Wg(l,D)}function T(){const{_bufferIndex:D,_index:w,line:J,column:b,offset:R}=i;return{_bufferIndex:D,_index:w,line:J,column:b,offset:R}}function E(D){o[D.line]=D.column,V()}function I(){let D;for(;i._index<l.length;){const w=l[i._index];if(typeof w=="string")for(D=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===D&&i._bufferIndex<w.length;)C(w.charCodeAt(i._bufferIndex));else C(w)}}function C(D){f=f(D)}function A(D){q(D)?(i.line++,i.column=1,i.offset+=D===-3?2:1,V()):D!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===l[i._index].length&&(i._bufferIndex=-1,i._index++)),c.previous=D}function S(D,w){const J=w||{};return J.type=D,J.start=T(),c.events.push(["enter",J,c]),u.push(J),J}function N(D){const w=u.pop();return w.end=T(),c.events.push(["exit",w,c]),w}function L(D,w){G(D,w.from)}function _(D,w){w.restore()}function F(D,w){return J;function J(b,R,z){let Z,de,Ce,g;return Array.isArray(b)?Ee(b):"tokenize"in b?Ee([b]):fe(b);function fe(ee){return Qe;function Qe(xe){const Fe=xe!==null&&ee[xe],Ue=xe!==null&&ee.null,mn=[...Array.isArray(Fe)?Fe:Fe?[Fe]:[],...Array.isArray(Ue)?Ue:Ue?[Ue]:[]];return Ee(mn)(xe)}}function Ee(ee){return Z=ee,de=0,ee.length===0?z:y(ee[de])}function y(ee){return Qe;function Qe(xe){return g=P(),Ce=ee,ee.partial||(c.currentConstruct=ee),ee.name&&c.parser.constructs.disable.null.includes(ee.name)?Me():ee.tokenize.call(w?Object.assign(Object.create(c),w):c,d,pe,Me)(xe)}}function pe(ee){return D(Ce,g),R}function Me(ee){return g.restore(),++de<Z.length?y(Z[de]):z}}}function G(D,w){D.resolveAll&&!r.includes(D)&&r.push(D),D.resolve&&Te(c.events,w,c.events.length-w,D.resolve(c.events.slice(w),c)),D.resolveTo&&(c.events=D.resolveTo(c.events,c))}function P(){const D=T(),w=c.previous,J=c.currentConstruct,b=c.events.length,R=Array.from(u);return{from:b,restore:z};function z(){i=D,c.previous=w,c.currentConstruct=J,c.events.length=b,u=R,V()}}function V(){i.line in o&&i.column<2&&(i.column=o[i.line],i.offset+=o[i.line]-1)}}function Wg(n,e){const t=e.start._index,i=e.start._bufferIndex,o=e.end._index,r=e.end._bufferIndex;let l;if(t===o)l=[n[t].slice(i,r)];else{if(l=n.slice(t,o),i>-1){const u=l[0];typeof u=="string"?l[0]=u.slice(i):l.shift()}r>0&&l.push(n[o].slice(0,r))}return l}function Og(n,e){let t=-1;const i=[];let o;for(;++t<n.length;){const r=n[t];let l;if(typeof r=="string")l=r;else switch(r){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&o)continue;l=" ";break}default:l=String.fromCharCode(r)}o=r===-2,i.push(l)}return i.join("")}function Kg(n){const i={constructs:tm([$g,...(n||{}).extensions||[]]),content:o(cm),defined:[],document:o(fm),flow:o(Rg),lazy:{},string:o(Dg),text:o(Lg)};return i;function o(r){return l;function l(u){return Yg(i,r,u)}}}function Xg(n){for(;!Or(n););return n}const Vo=/[\0\t\n\r]/g;function Qg(){let n=1,e="",t=!0,i;return o;function o(r,l,u){const d=[];let c,f,p,h,m;for(r=e+(typeof r=="string"?r.toString():new TextDecoder(l||void 0).decode(r)),p=0,e="",t&&(r.charCodeAt(0)===65279&&p++,t=void 0);p<r.length;){if(Vo.lastIndex=p,c=Vo.exec(r),h=c&&c.index!==void 0?c.index:r.length,m=r.charCodeAt(h),!c){e=r.slice(p);break}if(m===10&&p===h&&i)d.push(-3),i=void 0;else switch(i&&(d.push(-5),i=void 0),p<h&&(d.push(r.slice(p,h)),n+=h-p),m){case 0:{d.push(65533),n++;break}case 9:{for(f=Math.ceil(n/4)*4,d.push(-2);n++<f;)d.push(-1);break}case 10:{d.push(-4),n=1;break}default:i=!0,n=1}p=h+1}return u&&(i&&d.push(-5),e&&d.push(e),d.push(null)),d}}const Zg=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function jg(n){return n.replace(Zg,ey)}function ey(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const o=t.charCodeAt(1),r=o===120||o===88;return Jr(t.slice(r?2:1),r?16:10)}return Pt(t)||n}const es={}.hasOwnProperty;function ny(n,e,t){return typeof e!="string"&&(t=e,e=void 0),ty(t)(Xg(Kg(t).document().write(Qg()(n,e,!0))))}function ty(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:r(Gt),autolinkProtocol:P,autolinkEmail:P,atxHeading:r(Vt),blockQuote:r(Ue),characterEscape:P,characterReference:P,codeFenced:r(mn),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:r(mn,l),codeText:r(ds,l),codeTextData:P,data:P,codeFlowValue:P,definition:r(fs),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:r(ps),hardBreakEscape:r(bt),hardBreakTrailing:r(bt),htmlFlow:r(qt,l),htmlFlowData:P,htmlText:r(qt,l),htmlTextData:P,image:r(hs),label:l,link:r(Gt),listItem:r(ms),listItemValue:h,listOrdered:r(Ht,p),listUnordered:r(Ht),paragraph:r(gs),reference:y,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:r(Vt),strong:r(ys),thematicBreak:r(Cs)},exit:{atxHeading:d(),atxHeadingSequence:L,autolink:d(),autolinkEmail:Fe,autolinkProtocol:xe,blockQuote:d(),characterEscapeValue:V,characterReferenceMarkerHexadecimal:Me,characterReferenceMarkerNumeric:Me,characterReferenceValue:ee,characterReference:Qe,codeFenced:d(I),codeFencedFence:E,codeFencedFenceInfo:m,codeFencedFenceMeta:T,codeFlowValue:V,codeIndented:d(C),codeText:d(R),codeTextData:V,data:V,definition:d(),definitionDestinationString:N,definitionLabelString:A,definitionTitleString:S,emphasis:d(),hardBreakEscape:d(w),hardBreakTrailing:d(w),htmlFlow:d(J),htmlFlowData:V,htmlText:d(b),htmlTextData:V,image:d(Z),label:Ce,labelText:de,lineEnding:D,link:d(z),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:pe,resourceDestinationString:g,resourceTitleString:fe,resource:Ee,setextHeading:d(G),setextHeadingLineSequence:F,setextHeadingText:_,strong:d(),thematicBreak:d()}};ns(e,(n||{}).mdastExtensions||[]);const t={};return i;function i(v){let k={type:"root",children:[]};const H={stack:[k],tokenStack:[],config:e,enter:u,exit:c,buffer:l,resume:f,data:t},$=[];let O=-1;for(;++O<v.length;)if(v[O][1].type==="listOrdered"||v[O][1].type==="listUnordered")if(v[O][0]==="enter")$.push(O);else{const he=$.pop();O=o(v,he,O)}for(O=-1;++O<v.length;){const he=e[v[O][0]];es.call(he,v[O][1].type)&&he[v[O][1].type].call(Object.assign({sliceSerialize:v[O][2].sliceSerialize},H),v[O][1])}if(H.tokenStack.length>0){const he=H.tokenStack[H.tokenStack.length-1];(he[1]||bo).call(H,void 0,he[0])}for(k.position={start:ke(v.length>0?v[0][1].start:{line:1,column:1,offset:0}),end:ke(v.length>0?v[v.length-2][1].end:{line:1,column:1,offset:0})},O=-1;++O<e.transforms.length;)k=e.transforms[O](k)||k;return k}function o(v,k,H){let $=k-1,O=-1,he=!1,Ne,_e,Ze,je;for(;++$<=H;){const se=v[$];switch(se[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{se[0]==="enter"?O++:O--,je=void 0;break}case"lineEndingBlank":{se[0]==="enter"&&(Ne&&!je&&!O&&!Ze&&(Ze=$),je=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:je=void 0}if(!O&&se[0]==="enter"&&se[1].type==="listItemPrefix"||O===-1&&se[0]==="exit"&&(se[1].type==="listUnordered"||se[1].type==="listOrdered")){if(Ne){let Ve=$;for(_e=void 0;Ve--;){const Se=v[Ve];if(Se[1].type==="lineEnding"||Se[1].type==="lineEndingBlank"){if(Se[0]==="exit")continue;_e&&(v[_e][1].type="lineEndingBlank",he=!0),Se[1].type="lineEnding",_e=Ve}else if(!(Se[1].type==="linePrefix"||Se[1].type==="blockQuotePrefix"||Se[1].type==="blockQuotePrefixWhitespace"||Se[1].type==="blockQuoteMarker"||Se[1].type==="listItemIndent"))break}Ze&&(!_e||Ze<_e)&&(Ne._spread=!0),Ne.end=Object.assign({},_e?v[_e][1].start:se[1].end),v.splice(_e||$,0,["exit",Ne,se[2]]),$++,H++}if(se[1].type==="listItemPrefix"){const Ve={type:"listItem",_spread:!1,start:Object.assign({},se[1].start),end:void 0};Ne=Ve,v.splice($,0,["enter",Ve,se[2]]),$++,H++,Ze=void 0,je=!0}}}return v[k][1]._spread=he,H}function r(v,k){return H;function H($){u.call(this,v($),$),k&&k.call(this,$)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(v,k,H){this.stack[this.stack.length-1].children.push(v),this.stack.push(v),this.tokenStack.push([k,H||void 0]),v.position={start:ke(k.start),end:void 0}}function d(v){return k;function k(H){v&&v.call(this,H),c.call(this,H)}}function c(v,k){const H=this.stack.pop(),$=this.tokenStack.pop();if($)$[0].type!==v.type&&(k?k.call(this,v,$[0]):($[1]||bo).call(this,v,$[0]));else throw new Error("Cannot close `"+v.type+"` ("+un({start:v.start,end:v.end})+"): its not open");H.position.end=ke(v.end)}function f(){return em(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function h(v){if(this.data.expectingFirstListItemValue){const k=this.stack[this.stack.length-2];k.start=Number.parseInt(this.sliceSerialize(v),10),this.data.expectingFirstListItemValue=void 0}}function m(){const v=this.resume(),k=this.stack[this.stack.length-1];k.lang=v}function T(){const v=this.resume(),k=this.stack[this.stack.length-1];k.meta=v}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function I(){const v=this.resume(),k=this.stack[this.stack.length-1];k.value=v.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){const v=this.resume(),k=this.stack[this.stack.length-1];k.value=v.replace(/(\r?\n|\r)$/g,"")}function A(v){const k=this.resume(),H=this.stack[this.stack.length-1];H.label=k,H.identifier=$e(this.sliceSerialize(v)).toLowerCase()}function S(){const v=this.resume(),k=this.stack[this.stack.length-1];k.title=v}function N(){const v=this.resume(),k=this.stack[this.stack.length-1];k.url=v}function L(v){const k=this.stack[this.stack.length-1];if(!k.depth){const H=this.sliceSerialize(v).length;k.depth=H}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function F(v){const k=this.stack[this.stack.length-1];k.depth=this.sliceSerialize(v).codePointAt(0)===61?1:2}function G(){this.data.setextHeadingSlurpLineEnding=void 0}function P(v){const H=this.stack[this.stack.length-1].children;let $=H[H.length-1];(!$||$.type!=="text")&&($=Ts(),$.position={start:ke(v.start),end:void 0},H.push($)),this.stack.push($)}function V(v){const k=this.stack.pop();k.value+=this.sliceSerialize(v),k.position.end=ke(v.end)}function D(v){const k=this.stack[this.stack.length-1];if(this.data.atHardBreak){const H=k.children[k.children.length-1];H.position.end=ke(v.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(k.type)&&(P.call(this,v),V.call(this,v))}function w(){this.data.atHardBreak=!0}function J(){const v=this.resume(),k=this.stack[this.stack.length-1];k.value=v}function b(){const v=this.resume(),k=this.stack[this.stack.length-1];k.value=v}function R(){const v=this.resume(),k=this.stack[this.stack.length-1];k.value=v}function z(){const v=this.stack[this.stack.length-1];if(this.data.inReference){const k=this.data.referenceType||"shortcut";v.type+="Reference",v.referenceType=k,delete v.url,delete v.title}else delete v.identifier,delete v.label;this.data.referenceType=void 0}function Z(){const v=this.stack[this.stack.length-1];if(this.data.inReference){const k=this.data.referenceType||"shortcut";v.type+="Reference",v.referenceType=k,delete v.url,delete v.title}else delete v.identifier,delete v.label;this.data.referenceType=void 0}function de(v){const k=this.sliceSerialize(v),H=this.stack[this.stack.length-2];H.label=jg(k),H.identifier=$e(k).toLowerCase()}function Ce(){const v=this.stack[this.stack.length-1],k=this.resume(),H=this.stack[this.stack.length-1];if(this.data.inReference=!0,H.type==="link"){const $=v.children;H.children=$}else H.alt=k}function g(){const v=this.resume(),k=this.stack[this.stack.length-1];k.url=v}function fe(){const v=this.resume(),k=this.stack[this.stack.length-1];k.title=v}function Ee(){this.data.inReference=void 0}function y(){this.data.referenceType="collapsed"}function pe(v){const k=this.resume(),H=this.stack[this.stack.length-1];H.label=k,H.identifier=$e(this.sliceSerialize(v)).toLowerCase(),this.data.referenceType="full"}function Me(v){this.data.characterReferenceType=v.type}function ee(v){const k=this.sliceSerialize(v),H=this.data.characterReferenceType;let $;H?($=Jr(k,H==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):$=Pt(k);const O=this.stack[this.stack.length-1];O.value+=$}function Qe(v){const k=this.stack.pop();k.position.end=ke(v.end)}function xe(v){V.call(this,v);const k=this.stack[this.stack.length-1];k.url=this.sliceSerialize(v)}function Fe(v){V.call(this,v);const k=this.stack[this.stack.length-1];k.url="mailto:"+this.sliceSerialize(v)}function Ue(){return{type:"blockquote",children:[]}}function mn(){return{type:"code",lang:null,meta:null,value:""}}function ds(){return{type:"inlineCode",value:""}}function fs(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ps(){return{type:"emphasis",children:[]}}function Vt(){return{type:"heading",depth:0,children:[]}}function bt(){return{type:"break"}}function qt(){return{type:"html",value:""}}function hs(){return{type:"image",title:null,url:"",alt:null}}function Gt(){return{type:"link",title:null,url:"",children:[]}}function Ht(v){return{type:"list",ordered:v.type==="listOrdered",start:null,spread:v._spread,children:[]}}function ms(v){return{type:"listItem",spread:v._spread,checked:null,children:[]}}function gs(){return{type:"paragraph",children:[]}}function ys(){return{type:"strong",children:[]}}function Ts(){return{type:"text",value:""}}function Cs(){return{type:"thematicBreak"}}}function ke(n){return{line:n.line,column:n.column,offset:n.offset}}function ns(n,e){let t=-1;for(;++t<e.length;){const i=e[t];Array.isArray(i)?ns(n,i):iy(n,i)}}function iy(n,e){let t;for(t in e)if(es.call(e,t))switch(t){case"canContainEols":{const i=e[t];i&&n[t].push(...i);break}case"transforms":{const i=e[t];i&&n[t].push(...i);break}case"enter":case"exit":{const i=e[t];i&&Object.assign(n[t],i);break}}}function bo(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+un({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+un({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+un({start:e.start,end:e.end})+") is still open")}function oy(n){const e=this;e.parser=t;function t(i){return ny(i,{...e.data("settings"),...n,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function ry(n,e){const t={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(e),!0)};return n.patch(e,t),n.applyData(e,t)}function sy(n,e){const t={type:"element",tagName:"br",properties:{},children:[]};return n.patch(e,t),[n.applyData(e,t),{type:"text",value:`
`}]}function ly(n,e){const t=e.value?e.value+`
`:"",i={};e.lang&&(i.className=["language-"+e.lang]);let o={type:"element",tagName:"code",properties:i,children:[{type:"text",value:t}]};return e.meta&&(o.data={meta:e.meta}),n.patch(e,o),o=n.applyData(e,o),o={type:"element",tagName:"pre",properties:{},children:[o]},n.patch(e,o),o}function ay(n,e){const t={type:"element",tagName:"del",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function uy(n,e){const t={type:"element",tagName:"em",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function cy(n,e){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),o=Xe(i.toLowerCase()),r=n.footnoteOrder.indexOf(i);let l,u=n.footnoteCounts.get(i);u===void 0?(u=0,n.footnoteOrder.push(i),l=n.footnoteOrder.length):l=r+1,u+=1,n.footnoteCounts.set(i,u);const d={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+o,id:t+"fnref-"+o+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};n.patch(e,d);const c={type:"element",tagName:"sup",properties:{},children:[d]};return n.patch(e,c),n.applyData(e,c)}function dy(n,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function fy(n,e){if(n.options.allowDangerousHtml){const t={type:"raw",value:e.value};return n.patch(e,t),n.applyData(e,t)}}function ts(n,e){const t=e.referenceType;let i="]";if(t==="collapsed"?i+="[]":t==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const o=n.all(e),r=o[0];r&&r.type==="text"?r.value="["+r.value:o.unshift({type:"text",value:"["});const l=o[o.length-1];return l&&l.type==="text"?l.value+=i:o.push({type:"text",value:i}),o}function py(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return ts(n,e);const o={src:Xe(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(o.title=i.title);const r={type:"element",tagName:"img",properties:o,children:[]};return n.patch(e,r),n.applyData(e,r)}function hy(n,e){const t={src:Xe(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"img",properties:t,children:[]};return n.patch(e,i),n.applyData(e,i)}function my(n,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};n.patch(e,t);const i={type:"element",tagName:"code",properties:{},children:[t]};return n.patch(e,i),n.applyData(e,i)}function gy(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return ts(n,e);const o={href:Xe(i.url||"")};i.title!==null&&i.title!==void 0&&(o.title=i.title);const r={type:"element",tagName:"a",properties:o,children:n.all(e)};return n.patch(e,r),n.applyData(e,r)}function yy(n,e){const t={href:Xe(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"a",properties:t,children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function Ty(n,e,t){const i=n.all(e),o=t?Cy(t):is(e),r={},l=[];if(typeof e.checked=="boolean"){const f=i[0];let p;f&&f.type==="element"&&f.tagName==="p"?p=f:(p={type:"element",tagName:"p",properties:{},children:[]},i.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),r.className=["task-list-item"]}let u=-1;for(;++u<i.length;){const f=i[u];(o||u!==0||f.type!=="element"||f.tagName!=="p")&&l.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!o?l.push(...f.children):l.push(f)}const d=i[i.length-1];d&&(o||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:r,children:l};return n.patch(e,c),n.applyData(e,c)}function Cy(n){let e=!1;if(n.type==="list"){e=n.spread||!1;const t=n.children;let i=-1;for(;!e&&++i<t.length;)e=is(t[i])}return e}function is(n){const e=n.spread;return e??n.children.length>1}function Ey(n,e){const t={},i=n.all(e);let o=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++o<i.length;){const l=i[o];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const r={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:n.wrap(i,!0)};return n.patch(e,r),n.applyData(e,r)}function _y(n,e){const t={type:"element",tagName:"p",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Sy(n,e){const t={type:"root",children:n.wrap(n.all(e))};return n.patch(e,t),n.applyData(e,t)}function Iy(n,e){const t={type:"element",tagName:"strong",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function vy(n,e){const t=n.all(e),i=t.shift(),o=[];if(i){const l={type:"element",tagName:"thead",properties:{},children:n.wrap([i],!0)};n.patch(e.children[0],l),o.push(l)}if(t.length>0){const l={type:"element",tagName:"tbody",properties:{},children:n.wrap(t,!0)},u=At(e.children[1]),d=Vr(e.children[e.children.length-1]);u&&d&&(l.position={start:u,end:d}),o.push(l)}const r={type:"element",tagName:"table",properties:{},children:n.wrap(o,!0)};return n.patch(e,r),n.applyData(e,r)}function Ay(n,e,t){const i=t?t.children:void 0,r=(i?i.indexOf(e):1)===0?"th":"td",l=t&&t.type==="table"?t.align:void 0,u=l?l.length:e.children.length;let d=-1;const c=[];for(;++d<u;){const p=e.children[d],h={},m=l?l[d]:void 0;m&&(h.align=m);let T={type:"element",tagName:r,properties:h,children:[]};p&&(T.children=n.all(p),n.patch(p,T),T=n.applyData(p,T)),c.push(T)}const f={type:"element",tagName:"tr",properties:{},children:n.wrap(c,!0)};return n.patch(e,f),n.applyData(e,f)}function xy(n,e){const t={type:"element",tagName:"td",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}const qo=9,Go=32;function ky(n){const e=String(n),t=/\r?\n|\r/g;let i=t.exec(e),o=0;const r=[];for(;i;)r.push(Ho(e.slice(o,i.index),o>0,!0),i[0]),o=i.index+i[0].length,i=t.exec(e);return r.push(Ho(e.slice(o),o>0,!1)),r.join("")}function Ho(n,e,t){let i=0,o=n.length;if(e){let r=n.codePointAt(i);for(;r===qo||r===Go;)i++,r=n.codePointAt(i)}if(t){let r=n.codePointAt(o-1);for(;r===qo||r===Go;)o--,r=n.codePointAt(o-1)}return o>i?n.slice(i,o):""}function wy(n,e){const t={type:"text",value:ky(String(e.value))};return n.patch(e,t),n.applyData(e,t)}function Py(n,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(e,t),n.applyData(e,t)}const Ry={blockquote:ry,break:sy,code:ly,delete:ay,emphasis:uy,footnoteReference:cy,heading:dy,html:fy,imageReference:py,image:hy,inlineCode:my,linkReference:gy,link:yy,listItem:Ty,list:Ey,paragraph:_y,root:Sy,strong:Iy,table:vy,tableCell:xy,tableRow:Ay,text:wy,thematicBreak:Py,toml:gn,yaml:gn,definition:gn,footnoteDefinition:gn};function gn(){}const os=-1,Dn=0,dn=1,xn=2,Nt=3,Dt=4,Lt=5,Ft=6,rs=7,ss=8,Bo=typeof self=="object"?self:globalThis,My=(n,e)=>{const t=(o,r)=>(n.set(r,o),o),i=o=>{if(n.has(o))return n.get(o);const[r,l]=e[o];switch(r){case Dn:case os:return t(l,o);case dn:{const u=t([],o);for(const d of l)u.push(i(d));return u}case xn:{const u=t({},o);for(const[d,c]of l)u[i(d)]=i(c);return u}case Nt:return t(new Date(l),o);case Dt:{const{source:u,flags:d}=l;return t(new RegExp(u,d),o)}case Lt:{const u=t(new Map,o);for(const[d,c]of l)u.set(i(d),i(c));return u}case Ft:{const u=t(new Set,o);for(const d of l)u.add(i(d));return u}case rs:{const{name:u,message:d}=l;return t(new Bo[u](d),o)}case ss:return t(BigInt(l),o);case"BigInt":return t(Object(BigInt(l)),o);case"ArrayBuffer":return t(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:u}=new Uint8Array(l);return t(new DataView(u),l)}}return t(new Bo[r](l),o)};return i},zo=n=>My(new Map,n)(0),qe="",{toString:Ny}={},{keys:Dy}=Object,sn=n=>{const e=typeof n;if(e!=="object"||!n)return[Dn,e];const t=Ny.call(n).slice(8,-1);switch(t){case"Array":return[dn,qe];case"Object":return[xn,qe];case"Date":return[Nt,qe];case"RegExp":return[Dt,qe];case"Map":return[Lt,qe];case"Set":return[Ft,qe];case"DataView":return[dn,t]}return t.includes("Array")?[dn,t]:t.includes("Error")?[rs,t]:[xn,t]},yn=([n,e])=>n===Dn&&(e==="function"||e==="symbol"),Ly=(n,e,t,i)=>{const o=(l,u)=>{const d=i.push(l)-1;return t.set(u,d),d},r=l=>{if(t.has(l))return t.get(l);let[u,d]=sn(l);switch(u){case Dn:{let f=l;switch(d){case"bigint":u=ss,f=l.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+d);f=null;break;case"undefined":return o([os],l)}return o([u,f],l)}case dn:{if(d){let h=l;return d==="DataView"?h=new Uint8Array(l.buffer):d==="ArrayBuffer"&&(h=new Uint8Array(l)),o([d,[...h]],l)}const f=[],p=o([u,f],l);for(const h of l)f.push(r(h));return p}case xn:{if(d)switch(d){case"BigInt":return o([d,l.toString()],l);case"Boolean":case"Number":case"String":return o([d,l.valueOf()],l)}if(e&&"toJSON"in l)return r(l.toJSON());const f=[],p=o([u,f],l);for(const h of Dy(l))(n||!yn(sn(l[h])))&&f.push([r(h),r(l[h])]);return p}case Nt:return o([u,l.toISOString()],l);case Dt:{const{source:f,flags:p}=l;return o([u,{source:f,flags:p}],l)}case Lt:{const f=[],p=o([u,f],l);for(const[h,m]of l)(n||!(yn(sn(h))||yn(sn(m))))&&f.push([r(h),r(m)]);return p}case Ft:{const f=[],p=o([u,f],l);for(const h of l)(n||!yn(sn(h)))&&f.push(r(h));return p}}const{message:c}=l;return o([u,{name:d,message:c}],l)};return r},Jo=(n,{json:e,lossy:t}={})=>{const i=[];return Ly(!(e||t),!!e,new Map,i)(n),i},kn=typeof structuredClone=="function"?(n,e)=>e&&("json"in e||"lossy"in e)?zo(Jo(n,e)):structuredClone(n):(n,e)=>zo(Jo(n,e));function Fy(n,e){const t=[{type:"text",value:""}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function Uy(n,e){return"Back to reference "+(n+1)+(e>1?"-"+e:"")}function Vy(n){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",t=n.options.footnoteBackContent||Fy,i=n.options.footnoteBackLabel||Uy,o=n.options.footnoteLabel||"Footnotes",r=n.options.footnoteLabelTagName||"h2",l=n.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let d=-1;for(;++d<n.footnoteOrder.length;){const c=n.footnoteById.get(n.footnoteOrder[d]);if(!c)continue;const f=n.all(c),p=String(c.identifier).toUpperCase(),h=Xe(p.toLowerCase());let m=0;const T=[],E=n.footnoteCounts.get(p);for(;E!==void 0&&++m<=E;){T.length>0&&T.push({type:"text",value:" "});let A=typeof t=="string"?t:t(d,m);typeof A=="string"&&(A={type:"text",value:A}),T.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+h+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(d,m),className:["data-footnote-backref"]},children:Array.isArray(A)?A:[A]})}const I=f[f.length-1];if(I&&I.type==="element"&&I.tagName==="p"){const A=I.children[I.children.length-1];A&&A.type==="text"?A.value+=" ":I.children.push({type:"text",value:" "}),I.children.push(...T)}else f.push(...T);const C={type:"element",tagName:"li",properties:{id:e+"fn-"+h},children:n.wrap(f,!0)};n.patch(c,C),u.push(C)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:r,properties:{...kn(l),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(u,!0)},{type:"text",value:`
`}]}}const ls=(function(n){if(n==null)return Hy;if(typeof n=="function")return Ln(n);if(typeof n=="object")return Array.isArray(n)?by(n):qy(n);if(typeof n=="string")return Gy(n);throw new Error("Expected function, string, or object as test")});function by(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=ls(n[t]);return Ln(i);function i(...o){let r=-1;for(;++r<e.length;)if(e[r].apply(this,o))return!0;return!1}}function qy(n){const e=n;return Ln(t);function t(i){const o=i;let r;for(r in n)if(o[r]!==e[r])return!1;return!0}}function Gy(n){return Ln(e);function e(t){return t&&t.type===n}}function Ln(n){return e;function e(t,i,o){return!!(By(t)&&n.call(this,t,typeof i=="number"?i:void 0,o||void 0))}}function Hy(){return!0}function By(n){return n!==null&&typeof n=="object"&&"type"in n}const as=[],zy=!0,$o=!1,Jy="skip";function $y(n,e,t,i){let o;typeof e=="function"&&typeof t!="function"?(i=t,t=e):o=e;const r=ls(o),l=i?-1:1;u(n,void 0,[])();function u(d,c,f){const p=d&&typeof d=="object"?d:{};if(typeof p.type=="string"){const m=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(d.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=as,T,E,I;if((!e||r(d,c,f[f.length-1]||void 0))&&(m=Yy(t(d,f)),m[0]===$o))return m;if("children"in d&&d.children){const C=d;if(C.children&&m[0]!==Jy)for(E=(i?C.children.length:-1)+l,I=f.concat(C);E>-1&&E<C.children.length;){const A=C.children[E];if(T=u(A,E,I)(),T[0]===$o)return T;E=typeof T[1]=="number"?T[1]:E+l}}return m}}}function Yy(n){return Array.isArray(n)?n:typeof n=="number"?[zy,n]:n==null?as:[n]}function us(n,e,t,i){let o,r,l;typeof e=="function"&&typeof t!="function"?(r=void 0,l=e,o=t):(r=e,l=t,o=i),$y(n,r,u,o);function u(d,c){const f=c[c.length-1],p=f?f.children.indexOf(d):void 0;return l(d,p,f)}}const ft={}.hasOwnProperty,Wy={};function Oy(n,e){const t=e||Wy,i=new Map,o=new Map,r=new Map,l={...Ry,...t.handlers},u={all:c,applyData:Xy,definitionById:i,footnoteById:o,footnoteCounts:r,footnoteOrder:[],handlers:l,one:d,options:t,patch:Ky,wrap:Zy};return us(n,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const p=f.type==="definition"?i:o,h=String(f.identifier).toUpperCase();p.has(h)||p.set(h,f)}}),u;function d(f,p){const h=f.type,m=u.handlers[h];if(ft.call(u.handlers,h)&&m)return m(u,f,p);if(u.options.passThrough&&u.options.passThrough.includes(h)){if("children"in f){const{children:E,...I}=f,C=kn(I);return C.children=u.all(f),C}return kn(f)}return(u.options.unknownHandler||Qy)(u,f,p)}function c(f){const p=[];if("children"in f){const h=f.children;let m=-1;for(;++m<h.length;){const T=u.one(h[m],f);if(T){if(m&&h[m-1].type==="break"&&(!Array.isArray(T)&&T.type==="text"&&(T.value=Yo(T.value)),!Array.isArray(T)&&T.type==="element")){const E=T.children[0];E&&E.type==="text"&&(E.value=Yo(E.value))}Array.isArray(T)?p.push(...T):p.push(T)}}}return p}}function Ky(n,e){n.position&&(e.position=Nh(n))}function Xy(n,e){let t=e;if(n&&n.data){const i=n.data.hName,o=n.data.hChildren,r=n.data.hProperties;if(typeof i=="string")if(t.type==="element")t.tagName=i;else{const l="children"in t?t.children:[t];t={type:"element",tagName:i,properties:{},children:l}}t.type==="element"&&r&&Object.assign(t.properties,kn(r)),"children"in t&&t.children&&o!==null&&o!==void 0&&(t.children=o)}return t}function Qy(n,e){const t=e.data||{},i="value"in e&&!(ft.call(t,"hProperties")||ft.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function Zy(n,e){const t=[];let i=-1;for(e&&t.push({type:"text",value:`
`});++i<n.length;)i&&t.push({type:"text",value:`
`}),t.push(n[i]);return e&&n.length>0&&t.push({type:"text",value:`
`}),t}function Yo(n){let e=0,t=n.charCodeAt(e);for(;t===9||t===32;)e++,t=n.charCodeAt(e);return n.slice(e)}function Wo(n,e){const t=Oy(n,e),i=t.one(n,void 0),o=Vy(t),r=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return o&&r.children.push({type:"text",value:`
`},o),r}function jy(n,e){return n&&"run"in n?async function(t,i){const o=Wo(t,{file:i,...e});await n.run(o,i)}:function(t,i){return Wo(t,{file:i,...n||e})}}function Oo(n){if(n)throw n}var Bn,Ko;function eT(){if(Ko)return Bn;Ko=1;var n=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=function(c){return typeof Array.isArray=="function"?Array.isArray(c):e.call(c)==="[object Array]"},r=function(c){if(!c||e.call(c)!=="[object Object]")return!1;var f=n.call(c,"constructor"),p=c.constructor&&c.constructor.prototype&&n.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!f&&!p)return!1;var h;for(h in c);return typeof h>"u"||n.call(c,h)},l=function(c,f){t&&f.name==="__proto__"?t(c,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):c[f.name]=f.newValue},u=function(c,f){if(f==="__proto__")if(n.call(c,f)){if(i)return i(c,f).value}else return;return c[f]};return Bn=function d(){var c,f,p,h,m,T,E=arguments[0],I=1,C=arguments.length,A=!1;for(typeof E=="boolean"&&(A=E,E=arguments[1]||{},I=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});I<C;++I)if(c=arguments[I],c!=null)for(f in c)p=u(E,f),h=u(c,f),E!==h&&(A&&h&&(r(h)||(m=o(h)))?(m?(m=!1,T=p&&o(p)?p:[]):T=p&&r(p)?p:{},l(E,{name:f,newValue:d(A,T,h)})):typeof h<"u"&&l(E,{name:f,newValue:h}));return E},Bn}var nT=eT();const zn=nr(nT);function pt(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function tT(){const n=[],e={run:t,use:i};return e;function t(...o){let r=-1;const l=o.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...o);function u(d,...c){const f=n[++r];let p=-1;if(d){l(d);return}for(;++p<o.length;)(c[p]===null||c[p]===void 0)&&(c[p]=o[p]);o=c,f?iT(f,u)(...c):l(null,...c)}}function i(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return n.push(o),e}}function iT(n,e){let t;return i;function i(...l){const u=n.length>l.length;let d;u&&l.push(o);try{d=n.apply(this,l)}catch(c){const f=c;if(u&&t)throw f;return o(f)}u||(d&&d.then&&typeof d.then=="function"?d.then(r,o):d instanceof Error?o(d):r(d))}function o(l,...u){t||(t=!0,e(l,...u))}function r(l){o(null,l)}}const ge={basename:oT,dirname:rT,extname:sT,join:lT,sep:"/"};function oT(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');hn(n);let t=0,i=-1,o=n.length,r;if(e===void 0||e.length===0||e.length>n.length){for(;o--;)if(n.codePointAt(o)===47){if(r){t=o+1;break}}else i<0&&(r=!0,i=o+1);return i<0?"":n.slice(t,i)}if(e===n)return"";let l=-1,u=e.length-1;for(;o--;)if(n.codePointAt(o)===47){if(r){t=o+1;break}}else l<0&&(r=!0,l=o+1),u>-1&&(n.codePointAt(o)===e.codePointAt(u--)?u<0&&(i=o):(u=-1,i=l));return t===i?i=l:i<0&&(i=n.length),n.slice(t,i)}function rT(n){if(hn(n),n.length===0)return".";let e=-1,t=n.length,i;for(;--t;)if(n.codePointAt(t)===47){if(i){e=t;break}}else i||(i=!0);return e<0?n.codePointAt(0)===47?"/":".":e===1&&n.codePointAt(0)===47?"//":n.slice(0,e)}function sT(n){hn(n);let e=n.length,t=-1,i=0,o=-1,r=0,l;for(;e--;){const u=n.codePointAt(e);if(u===47){if(l){i=e+1;break}continue}t<0&&(l=!0,t=e+1),u===46?o<0?o=e:r!==1&&(r=1):o>-1&&(r=-1)}return o<0||t<0||r===0||r===1&&o===t-1&&o===i+1?"":n.slice(o,t)}function lT(...n){let e=-1,t;for(;++e<n.length;)hn(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":aT(t)}function aT(n){hn(n);const e=n.codePointAt(0)===47;let t=uT(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.codePointAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function uT(n,e){let t="",i=0,o=-1,r=0,l=-1,u,d;for(;++l<=n.length;){if(l<n.length)u=n.codePointAt(l);else{if(u===47)break;u=47}if(u===47){if(!(o===l-1||r===1))if(o!==l-1&&r===2){if(t.length<2||i!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(d=t.lastIndexOf("/"),d!==t.length-1){d<0?(t="",i=0):(t=t.slice(0,d),i=t.length-1-t.lastIndexOf("/")),o=l,r=0;continue}}else if(t.length>0){t="",i=0,o=l,r=0;continue}}e&&(t=t.length>0?t+"/..":"..",i=2)}else t.length>0?t+="/"+n.slice(o+1,l):t=n.slice(o+1,l),i=l-o-1;o=l,r=0}else u===46&&r>-1?r++:r=-1}return t}function hn(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const cT={cwd:dT};function dT(){return"/"}function ht(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function fT(n){if(typeof n=="string")n=new URL(n);else if(!ht(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return pT(n)}function pT(n){if(n.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const i=e.codePointAt(t+2);if(i===70||i===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(e)}const Jn=["history","path","basename","stem","extname","dirname"];class cs{constructor(e){let t;e?ht(e)?t={path:e}:typeof e=="string"||hT(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":cT.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Jn.length;){const r=Jn[i];r in t&&t[r]!==void 0&&t[r]!==null&&(this[r]=r==="history"?[...t[r]]:t[r])}let o;for(o in t)Jn.includes(o)||(this[o]=t[o])}get basename(){return typeof this.path=="string"?ge.basename(this.path):void 0}set basename(e){Yn(e,"basename"),$n(e,"basename"),this.path=ge.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ge.dirname(this.path):void 0}set dirname(e){Xo(this.basename,"dirname"),this.path=ge.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ge.extname(this.path):void 0}set extname(e){if($n(e,"extname"),Xo(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ge.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){ht(e)&&(e=fT(e)),Yn(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ge.basename(this.path,this.extname):void 0}set stem(e){Yn(e,"stem"),$n(e,"stem"),this.path=ge.join(this.dirname||"",e+(this.extname||""))}fail(e,t,i){const o=this.message(e,t,i);throw o.fatal=!0,o}info(e,t,i){const o=this.message(e,t,i);return o.fatal=void 0,o}message(e,t,i){const o=new te(e,t,i);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function $n(n,e){if(n&&n.includes(ge.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ge.sep+"`")}function Yn(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function Xo(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function hT(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const mT=(function(n){const i=this.constructor.prototype,o=i[n],r=function(){return o.apply(r,arguments)};return Object.setPrototypeOf(r,i),r}),gT={}.hasOwnProperty;class Ut extends mT{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=tT()}copy(){const e=new Ut;let t=-1;for(;++t<this.attachers.length;){const i=this.attachers[t];e.use(...i)}return e.data(zn(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(Kn("data",this.frozen),this.namespace[e]=t,this):gT.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Kn("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const o=t.call(e,...i);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=Tn(e),i=this.parser||this.Parser;return Wn("parse",i),i(String(t),t)}process(e,t){const i=this;return this.freeze(),Wn("process",this.parser||this.Parser),On("process",this.compiler||this.Compiler),t?o(void 0,t):new Promise(o);function o(r,l){const u=Tn(e),d=i.parse(u);i.run(d,u,function(f,p,h){if(f||!p||!h)return c(f);const m=p,T=i.stringify(m,h);CT(T)?h.value=T:h.result=T,c(f,h)});function c(f,p){f||!p?l(f):r?r(p):t(void 0,p)}}}processSync(e){let t=!1,i;return this.freeze(),Wn("processSync",this.parser||this.Parser),On("processSync",this.compiler||this.Compiler),this.process(e,o),Zo("processSync","process",t),i;function o(r,l){t=!0,Oo(r),i=l}}run(e,t,i){Qo(e),this.freeze();const o=this.transformers;return!i&&typeof t=="function"&&(i=t,t=void 0),i?r(void 0,i):new Promise(r);function r(l,u){const d=Tn(t);o.run(e,d,c);function c(f,p,h){const m=p||e;f?u(f):l?l(m):i(void 0,m,h)}}}runSync(e,t){let i=!1,o;return this.run(e,t,r),Zo("runSync","run",i),o;function r(l,u){Oo(l),o=u,i=!0}}stringify(e,t){this.freeze();const i=Tn(t),o=this.compiler||this.Compiler;return On("stringify",o),Qo(e),o(e,i)}use(e,...t){const i=this.attachers,o=this.namespace;if(Kn("use",this.frozen),e!=null)if(typeof e=="function")d(e,t);else if(typeof e=="object")Array.isArray(e)?u(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function r(c){if(typeof c=="function")d(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[f,...p]=c;d(f,p)}else l(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function l(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(c.plugins),c.settings&&(o.settings=zn(!0,o.settings,c.settings))}function u(c){let f=-1;if(c!=null)if(Array.isArray(c))for(;++f<c.length;){const p=c[f];r(p)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function d(c,f){let p=-1,h=-1;for(;++p<i.length;)if(i[p][0]===c){h=p;break}if(h===-1)i.push([c,...f]);else if(f.length>0){let[m,...T]=f;const E=i[h][1];pt(E)&&pt(m)&&(m=zn(!0,E,m)),i[h]=[c,m,...T]}}}}const yT=new Ut().freeze();function Wn(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function On(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function Kn(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Qo(n){if(!pt(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function Zo(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function Tn(n){return TT(n)?n:new cs(n)}function TT(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function CT(n){return typeof n=="string"||ET(n)}function ET(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const _T="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",jo=[],er={allowDangerousHtml:!0},ST=/^(https?|ircs?|mailto|xmpp)$/i,IT=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function qC(n){const e=vT(n),t=AT(n);return xT(e.runSync(e.parse(t),t),n)}function vT(n){const e=n.rehypePlugins||jo,t=n.remarkPlugins||jo,i=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...er}:er;return yT().use(oy).use(t).use(jy,i).use(e)}function AT(n){const e=n.children||"",t=new cs;return typeof e=="string"&&(t.value=e),t}function xT(n,e){const t=e.allowedElements,i=e.allowElement,o=e.components,r=e.disallowedElements,l=e.skipHtml,u=e.unwrapDisallowed,d=e.urlTransform||kT;for(const f of IT)Object.hasOwn(e,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+_T+f.id,void 0);return us(n,c),Vh(n,{Fragment:Un.Fragment,components:o,ignoreInvalidStyle:!0,jsx:Un.jsx,jsxs:Un.jsxs,passKeys:!0,passNode:!0});function c(f,p,h){if(f.type==="raw"&&h&&typeof p=="number")return l?h.children.splice(p,1):h.children[p]={type:"text",value:f.value},p;if(f.type==="element"){let m;for(m in qn)if(Object.hasOwn(qn,m)&&Object.hasOwn(f.properties,m)){const T=f.properties[m],E=qn[m];(E===null||E.includes(f.tagName))&&(f.properties[m]=d(String(T||""),m,f))}}if(f.type==="element"){let m=t?!t.includes(f.tagName):r?r.includes(f.tagName):!1;if(!m&&i&&typeof p=="number"&&(m=!i(f,p,h)),m&&h&&typeof p=="number")return u&&f.children?h.children.splice(p,1,...f.children):h.children.splice(p,1),p}}}function kT(n){const e=n.indexOf(":"),t=n.indexOf("?"),i=n.indexOf("#"),o=n.indexOf("/");return e===-1||o!==-1&&e>o||t!==-1&&e>t||i!==-1&&e>i||ST.test(n.slice(0,e))?n:""}export{jT as $,RT as A,DT as B,GT as C,WT as D,QT as E,eC as F,iC as G,OT as H,BT as I,oC as J,rC as K,lC as L,aC as M,qT as N,FC as O,uC as P,UT as Q,hC as R,_C as S,RC as T,NC as U,kC as V,$T as W,VC as X,HT as Y,FT as Z,cC as _,EC as a,fC as a0,qC as a1,bC as a2,XT as a3,dC as a4,LC as a5,AC as a6,xC as a7,DC as a8,ZT as a9,CC as aa,JT as b,mC as c,gC as d,SC as e,KT as f,sC as g,nC as h,UC as i,Un as j,LT as k,PC as l,TC as m,tC as n,vC as o,IC as p,zT as q,VT as r,yC as s,YT as t,bT as u,pC as v,wC as w,MC as x,NT as y,MT as z};
