import{j as e,B as u,i as f,a8 as g,a9 as p,aa as j}from"./vendor-D6w34f8l.js";import{r as l}from"./recharts-Crih3Ma1.js";import{sendPushNotification as w}from"./backendApi-BecRD4PS.js";import"./react-Bzgz95E1.js";const S=()=>{const[a,n]=l.useState(""),[o,d]=l.useState(""),[s,r]=l.useState("all"),[c,x]=l.useState(!1),[b,i]=l.useState(""),m=async()=>{if(!a.trim()&&!o.trim()){alert("กรุณาใส่หัวข้อหรือข้อความ");return}x(!0),i("");try{const h=await w(a,o,s==="all"?void 0:[s]);i(`ส่งสำเร็จ: ${h.sent} รายการ, ล้มเหลว: ${h.failed}`),n(""),d("")}catch{i("เกิดข้อผิดพลาดในการส่ง")}finally{x(!1)}};return e.jsxs("div",{className:"glass-panel rounded-3xl p-6 shadow-glass border border-white/60",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-3 bg-indigo-50 rounded-2xl text-indigo-600",children:e.jsx(u,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"ส่งการแจ้งเตือน"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Push notification ตามกลุ่มผู้ใช้"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 mb-2 block",children:"หัวข้อ"}),e.jsx("input",{type:"text",value:a,onChange:t=>n(t.target.value),placeholder:"เช่น แจ้งเตือนขยะล้น",className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:border-indigo-300 focus:ring-2 focus:ring-indigo-100 outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 mb-2 block",children:"ข้อความ"}),e.jsx("textarea",{value:o,onChange:t=>d(t.target.value),placeholder:"รายละเอียดข้อความ...",rows:3,className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:border-indigo-300 focus:ring-2 focus:ring-indigo-100 outline-none transition-all resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 mb-2 block",children:"กลุ่มเป้าหมาย"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>r("all"),className:`flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-bold text-sm transition-all ${s==="all"?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30":"bg-white border border-slate-200 text-slate-600 hover:border-indigo-200"}`,children:[e.jsx(f,{size:18}),"ทั้งหมด"]}),e.jsxs("button",{onClick:()=>r("admin"),className:`flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-bold text-sm transition-all ${s==="admin"?"bg-rose-600 text-white shadow-lg shadow-rose-500/30":"bg-white border border-slate-200 text-slate-600 hover:border-rose-200"}`,children:[e.jsx(g,{size:18}),"Admin"]}),e.jsxs("button",{onClick:()=>r("staff"),className:`flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-bold text-sm transition-all ${s==="staff"?"bg-emerald-600 text-white shadow-lg shadow-emerald-500/30":"bg-white border border-slate-200 text-slate-600 hover:border-emerald-200"}`,children:[e.jsx(g,{size:18}),"Staff"]}),e.jsxs("button",{onClick:()=>r("viewer"),className:`flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-bold text-sm transition-all ${s==="viewer"?"bg-blue-600 text-white shadow-lg shadow-blue-500/30":"bg-white border border-slate-200 text-slate-600 hover:border-blue-200"}`,children:[e.jsx(p,{size:18}),"Viewer"]})]})]}),e.jsxs("button",{onClick:m,disabled:c,className:"w-full flex items-center justify-center gap-2 px-6 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-500/30 hover:shadow-indigo-500/50 transition-all disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",children:[e.jsx(j,{size:20}),c?"กำลังส่ง...":"ส่งการแจ้งเตือน"]}),b&&e.jsx("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-xl",children:e.jsx("p",{className:"text-sm font-bold text-green-700",children:b})})]})]})};export{S as default};
