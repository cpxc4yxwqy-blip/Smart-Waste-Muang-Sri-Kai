import{r as mt}from"./recharts-BuoUal61.js";import{g as Fr}from"./react-B--z-fyW.js";var Zt={exports:{}},at={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gi;function Sl(){if(gi)return at;gi=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,r){var l=null;if(r!==void 0&&(l=""+r),o.key!==void 0&&(l=""+o.key),"key"in o){r={};for(var u in o)u!=="key"&&(r[u]=o[u])}else r=o;return o=r.ref,{$$typeof:t,type:i,key:l,ref:o!==void 0?o:null,props:r}}return at.Fragment=e,at.jsx=n,at.jsxs=n,at}var yi;function Il(){return yi||(yi=1,Zt.exports=Sl()),Zt.exports}var jt=Il();/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wl=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),vi=t=>{const e=wl(t);return e.charAt(0).toUpperCase()+e.slice(1)},Vr=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),xl=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kl={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=mt.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:r,iconNode:l,...u},d)=>mt.createElement("svg",{ref:d,...kl,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:Vr("lucide",o),...!r&&!xl(u)&&{"aria-hidden":"true"},...u},[...l.map(([c,f])=>mt.createElement(c,f)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=(t,e)=>{const n=mt.forwardRef(({className:i,...o},r)=>mt.createElement(Rl,{ref:r,iconNode:e,className:Vr(`lucide-${Al(vi(t))}`,`lucide-${t}`,i),...o}));return n.displayName=vi(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],gT=U("activity",Ml);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],yT=U("arrow-down-right",Pl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],vT=U("arrow-up-right",Nl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],TT=U("bell",Dl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],ET=U("bot",Ll);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],_T=U("briefcase",bl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m14 14-4 4",key:"rymu2i"}],["path",{d:"m10 14 4 4",key:"3sz06r"}]],CT=U("calendar-x",Ul);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ST=U("chart-column",Fl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],IT=U("chart-pie",Vl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],AT=U("check",Gl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],wT=U("chevron-right",ql);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xT=U("circle-alert",Hl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kT=U("circle-check-big",Bl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],RT=U("circle-plus",zl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],MT=U("clock",$l);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],PT=U("cloud",Jl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],NT=U("coins",Ol);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],DT=U("database",Wl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]],LT=U("dices",Yl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],bT=U("download",Kl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],UT=U("eraser",Xl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],FT=U("external-link",Ql);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],VT=U("eye",Zl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],GT=U("file-check",jl);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],qT=U("file-plus",ea);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],HT=U("file-text",ta);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],BT=U("funnel",na);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],zT=U("gauge",ia);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],$T=U("info",oa);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],JT=U("key",ra);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],OT=U("layout-dashboard",sa);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],WT=U("leaf",la);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],YT=U("menu",aa);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],KT=U("pen-line",ua);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],XT=U("pen-tool",ca);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],QT=U("pen",da);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],ZT=U("printer",fa);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=[["path",{d:"M19.07 4.93A10 10 0 0 0 6.99 3.34",key:"z3du51"}],["path",{d:"M4 6h.01",key:"oypzma"}],["path",{d:"M2.29 9.62A10 10 0 1 0 21.31 8.35",key:"qzzz0"}],["path",{d:"M16.24 7.76A6 6 0 1 0 8.23 16.67",key:"1yjesh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M17.99 11.66A6 6 0 0 1 15.77 16.67",key:"1u2y91"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"m13.41 10.59 5.66-5.66",key:"mhq4k0"}]],jT=U("radar",pa);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],eE=U("refresh-cw",ha);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],tE=U("rotate-ccw",ma);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],nE=U("save",ga);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],iE=U("scale",ya);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],oE=U("search",va);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],rE=U("send",Ta);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sE=U("settings",Ea);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],lE=U("shield",_a);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],aE=U("smartphone",Ca);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],uE=U("sparkles",Sa);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]],cE=U("split",Ia);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dE=U("square-check-big",Aa);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],fE=U("square",wa);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],pE=U("sticky-note",xa);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],hE=U("table",ka);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],mE=U("target",Ra);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gE=U("trash-2",Ma);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],yE=U("triangle-alert",Pa);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],vE=U("upload",Na);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],TE=U("user-check",Da);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],EE=U("user-plus",La);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_E=U("user",ba);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],CE=U("users",Ua);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],SE=U("x",Fa);var Va={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ga,qa;function Ha(){return{geminiUrl:Ga,vertexUrl:qa}}function Ba(t,e,n,i){var o,r;if(!(t!=null&&t.baseUrl)){const l=Ha();return e?(o=l.vertexUrl)!==null&&o!==void 0?o:n:(r=l.geminiUrl)!==null&&r!==void 0?r:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Me{}function P(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const r=e[o];return r!=null?String(r):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function a(t,e,n){for(let r=0;r<e.length-1;r++){const l=e[r];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[u])){const d=t[u];if(Array.isArray(n))for(let c=0;c<d.length;c++){const f=d[c];a(f,e.slice(r+1),n[c])}else for(const c of d)a(c,e.slice(r+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in t||(t[u]=[{}]);const d=t[u];a(d[0],e.slice(r+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const i=e[e.length-1],o=t[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function s(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const o=e[i];if(o.endsWith("[]")){const r=o.slice(0,-2);if(r in t){const l=t[r];return Array.isArray(l)?l.map(u=>s(u,e.slice(i+1),n)):n}else return n}else t=t[o]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function za(t,e){for(const[n,i]of Object.entries(e)){const o=n.split("."),r=i.split("."),l=new Set;let u=-1;for(let d=0;d<o.length;d++)if(o[d]==="*"){u=d;break}if(u!==-1&&r.length>u)for(let d=u;d<r.length;d++){const c=r[d];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&l.add(c)}yn(t,o,r,0,l)}}function yn(t,e,n,i,o){if(i>=e.length||typeof t!="object"||t===null)return;const r=e[i];if(r.endsWith("[]")){const l=r.slice(0,-2),u=t;if(l in u&&Array.isArray(u[l]))for(const d of u[l])yn(d,e,n,i+1,o)}else if(r==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,u=Object.keys(l).filter(c=>!c.startsWith("_")&&!o.has(c)),d={};for(const c of u)d[c]=l[c];for(const[c,f]of Object.entries(d)){const p=[];for(const h of n.slice(i))h==="*"?p.push(c):p.push(h);a(l,p,f)}for(const c of u)delete l[c]}}else{const l=t;r in l&&yn(l[r],e,n,i+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hn(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $a(t){const e={},n=s(t,["operationName"]);n!=null&&a(e,["operationName"],n);const i=s(t,["resourceName"]);return i!=null&&a(e,["_url","resourceName"],i),e}function Ja(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const i=s(t,["metadata"]);i!=null&&a(e,["metadata"],i);const o=s(t,["done"]);o!=null&&a(e,["done"],o);const r=s(t,["error"]);r!=null&&a(e,["error"],r);const l=s(t,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],Wa(l)),e}function Oa(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const i=s(t,["metadata"]);i!=null&&a(e,["metadata"],i);const o=s(t,["done"]);o!=null&&a(e,["done"],o);const r=s(t,["error"]);r!=null&&a(e,["error"],r);const l=s(t,["response"]);return l!=null&&a(e,["response"],Ya(l)),e}function Wa(t){const e={},n=s(t,["generatedSamples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>Ka(l))),a(e,["generatedVideos"],r)}const i=s(t,["raiMediaFilteredCount"]);i!=null&&a(e,["raiMediaFilteredCount"],i);const o=s(t,["raiMediaFilteredReasons"]);return o!=null&&a(e,["raiMediaFilteredReasons"],o),e}function Ya(t){const e={},n=s(t,["videos"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>Xa(l))),a(e,["generatedVideos"],r)}const i=s(t,["raiMediaFilteredCount"]);i!=null&&a(e,["raiMediaFilteredCount"],i);const o=s(t,["raiMediaFilteredReasons"]);return o!=null&&a(e,["raiMediaFilteredReasons"],o),e}function Ka(t){const e={},n=s(t,["video"]);return n!=null&&a(e,["video"],nu(n)),e}function Xa(t){const e={},n=s(t,["_self"]);return n!=null&&a(e,["video"],iu(n)),e}function Qa(t){const e={},n=s(t,["operationName"]);return n!=null&&a(e,["_url","operationName"],n),e}function Za(t){const e={},n=s(t,["operationName"]);return n!=null&&a(e,["_url","operationName"],n),e}function ja(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const i=s(t,["metadata"]);i!=null&&a(e,["metadata"],i);const o=s(t,["done"]);o!=null&&a(e,["done"],o);const r=s(t,["error"]);r!=null&&a(e,["error"],r);const l=s(t,["response"]);return l!=null&&a(e,["response"],eu(l)),e}function eu(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["parent"]);i!=null&&a(e,["parent"],i);const o=s(t,["documentName"]);return o!=null&&a(e,["documentName"],o),e}function Gr(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const i=s(t,["metadata"]);i!=null&&a(e,["metadata"],i);const o=s(t,["done"]);o!=null&&a(e,["done"],o);const r=s(t,["error"]);r!=null&&a(e,["error"],r);const l=s(t,["response"]);return l!=null&&a(e,["response"],tu(l)),e}function tu(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["parent"]);i!=null&&a(e,["parent"],i);const o=s(t,["documentName"]);return o!=null&&a(e,["documentName"],o),e}function nu(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["uri"],n);const i=s(t,["encodedVideo"]);i!=null&&a(e,["videoBytes"],Hn(i));const o=s(t,["encoding"]);return o!=null&&a(e,["mimeType"],o),e}function iu(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["uri"],n);const i=s(t,["bytesBase64Encoded"]);i!=null&&a(e,["videoBytes"],Hn(i));const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ti;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ti||(Ti={}));var Ei;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Ei||(Ei={}));var _i;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(_i||(_i={}));var Le;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Le||(Le={}));var Ci;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Ci||(Ci={}));var Si;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Si||(Si={}));var Ii;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Ii||(Ii={}));var Ai;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Ai||(Ai={}));var wi;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(wi||(wi={}));var xi;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(xi||(xi={}));var ki;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(ki||(ki={}));var Ri;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Ri||(Ri={}));var Mi;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Mi||(Mi={}));var Pi;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Pi||(Pi={}));var Ni;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Ni||(Ni={}));var Di;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Di||(Di={}));var Li;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Li||(Li={}));var bi;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(bi||(bi={}));var Ui;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ui||(Ui={}));var Lt;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Lt||(Lt={}));var Fi;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Fi||(Fi={}));var Vi;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Vi||(Vi={}));var Gi;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Gi||(Gi={}));var vn;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(vn||(vn={}));var qi;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(qi||(qi={}));var Hi;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Hi||(Hi={}));var Bi;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Bi||(Bi={}));var zi;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(zi||(zi={}));var $i;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})($i||($i={}));var Ji;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Ji||(Ji={}));var Oi;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Oi||(Oi={}));var Wi;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Wi||(Wi={}));var Yi;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Yi||(Yi={}));var Ki;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Ki||(Ki={}));var Xi;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Xi||(Xi={}));var Qi;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Qi||(Qi={}));var Zi;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Zi||(Zi={}));var ji;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ji||(ji={}));var eo;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(eo||(eo={}));var to;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(to||(to={}));var no;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(no||(no={}));var io;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(io||(io={}));var oo;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(oo||(oo={}));var ro;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(ro||(ro={}));var so;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(so||(so={}));var lo;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(lo||(lo={}));var ao;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ao||(ao={}));var uo;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(uo||(uo={}));var co;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(co||(co={}));var fo;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(fo||(fo={}));var po;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(po||(po={}));var ho;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(ho||(ho={}));var mo;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(mo||(mo={}));var go;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(go||(go={}));var yo;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(yo||(yo={}));var Ye;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ye||(Ye={}));class Tn{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class ut{get text(){var e,n,i,o,r,l,u,d;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",f=!1;const p=[];for(const h of(d=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[m,g]of Object.entries(h))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(g!==null||g!==void 0)&&p.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;f=!0,c+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var e,n,i,o,r,l,u,d;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const f=[];for(const p of(d=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[h,m]of Object.entries(p))h!=="inlineData"&&(m!==null||m!==void 0)&&f.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(c+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,i,o,r,l,u,d;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(d=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,i,o,r,l,u,d,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(d=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,i,o,r,l,u,d,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(d=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.output}}class vo{}class To{}class ou{}class ru{}class su{}class lu{}class Eo{}class _o{}class Co{}class au{}class bt{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new bt;let o;const r=e;return n?o=Oa(r):o=Ja(r),Object.assign(i,o),i}}class So{}class Io{}class Ao{}class wo{}class uu{}class cu{}class du{}class Bn{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Bn,r=ja(e);return Object.assign(i,r),i}}class fu{}class pu{}class hu{}class xo{}class mu{get text(){var e,n,i;let o="",r=!1;const l=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[d,c]of Object.entries(u))d!=="text"&&d!=="thought"&&c!==null&&l.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;r=!0,o+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),r?o:void 0}get data(){var e,n,i;let o="";const r=[];for(const l of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[u,d]of Object.entries(l))u!=="inlineData"&&d!==null&&r.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(o+=atob(l.inlineData.data))}return r.length>0&&console.warn(`there are non-data parts ${r} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class gu{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class zn{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new zn,r=Gr(e);return Object.assign(i,r),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function qr(t,e){const n=W(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Hr(t){return Array.isArray(t)?t.map(e=>Ut(e)):[Ut(t)]}function Ut(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Br(t){const e=Ut(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function zr(t){const e=Ut(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ko(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function $r(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>ko(e)):[ko(t)]}function En(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Ro(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Mo(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function ne(t){if(t==null)throw new Error("ContentUnion is required");return En(t)?t:{role:"user",parts:$r(t)}}function $n(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=ne(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=ne(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>ne(n)):[ne(e)]}function pe(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Ro(t)||Mo(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ne(t)]}const e=[],n=[],i=En(t[0]);for(const o of t){const r=En(o);if(r!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(r)e.push(o);else{if(Ro(o)||Mo(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||e.push({role:"user",parts:$r(n)}),e}function yu(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Le).includes(n[0].toUpperCase())?n[0].toUpperCase():Le.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Le).includes(i.toUpperCase())?i.toUpperCase():Le.TYPE_UNSPECIFIED})}}function Xe(t){const e={},n=["items"],i=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const r=t.anyOf;r!=null&&r.length==2&&(r[0].type==="null"?(e.nullable=!0,t=r[1]):r[1].type==="null"&&(e.nullable=!0,t=r[0])),t.type instanceof Array&&yu(t.type,e);for(const[l,u]of Object.entries(t))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Le).includes(u.toUpperCase())?u.toUpperCase():Le.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=Xe(u);else if(i.includes(l)){const d=[];for(const c of u){if(c.type=="null"){e.nullable=!0;continue}d.push(Xe(c))}e[l]=d}else if(o.includes(l)){const d={};for(const[c,f]of Object.entries(u))d[c]=Xe(f);e[l]=d}else{if(l==="additionalProperties")continue;e[l]=u}return e}function Jn(t){return Xe(t)}function On(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Wn(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function et(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Xe(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Xe(e.response));return t}function tt(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function vu(t,e,n,i=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function Pe(t,e){if(typeof e!="string")throw new Error("name must be a string");return vu(t,e,"cachedContents")}function Jr(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function be(t){return Hn(t)}function Tu(t){return t!=null&&typeof t=="object"&&"name"in t}function Eu(t){return t!=null&&typeof t=="object"&&"video"in t}function _u(t){return t!=null&&typeof t=="object"&&"uri"in t}function Or(t){var e;let n;if(Tu(t)&&(n=t.name),!(_u(t)&&(n=t.uri,n===void 0))&&!(Eu(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Wr(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Yr(t){for(const e of["models","tunedModels","publisherModels"])if(Cu(t,e))return t[e];return[]}function Cu(t,e){return t!==null&&typeof t=="object"&&e in t}function Su(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function Iu(t,e={}){const n=[],i=new Set;for(const o of t){const r=o.name;if(i.has(r))throw new Error(`Duplicate function name ${r} found in MCP tools. Please ensure function names are unique.`);i.add(r);const l=Su(o,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function Kr(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Au(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Xr(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let r=!1;for(const l of o){if(typeof l!="object"||l===null)continue;const d=l.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){r=!0;break}}return r&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function nt(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Qr(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wu(t){const e={},n=s(t,["responsesFile"]);n!=null&&a(e,["fileName"],n);const i=s(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>sc(l))),a(e,["inlinedResponses"],r)}const o=s(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["inlinedEmbedContentResponses"],r)}return e}function xu(t){const e={},n=s(t,["predictionsFormat"]);n!=null&&a(e,["format"],n);const i=s(t,["gcsDestination","outputUriPrefix"]);i!=null&&a(e,["gcsUri"],i);const o=s(t,["bigqueryDestination","outputUri"]);return o!=null&&a(e,["bigqueryUri"],o),e}function ku(t){const e={},n=s(t,["format"]);n!=null&&a(e,["predictionsFormat"],n);const i=s(t,["gcsUri"]);i!=null&&a(e,["gcsDestination","outputUriPrefix"],i);const o=s(t,["bigqueryUri"]);if(o!=null&&a(e,["bigqueryDestination","outputUri"],o),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Pt(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const i=s(t,["metadata","displayName"]);i!=null&&a(e,["displayName"],i);const o=s(t,["metadata","state"]);o!=null&&a(e,["state"],Qr(o));const r=s(t,["metadata","createTime"]);r!=null&&a(e,["createTime"],r);const l=s(t,["metadata","endTime"]);l!=null&&a(e,["endTime"],l);const u=s(t,["metadata","updateTime"]);u!=null&&a(e,["updateTime"],u);const d=s(t,["metadata","model"]);d!=null&&a(e,["model"],d);const c=s(t,["metadata","output"]);return c!=null&&a(e,["dest"],wu(Xr(c))),e}function _n(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const i=s(t,["displayName"]);i!=null&&a(e,["displayName"],i);const o=s(t,["state"]);o!=null&&a(e,["state"],Qr(o));const r=s(t,["error"]);r!=null&&a(e,["error"],r);const l=s(t,["createTime"]);l!=null&&a(e,["createTime"],l);const u=s(t,["startTime"]);u!=null&&a(e,["startTime"],u);const d=s(t,["endTime"]);d!=null&&a(e,["endTime"],d);const c=s(t,["updateTime"]);c!=null&&a(e,["updateTime"],c);const f=s(t,["model"]);f!=null&&a(e,["model"],f);const p=s(t,["inputConfig"]);p!=null&&a(e,["src"],Ru(p));const h=s(t,["outputConfig"]);h!=null&&a(e,["dest"],xu(Xr(h)));const m=s(t,["completionStats"]);return m!=null&&a(e,["completionStats"],m),e}function Ru(t){const e={},n=s(t,["instancesFormat"]);n!=null&&a(e,["format"],n);const i=s(t,["gcsSource","uris"]);i!=null&&a(e,["gcsUri"],i);const o=s(t,["bigquerySource","inputUri"]);return o!=null&&a(e,["bigqueryUri"],o),e}function Mu(t,e){const n={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=s(e,["fileName"]);i!=null&&a(n,["fileName"],i);const o=s(e,["inlinedRequests"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>rc(t,l))),a(n,["requests","requests"],r)}return n}function Pu(t){const e={},n=s(t,["format"]);n!=null&&a(e,["instancesFormat"],n);const i=s(t,["gcsUri"]);i!=null&&a(e,["gcsSource","uris"],i);const o=s(t,["bigqueryUri"]);if(o!=null&&a(e,["bigquerySource","inputUri"],o),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Nu(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function Du(t,e){const n={},i=s(e,["name"]);return i!=null&&a(n,["_url","name"],nt(t,i)),n}function Lu(t,e){const n={},i=s(e,["name"]);return i!=null&&a(n,["_url","name"],nt(t,i)),n}function bu(t){const e={},n=s(t,["content"]);n!=null&&a(e,["content"],n);const i=s(t,["citationMetadata"]);i!=null&&a(e,["citationMetadata"],Uu(i));const o=s(t,["tokenCount"]);o!=null&&a(e,["tokenCount"],o);const r=s(t,["finishReason"]);r!=null&&a(e,["finishReason"],r);const l=s(t,["avgLogprobs"]);l!=null&&a(e,["avgLogprobs"],l);const u=s(t,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);const d=s(t,["index"]);d!=null&&a(e,["index"],d);const c=s(t,["logprobsResult"]);c!=null&&a(e,["logprobsResult"],c);const f=s(t,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>m)),a(e,["safetyRatings"],h)}const p=s(t,["urlContextMetadata"]);return p!=null&&a(e,["urlContextMetadata"],p),e}function Uu(t){const e={},n=s(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),a(e,["citations"],i)}return e}function Zr(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>pc(r))),a(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&a(e,["role"],i),e}function Fu(t,e){const n={},i=s(t,["displayName"]);if(e!==void 0&&i!=null&&a(e,["batch","displayName"],i),s(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Vu(t,e){const n={},i=s(t,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const o=s(t,["dest"]);return e!==void 0&&o!=null&&a(e,["outputConfig"],ku(Au(o))),n}function Po(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["src"]);o!=null&&a(n,["batch","inputConfig"],Mu(t,Kr(t,o)));const r=s(e,["config"]);return r!=null&&Fu(r,n),n}function Gu(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["model"],W(t,i));const o=s(e,["src"]);o!=null&&a(n,["inputConfig"],Pu(Kr(t,o)));const r=s(e,["config"]);return r!=null&&Vu(r,n),n}function qu(t,e){const n={},i=s(t,["displayName"]);return e!==void 0&&i!=null&&a(e,["batch","displayName"],i),n}function Hu(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["src"]);o!=null&&a(n,["batch","inputConfig"],Yu(t,o));const r=s(e,["config"]);return r!=null&&qu(r,n),n}function Bu(t,e){const n={},i=s(e,["name"]);return i!=null&&a(n,["_url","name"],nt(t,i)),n}function zu(t,e){const n={},i=s(e,["name"]);return i!=null&&a(n,["_url","name"],nt(t,i)),n}function $u(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["name"]);i!=null&&a(e,["name"],i);const o=s(t,["done"]);o!=null&&a(e,["done"],o);const r=s(t,["error"]);return r!=null&&a(e,["error"],r),e}function Ju(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["name"]);i!=null&&a(e,["name"],i);const o=s(t,["done"]);o!=null&&a(e,["done"],o);const r=s(t,["error"]);return r!=null&&a(e,["error"],r),e}function Ou(t,e){const n={},i=s(e,["contents"]);if(i!=null){let r=$n(t,i);Array.isArray(r)&&(r=r.map(l=>l)),a(n,["requests[]","request","content"],r)}const o=s(e,["config"]);return o!=null&&(a(n,["_self"],Wu(o,n)),za(n,{"requests[].*":"requests[].request.*"})),n}function Wu(t,e){const n={},i=s(t,["taskType"]);e!==void 0&&i!=null&&a(e,["requests[]","taskType"],i);const o=s(t,["title"]);e!==void 0&&o!=null&&a(e,["requests[]","title"],o);const r=s(t,["outputDimensionality"]);if(e!==void 0&&r!=null&&a(e,["requests[]","outputDimensionality"],r),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Yu(t,e){const n={},i=s(e,["fileName"]);i!=null&&a(n,["file_name"],i);const o=s(e,["inlinedRequests"]);return o!=null&&a(n,["requests"],Ou(t,o)),n}function Ku(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function Xu(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const i=s(t,["args"]);i!=null&&a(e,["args"],i);const o=s(t,["name"]);if(o!=null&&a(e,["name"],o),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Qu(t){const e={},n=s(t,["mode"]);n!=null&&a(e,["mode"],n);const i=s(t,["allowedFunctionNames"]);if(i!=null&&a(e,["allowedFunctionNames"],i),s(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Zu(t,e,n){const i={},o=s(e,["systemInstruction"]);n!==void 0&&o!=null&&a(n,["systemInstruction"],Zr(ne(o)));const r=s(e,["temperature"]);r!=null&&a(i,["temperature"],r);const l=s(e,["topP"]);l!=null&&a(i,["topP"],l);const u=s(e,["topK"]);u!=null&&a(i,["topK"],u);const d=s(e,["candidateCount"]);d!=null&&a(i,["candidateCount"],d);const c=s(e,["maxOutputTokens"]);c!=null&&a(i,["maxOutputTokens"],c);const f=s(e,["stopSequences"]);f!=null&&a(i,["stopSequences"],f);const p=s(e,["responseLogprobs"]);p!=null&&a(i,["responseLogprobs"],p);const h=s(e,["logprobs"]);h!=null&&a(i,["logprobs"],h);const m=s(e,["presencePenalty"]);m!=null&&a(i,["presencePenalty"],m);const g=s(e,["frequencyPenalty"]);g!=null&&a(i,["frequencyPenalty"],g);const _=s(e,["seed"]);_!=null&&a(i,["seed"],_);const T=s(e,["responseMimeType"]);T!=null&&a(i,["responseMimeType"],T);const E=s(e,["responseSchema"]);E!=null&&a(i,["responseSchema"],Jn(E));const A=s(e,["responseJsonSchema"]);if(A!=null&&a(i,["responseJsonSchema"],A),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=s(e,["safetySettings"]);if(n!==void 0&&S!=null){let G=S;Array.isArray(G)&&(G=G.map(F=>hc(F))),a(n,["safetySettings"],G)}const x=s(e,["tools"]);if(n!==void 0&&x!=null){let G=tt(x);Array.isArray(G)&&(G=G.map(F=>gc(et(F)))),a(n,["tools"],G)}const L=s(e,["toolConfig"]);if(n!==void 0&&L!=null&&a(n,["toolConfig"],mc(L)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=s(e,["cachedContent"]);n!==void 0&&C!=null&&a(n,["cachedContent"],Pe(t,C));const N=s(e,["responseModalities"]);N!=null&&a(i,["responseModalities"],N);const q=s(e,["mediaResolution"]);q!=null&&a(i,["mediaResolution"],q);const k=s(e,["speechConfig"]);if(k!=null&&a(i,["speechConfig"],On(k)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=s(e,["thinkingConfig"]);V!=null&&a(i,["thinkingConfig"],V);const D=s(e,["imageConfig"]);D!=null&&a(i,["imageConfig"],oc(D));const b=s(e,["enableEnhancedCivicAnswers"]);return b!=null&&a(i,["enableEnhancedCivicAnswers"],b),i}function ju(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(c=>bu(c))),a(e,["candidates"],d)}const o=s(t,["modelVersion"]);o!=null&&a(e,["modelVersion"],o);const r=s(t,["promptFeedback"]);r!=null&&a(e,["promptFeedback"],r);const l=s(t,["responseId"]);l!=null&&a(e,["responseId"],l);const u=s(t,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function ec(t,e){const n={},i=s(e,["name"]);return i!=null&&a(n,["_url","name"],nt(t,i)),n}function tc(t,e){const n={},i=s(e,["name"]);return i!=null&&a(n,["_url","name"],nt(t,i)),n}function nc(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function ic(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function oc(t){const e={},n=s(t,["aspectRatio"]);n!=null&&a(e,["aspectRatio"],n);const i=s(t,["imageSize"]);if(i!=null&&a(e,["imageSize"],i),s(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function rc(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["request","model"],W(t,i));const o=s(e,["contents"]);if(o!=null){let u=pe(o);Array.isArray(u)&&(u=u.map(d=>Zr(d))),a(n,["request","contents"],u)}const r=s(e,["metadata"]);r!=null&&a(n,["metadata"],r);const l=s(e,["config"]);return l!=null&&a(n,["request","generationConfig"],Zu(t,l,s(n,["request"],{}))),n}function sc(t){const e={},n=s(t,["response"]);n!=null&&a(e,["response"],ju(n));const i=s(t,["error"]);return i!=null&&a(e,["error"],i),e}function lc(t,e){const n={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const o=s(t,["pageToken"]);if(e!==void 0&&o!=null&&a(e,["_query","pageToken"],o),s(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function ac(t,e){const n={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const o=s(t,["pageToken"]);e!==void 0&&o!=null&&a(e,["_query","pageToken"],o);const r=s(t,["filter"]);return e!==void 0&&r!=null&&a(e,["_query","filter"],r),n}function uc(t){const e={},n=s(t,["config"]);return n!=null&&lc(n,e),e}function cc(t){const e={},n=s(t,["config"]);return n!=null&&ac(n,e),e}function dc(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=s(t,["operations"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Pt(l))),a(e,["batchJobs"],r)}return e}function fc(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=s(t,["batchPredictionJobs"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>_n(l))),a(e,["batchJobs"],r)}return e}function pc(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const i=s(t,["codeExecutionResult"]);i!=null&&a(e,["codeExecutionResult"],i);const o=s(t,["executableCode"]);o!=null&&a(e,["executableCode"],o);const r=s(t,["fileData"]);r!=null&&a(e,["fileData"],Ku(r));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],Xu(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const d=s(t,["inlineData"]);d!=null&&a(e,["inlineData"],Nu(d));const c=s(t,["text"]);c!=null&&a(e,["text"],c);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const p=s(t,["thoughtSignature"]);p!=null&&a(e,["thoughtSignature"],p);const h=s(t,["videoMetadata"]);return h!=null&&a(e,["videoMetadata"],h),e}function hc(t){const e={},n=s(t,["category"]);if(n!=null&&a(e,["category"],n),s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=s(t,["threshold"]);return i!=null&&a(e,["threshold"],i),e}function mc(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],Qu(n));const i=s(t,["retrievalConfig"]);return i!=null&&a(e,["retrievalConfig"],i),e}function gc(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearchRetrieval"]);i!=null&&a(e,["googleSearchRetrieval"],i);const o=s(t,["computerUse"]);o!=null&&a(e,["computerUse"],o);const r=s(t,["fileSearch"]);r!=null&&a(e,["fileSearch"],r);const l=s(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],nc(u));const d=s(t,["googleSearch"]);d!=null&&a(e,["googleSearch"],ic(d));const c=s(t,["urlContext"]);return c!=null&&a(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Re;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Re||(Re={}));class qe{constructor(e,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,o)}init(e,n,i){var o,r;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!i||Object.keys(i).length===0?l={config:{}}:typeof i=="object"?l=Object.assign({},i):l=i,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(r=(o=l.config)===null||o===void 0?void 0:o.pageSize)!==null&&r!==void 0?r:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yc extends Me{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new qe(Re.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=Po(this.apiClient,e),i=n._url,o=P("{model}:batchGenerateContent",i),u=n.batch.inputConfig.requests,d=u.requests,c=[];for(const f of d){const p=Object.assign({},f);if(p.systemInstruction){const h=p.systemInstruction;delete p.systemInstruction;const m=p.request;m.systemInstruction=h,p.request=m}c.push(p)}return u.requests=c,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},o=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${o}`),i.dest===void 0){const r=this.getGcsUri(e),l=this.getBigqueryUri(e);if(r)r.endsWith(".jsonl")?i.dest=`${r.slice(0,-6)}/dest`:i.dest=`${r}_dest_${o}`;else if(l)i.dest=`${l}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Gu(this.apiClient,e);return u=P("batchPredictionJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>_n(f))}else{const c=Po(this.apiClient,e);return u=P("{model}:batchGenerateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>Pt(f))}}async createEmbeddingsInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Hu(this.apiClient,e);return r=P("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>Pt(d))}}async get(e){var n,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=tc(this.apiClient,e);return u=P("batchPredictionJobs/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>_n(f))}else{const c=ec(this.apiClient,e);return u=P("batches/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>Pt(f))}}async cancel(e){var n,i,o,r;let l="",u={};if(this.apiClient.isVertexAI()){const d=Lu(this.apiClient,e);l=P("batchPredictionJobs/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const d=Du(this.apiClient,e);l=P("batches/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=cc(e);return u=P("batchPredictionJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=fc(f),h=new xo;return Object.assign(h,p),h})}else{const c=uc(e);return u=P("batches",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=dc(f),h=new xo;return Object.assign(h,p),h})}}async delete(e){var n,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=zu(this.apiClient,e);return u=P("batchPredictionJobs/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>Ju(f))}else{const c=Bu(this.apiClient,e);return u=P("batches/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>$u(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vc(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function No(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Hc(r))),a(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&a(e,["role"],i),e}function Tc(t,e){const n={},i=s(t,["ttl"]);e!==void 0&&i!=null&&a(e,["ttl"],i);const o=s(t,["expireTime"]);e!==void 0&&o!=null&&a(e,["expireTime"],o);const r=s(t,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const l=s(t,["contents"]);if(e!==void 0&&l!=null){let f=pe(l);Array.isArray(f)&&(f=f.map(p=>No(p))),a(e,["contents"],f)}const u=s(t,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],No(ne(u)));const d=s(t,["tools"]);if(e!==void 0&&d!=null){let f=d;Array.isArray(f)&&(f=f.map(p=>zc(p))),a(e,["tools"],f)}const c=s(t,["toolConfig"]);if(e!==void 0&&c!=null&&a(e,["toolConfig"],Bc(c)),s(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Ec(t,e){const n={},i=s(t,["ttl"]);e!==void 0&&i!=null&&a(e,["ttl"],i);const o=s(t,["expireTime"]);e!==void 0&&o!=null&&a(e,["expireTime"],o);const r=s(t,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const l=s(t,["contents"]);if(e!==void 0&&l!=null){let p=pe(l);Array.isArray(p)&&(p=p.map(h=>h)),a(e,["contents"],p)}const u=s(t,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],ne(u));const d=s(t,["tools"]);if(e!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>$c(h))),a(e,["tools"],p)}const c=s(t,["toolConfig"]);e!==void 0&&c!=null&&a(e,["toolConfig"],c);const f=s(t,["kmsKeyName"]);return e!==void 0&&f!=null&&a(e,["encryption_spec","kmsKeyName"],f),n}function _c(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["model"],qr(t,i));const o=s(e,["config"]);return o!=null&&Tc(o,n),n}function Cc(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["model"],qr(t,i));const o=s(e,["config"]);return o!=null&&Ec(o,n),n}function Sc(t,e){const n={},i=s(e,["name"]);return i!=null&&a(n,["_url","name"],Pe(t,i)),n}function Ic(t,e){const n={},i=s(e,["name"]);return i!=null&&a(n,["_url","name"],Pe(t,i)),n}function Ac(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function wc(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function xc(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function kc(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const i=s(t,["args"]);i!=null&&a(e,["args"],i);const o=s(t,["name"]);if(o!=null&&a(e,["name"],o),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Rc(t){const e={},n=s(t,["mode"]);n!=null&&a(e,["mode"],n);const i=s(t,["allowedFunctionNames"]);if(i!=null&&a(e,["allowedFunctionNames"],i),s(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Mc(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&a(e,["description"],n);const i=s(t,["name"]);i!=null&&a(e,["name"],i);const o=s(t,["parameters"]);o!=null&&a(e,["parameters"],o);const r=s(t,["parametersJsonSchema"]);r!=null&&a(e,["parametersJsonSchema"],r);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function Pc(t,e){const n={},i=s(e,["name"]);return i!=null&&a(n,["_url","name"],Pe(t,i)),n}function Nc(t,e){const n={},i=s(e,["name"]);return i!=null&&a(n,["_url","name"],Pe(t,i)),n}function Dc(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function Lc(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function bc(t,e){const n={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const o=s(t,["pageToken"]);return e!==void 0&&o!=null&&a(e,["_query","pageToken"],o),n}function Uc(t,e){const n={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const o=s(t,["pageToken"]);return e!==void 0&&o!=null&&a(e,["_query","pageToken"],o),n}function Fc(t){const e={},n=s(t,["config"]);return n!=null&&bc(n,e),e}function Vc(t){const e={},n=s(t,["config"]);return n!=null&&Uc(n,e),e}function Gc(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=s(t,["cachedContents"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["cachedContents"],r)}return e}function qc(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=s(t,["cachedContents"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["cachedContents"],r)}return e}function Hc(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const i=s(t,["codeExecutionResult"]);i!=null&&a(e,["codeExecutionResult"],i);const o=s(t,["executableCode"]);o!=null&&a(e,["executableCode"],o);const r=s(t,["fileData"]);r!=null&&a(e,["fileData"],xc(r));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],kc(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const d=s(t,["inlineData"]);d!=null&&a(e,["inlineData"],vc(d));const c=s(t,["text"]);c!=null&&a(e,["text"],c);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const p=s(t,["thoughtSignature"]);p!=null&&a(e,["thoughtSignature"],p);const h=s(t,["videoMetadata"]);return h!=null&&a(e,["videoMetadata"],h),e}function Bc(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],Rc(n));const i=s(t,["retrievalConfig"]);return i!=null&&a(e,["retrievalConfig"],i),e}function zc(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearchRetrieval"]);i!=null&&a(e,["googleSearchRetrieval"],i);const o=s(t,["computerUse"]);o!=null&&a(e,["computerUse"],o);const r=s(t,["fileSearch"]);r!=null&&a(e,["fileSearch"],r);const l=s(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],Dc(u));const d=s(t,["googleSearch"]);d!=null&&a(e,["googleSearch"],Lc(d));const c=s(t,["urlContext"]);return c!=null&&a(e,["urlContext"],c),e}function $c(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>Mc(h))),a(e,["functionDeclarations"],p)}const i=s(t,["retrieval"]);i!=null&&a(e,["retrieval"],i);const o=s(t,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const r=s(t,["computerUse"]);if(r!=null&&a(e,["computerUse"],r),s(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(t,["codeExecution"]);l!=null&&a(e,["codeExecution"],l);const u=s(t,["enterpriseWebSearch"]);u!=null&&a(e,["enterpriseWebSearch"],u);const d=s(t,["googleMaps"]);d!=null&&a(e,["googleMaps"],d);const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],c);const f=s(t,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function Jc(t,e){const n={},i=s(t,["ttl"]);e!==void 0&&i!=null&&a(e,["ttl"],i);const o=s(t,["expireTime"]);return e!==void 0&&o!=null&&a(e,["expireTime"],o),n}function Oc(t,e){const n={},i=s(t,["ttl"]);e!==void 0&&i!=null&&a(e,["ttl"],i);const o=s(t,["expireTime"]);return e!==void 0&&o!=null&&a(e,["expireTime"],o),n}function Wc(t,e){const n={},i=s(e,["name"]);i!=null&&a(n,["_url","name"],Pe(t,i));const o=s(e,["config"]);return o!=null&&Jc(o,n),n}function Yc(t,e){const n={},i=s(e,["name"]);i!=null&&a(n,["_url","name"],Pe(t,i));const o=s(e,["config"]);return o!=null&&Oc(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kc extends Me{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new qe(Re.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Cc(this.apiClient,e);return u=P("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=_c(this.apiClient,e);return u=P("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async get(e){var n,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Nc(this.apiClient,e);return u=P("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=Pc(this.apiClient,e);return u=P("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async delete(e){var n,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Ic(this.apiClient,e);return u=P("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=wc(f),h=new Ao;return Object.assign(h,p),h})}else{const c=Sc(this.apiClient,e);return u=P("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Ac(f),h=new Ao;return Object.assign(h,p),h})}}async update(e){var n,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Yc(this.apiClient,e);return u=P("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=Wc(this.apiClient,e);return u=P("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async listInternal(e){var n,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Vc(e);return u=P("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=qc(f),h=new wo;return Object.assign(h,p),h})}else{const c=Fc(e);return u=P("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Gc(f),h=new wo;return Object.assign(h,p),h})}}}function Ft(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function Do(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function B(t){return this instanceof B?(this.v=t,this):new B(t)}function Te(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o,r=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),o[Symbol.asyncIterator]=function(){return this},o;function l(m){return function(g){return Promise.resolve(g).then(m,p)}}function u(m,g){i[m]&&(o[m]=function(_){return new Promise(function(T,E){r.push([m,_,T,E])>1||d(m,_)})},g&&(o[m]=g(o[m])))}function d(m,g){try{c(i[m](g))}catch(_){h(r[0][3],_)}}function c(m){m.value instanceof B?Promise.resolve(m.value.v).then(f,p):h(r[0][2],m)}function f(m){d("next",m)}function p(m){d("throw",m)}function h(m,g){m(g),r.shift(),r.length&&d(r[0][0],r[0][1])}}function Ee(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Do=="function"?Do(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(r){n[r]=t[r]&&function(l){return new Promise(function(u,d){l=t[r](l),o(u,d,l.done,l.value)})}}function o(r,l,u,d){Promise.resolve(d).then(function(c){r({value:c,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xc(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:jr(n)}function jr(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Qc(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Lo(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const o=[];let r=!0;for(;i<n&&t[i].role==="model";)o.push(t[i]),r&&!jr(t[i])&&(r=!1),i++;r?e.push(...o):e.pop()}return e}class Zc{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new jc(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class jc{constructor(e,n,i,o={},r=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=o,this.history=r,this.sendPromise=Promise.resolve(),Qc(r)}async sendMessage(e){var n;await this.sendPromise;const i=ne(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var r,l,u;const d=await o,c=(l=(r=d.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content,f=d.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let h=[];f!=null&&(h=(u=f.slice(p))!==null&&u!==void 0?u:[]);const m=c?[c]:[];this.recordHistory(i,m,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const i=ne(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const r=await o;return this.processStreamResponse(r,i)}getHistory(e=!1){const n=e?Lo(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Te(this,arguments,function*(){var o,r,l,u,d,c;const f=[];try{for(var p=!0,h=Ee(e),m;m=yield B(h.next()),o=m.done,!o;p=!0){u=m.value,p=!1;const g=u;if(Xc(g)){const _=(c=(d=g.candidates)===null||d===void 0?void 0:d[0])===null||c===void 0?void 0:c.content;_!==void 0&&f.push(_)}yield yield B(g)}}catch(g){r={error:g}}finally{try{!p&&!o&&(l=h.return)&&(yield B(l.call(h)))}finally{if(r)throw r.error}}this.recordHistory(n,f)})}recordHistory(e,n,i){let o=[];n.length>0&&n.every(r=>r.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Lo(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bt extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Bt.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ed(t){const e={},n=s(t,["file"]);return n!=null&&a(e,["file"],n),e}function td(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function nd(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","file"],Or(n)),e}function id(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function od(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","file"],Or(n)),e}function rd(t,e){const n={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const o=s(t,["pageToken"]);return e!==void 0&&o!=null&&a(e,["_query","pageToken"],o),n}function sd(t){const e={},n=s(t,["config"]);return n!=null&&rd(n,e),e}function ld(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=s(t,["files"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["files"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ad extends Me{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new qe(Re.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=sd(e);return r=P("files",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>{const c=ld(d),f=new fu;return Object.assign(f,c),f})}}async createInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ed(e);return r=P("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const c=td(d),f=new pu;return Object.assign(f,c),f})}}async get(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=od(e);return r=P("files/{file}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=nd(e);return r=P("files/{file}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>{const c=id(d),f=new hu;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nt(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function ud(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Ad(r))),a(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&a(e,["role"],i),e}function cd(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function dd(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const i=s(t,["args"]);i!=null&&a(e,["args"],i);const o=s(t,["name"]);if(o!=null&&a(e,["name"],o),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function fd(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&a(e,["description"],n);const i=s(t,["name"]);i!=null&&a(e,["name"],i);const o=s(t,["parameters"]);o!=null&&a(e,["parameters"],o);const r=s(t,["parametersJsonSchema"]);r!=null&&a(e,["parametersJsonSchema"],r);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function pd(t){const e={},n=s(t,["modelSelectionConfig"]);n!=null&&a(e,["modelConfig"],n);const i=s(t,["responseJsonSchema"]);i!=null&&a(e,["responseJsonSchema"],i);const o=s(t,["audioTimestamp"]);o!=null&&a(e,["audioTimestamp"],o);const r=s(t,["candidateCount"]);r!=null&&a(e,["candidateCount"],r);const l=s(t,["enableAffectiveDialog"]);l!=null&&a(e,["enableAffectiveDialog"],l);const u=s(t,["frequencyPenalty"]);u!=null&&a(e,["frequencyPenalty"],u);const d=s(t,["logprobs"]);d!=null&&a(e,["logprobs"],d);const c=s(t,["maxOutputTokens"]);c!=null&&a(e,["maxOutputTokens"],c);const f=s(t,["mediaResolution"]);f!=null&&a(e,["mediaResolution"],f);const p=s(t,["presencePenalty"]);p!=null&&a(e,["presencePenalty"],p);const h=s(t,["responseLogprobs"]);h!=null&&a(e,["responseLogprobs"],h);const m=s(t,["responseMimeType"]);m!=null&&a(e,["responseMimeType"],m);const g=s(t,["responseModalities"]);g!=null&&a(e,["responseModalities"],g);const _=s(t,["responseSchema"]);_!=null&&a(e,["responseSchema"],_);const T=s(t,["routingConfig"]);T!=null&&a(e,["routingConfig"],T);const E=s(t,["seed"]);E!=null&&a(e,["seed"],E);const A=s(t,["speechConfig"]);A!=null&&a(e,["speechConfig"],es(A));const S=s(t,["stopSequences"]);S!=null&&a(e,["stopSequences"],S);const x=s(t,["temperature"]);x!=null&&a(e,["temperature"],x);const L=s(t,["thinkingConfig"]);L!=null&&a(e,["thinkingConfig"],L);const C=s(t,["topK"]);C!=null&&a(e,["topK"],C);const N=s(t,["topP"]);if(N!=null&&a(e,["topP"],N),s(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function hd(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function md(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function gd(t,e){const n={},i=s(t,["generationConfig"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig"],i);const o=s(t,["responseModalities"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig","responseModalities"],o);const r=s(t,["temperature"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","temperature"],r);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const d=s(t,["maxOutputTokens"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","maxOutputTokens"],d);const c=s(t,["mediaResolution"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","mediaResolution"],c);const f=s(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const p=s(t,["speechConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","speechConfig"],Wn(p));const h=s(t,["thinkingConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","thinkingConfig"],h);const m=s(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],m);const g=s(t,["systemInstruction"]);e!==void 0&&g!=null&&a(e,["setup","systemInstruction"],ud(ne(g)));const _=s(t,["tools"]);if(e!==void 0&&_!=null){let C=tt(_);Array.isArray(C)&&(C=C.map(N=>xd(et(N)))),a(e,["setup","tools"],C)}const T=s(t,["sessionResumption"]);e!==void 0&&T!=null&&a(e,["setup","sessionResumption"],wd(T));const E=s(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&a(e,["setup","inputAudioTranscription"],E);const A=s(t,["outputAudioTranscription"]);e!==void 0&&A!=null&&a(e,["setup","outputAudioTranscription"],A);const S=s(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&a(e,["setup","realtimeInputConfig"],S);const x=s(t,["contextWindowCompression"]);e!==void 0&&x!=null&&a(e,["setup","contextWindowCompression"],x);const L=s(t,["proactivity"]);if(e!==void 0&&L!=null&&a(e,["setup","proactivity"],L),s(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function yd(t,e){const n={},i=s(t,["generationConfig"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig"],pd(i));const o=s(t,["responseModalities"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig","responseModalities"],o);const r=s(t,["temperature"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","temperature"],r);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const d=s(t,["maxOutputTokens"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","maxOutputTokens"],d);const c=s(t,["mediaResolution"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","mediaResolution"],c);const f=s(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const p=s(t,["speechConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","speechConfig"],es(Wn(p)));const h=s(t,["thinkingConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","thinkingConfig"],h);const m=s(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],m);const g=s(t,["systemInstruction"]);e!==void 0&&g!=null&&a(e,["setup","systemInstruction"],ne(g));const _=s(t,["tools"]);if(e!==void 0&&_!=null){let N=tt(_);Array.isArray(N)&&(N=N.map(q=>kd(et(q)))),a(e,["setup","tools"],N)}const T=s(t,["sessionResumption"]);e!==void 0&&T!=null&&a(e,["setup","sessionResumption"],T);const E=s(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&a(e,["setup","inputAudioTranscription"],E);const A=s(t,["outputAudioTranscription"]);e!==void 0&&A!=null&&a(e,["setup","outputAudioTranscription"],A);const S=s(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&a(e,["setup","realtimeInputConfig"],S);const x=s(t,["contextWindowCompression"]);e!==void 0&&x!=null&&a(e,["setup","contextWindowCompression"],x);const L=s(t,["proactivity"]);e!==void 0&&L!=null&&a(e,["setup","proactivity"],L);const C=s(t,["explicitVadSignal"]);return e!==void 0&&C!=null&&a(e,["setup","explicitVadSignal"],C),n}function vd(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["setup","model"],W(t,i));const o=s(e,["config"]);return o!=null&&a(n,["config"],gd(o,n)),n}function Td(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["setup","model"],W(t,i));const o=s(e,["config"]);return o!=null&&a(n,["config"],yd(o,n)),n}function Ed(t){const e={},n=s(t,["musicGenerationConfig"]);return n!=null&&a(e,["musicGenerationConfig"],n),e}function _d(t){const e={},n=s(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),a(e,["weightedPrompts"],i)}return e}function Cd(t){const e={},n=s(t,["media"]);if(n!=null){let c=Hr(n);Array.isArray(c)&&(c=c.map(f=>Nt(f))),a(e,["mediaChunks"],c)}const i=s(t,["audio"]);i!=null&&a(e,["audio"],Nt(zr(i)));const o=s(t,["audioStreamEnd"]);o!=null&&a(e,["audioStreamEnd"],o);const r=s(t,["video"]);r!=null&&a(e,["video"],Nt(Br(r)));const l=s(t,["text"]);l!=null&&a(e,["text"],l);const u=s(t,["activityStart"]);u!=null&&a(e,["activityStart"],u);const d=s(t,["activityEnd"]);return d!=null&&a(e,["activityEnd"],d),e}function Sd(t){const e={},n=s(t,["media"]);if(n!=null){let c=Hr(n);Array.isArray(c)&&(c=c.map(f=>f)),a(e,["mediaChunks"],c)}const i=s(t,["audio"]);i!=null&&a(e,["audio"],zr(i));const o=s(t,["audioStreamEnd"]);o!=null&&a(e,["audioStreamEnd"],o);const r=s(t,["video"]);r!=null&&a(e,["video"],Br(r));const l=s(t,["text"]);l!=null&&a(e,["text"],l);const u=s(t,["activityStart"]);u!=null&&a(e,["activityStart"],u);const d=s(t,["activityEnd"]);return d!=null&&a(e,["activityEnd"],d),e}function Id(t){const e={},n=s(t,["setupComplete"]);n!=null&&a(e,["setupComplete"],n);const i=s(t,["serverContent"]);i!=null&&a(e,["serverContent"],i);const o=s(t,["toolCall"]);o!=null&&a(e,["toolCall"],o);const r=s(t,["toolCallCancellation"]);r!=null&&a(e,["toolCallCancellation"],r);const l=s(t,["usageMetadata"]);l!=null&&a(e,["usageMetadata"],Rd(l));const u=s(t,["goAway"]);u!=null&&a(e,["goAway"],u);const d=s(t,["sessionResumptionUpdate"]);d!=null&&a(e,["sessionResumptionUpdate"],d);const c=s(t,["voiceActivityDetectionSignal"]);return c!=null&&a(e,["voiceActivityDetectionSignal"],c),e}function Ad(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const i=s(t,["codeExecutionResult"]);i!=null&&a(e,["codeExecutionResult"],i);const o=s(t,["executableCode"]);o!=null&&a(e,["executableCode"],o);const r=s(t,["fileData"]);r!=null&&a(e,["fileData"],cd(r));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],dd(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const d=s(t,["inlineData"]);d!=null&&a(e,["inlineData"],Nt(d));const c=s(t,["text"]);c!=null&&a(e,["text"],c);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const p=s(t,["thoughtSignature"]);p!=null&&a(e,["thoughtSignature"],p);const h=s(t,["videoMetadata"]);return h!=null&&a(e,["videoMetadata"],h),e}function wd(t){const e={},n=s(t,["handle"]);if(n!=null&&a(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function es(t){const e={},n=s(t,["voiceConfig"]);n!=null&&a(e,["voiceConfig"],n);const i=s(t,["languageCode"]);if(i!=null&&a(e,["languageCode"],i),s(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function xd(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearchRetrieval"]);i!=null&&a(e,["googleSearchRetrieval"],i);const o=s(t,["computerUse"]);o!=null&&a(e,["computerUse"],o);const r=s(t,["fileSearch"]);r!=null&&a(e,["fileSearch"],r);const l=s(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],hd(u));const d=s(t,["googleSearch"]);d!=null&&a(e,["googleSearch"],md(d));const c=s(t,["urlContext"]);return c!=null&&a(e,["urlContext"],c),e}function kd(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>fd(h))),a(e,["functionDeclarations"],p)}const i=s(t,["retrieval"]);i!=null&&a(e,["retrieval"],i);const o=s(t,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const r=s(t,["computerUse"]);if(r!=null&&a(e,["computerUse"],r),s(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(t,["codeExecution"]);l!=null&&a(e,["codeExecution"],l);const u=s(t,["enterpriseWebSearch"]);u!=null&&a(e,["enterpriseWebSearch"],u);const d=s(t,["googleMaps"]);d!=null&&a(e,["googleMaps"],d);const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],c);const f=s(t,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function Rd(t){const e={},n=s(t,["promptTokenCount"]);n!=null&&a(e,["promptTokenCount"],n);const i=s(t,["cachedContentTokenCount"]);i!=null&&a(e,["cachedContentTokenCount"],i);const o=s(t,["candidatesTokenCount"]);o!=null&&a(e,["responseTokenCount"],o);const r=s(t,["toolUsePromptTokenCount"]);r!=null&&a(e,["toolUsePromptTokenCount"],r);const l=s(t,["thoughtsTokenCount"]);l!=null&&a(e,["thoughtsTokenCount"],l);const u=s(t,["totalTokenCount"]);u!=null&&a(e,["totalTokenCount"],u);const d=s(t,["promptTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>g)),a(e,["promptTokensDetails"],m)}const c=s(t,["cacheTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>g)),a(e,["cacheTokensDetails"],m)}const f=s(t,["candidatesTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>g)),a(e,["responseTokensDetails"],m)}const p=s(t,["toolUsePromptTokensDetails"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(g=>g)),a(e,["toolUsePromptTokensDetails"],m)}const h=s(t,["trafficType"]);return h!=null&&a(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Md(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function Pd(t){const e={},n=s(t,["content"]);n!=null&&a(e,["content"],n);const i=s(t,["citationMetadata"]);i!=null&&a(e,["citationMetadata"],Nd(i));const o=s(t,["tokenCount"]);o!=null&&a(e,["tokenCount"],o);const r=s(t,["finishReason"]);r!=null&&a(e,["finishReason"],r);const l=s(t,["avgLogprobs"]);l!=null&&a(e,["avgLogprobs"],l);const u=s(t,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);const d=s(t,["index"]);d!=null&&a(e,["index"],d);const c=s(t,["logprobsResult"]);c!=null&&a(e,["logprobsResult"],c);const f=s(t,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>m)),a(e,["safetyRatings"],h)}const p=s(t,["urlContextMetadata"]);return p!=null&&a(e,["urlContextMetadata"],p),e}function Nd(t){const e={},n=s(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),a(e,["citations"],i)}return e}function Dd(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["contents"]);if(o!=null){let r=pe(o);Array.isArray(r)&&(r=r.map(l=>l)),a(n,["contents"],r)}return n}function Ld(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["tokensInfo"],o)}return e}function bd(t){const e={},n=s(t,["values"]);n!=null&&a(e,["values"],n);const i=s(t,["statistics"]);return i!=null&&a(e,["statistics"],Ud(i)),e}function Ud(t){const e={},n=s(t,["truncated"]);n!=null&&a(e,["truncated"],n);const i=s(t,["token_count"]);return i!=null&&a(e,["tokenCount"],i),e}function zt(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Of(r))),a(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&a(e,["role"],i),e}function Fd(t){const e={},n=s(t,["controlType"]);n!=null&&a(e,["controlType"],n);const i=s(t,["enableControlImageComputation"]);return i!=null&&a(e,["computeControl"],i),e}function Vd(t){const e={};if(s(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Gd(t,e){const n={},i=s(t,["systemInstruction"]);e!==void 0&&i!=null&&a(e,["systemInstruction"],ne(i));const o=s(t,["tools"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>rs(u))),a(e,["tools"],l)}const r=s(t,["generationConfig"]);return e!==void 0&&r!=null&&a(e,["generationConfig"],Pf(r)),n}function qd(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["contents"]);if(o!=null){let l=pe(o);Array.isArray(l)&&(l=l.map(u=>zt(u))),a(n,["contents"],l)}const r=s(e,["config"]);return r!=null&&Vd(r),n}function Hd(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["contents"]);if(o!=null){let l=pe(o);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const r=s(e,["config"]);return r!=null&&Gd(r,n),n}function Bd(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["totalTokens"]);i!=null&&a(e,["totalTokens"],i);const o=s(t,["cachedContentTokenCount"]);return o!=null&&a(e,["cachedContentTokenCount"],o),e}function zd(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["totalTokens"]);return i!=null&&a(e,["totalTokens"],i),e}function $d(t,e){const n={},i=s(e,["model"]);return i!=null&&a(n,["_url","name"],W(t,i)),n}function Jd(t,e){const n={},i=s(e,["model"]);return i!=null&&a(n,["_url","name"],W(t,i)),n}function Od(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function Wd(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function Yd(t,e){const n={},i=s(t,["outputGcsUri"]);e!==void 0&&i!=null&&a(e,["parameters","storageUri"],i);const o=s(t,["negativePrompt"]);e!==void 0&&o!=null&&a(e,["parameters","negativePrompt"],o);const r=s(t,["numberOfImages"]);e!==void 0&&r!=null&&a(e,["parameters","sampleCount"],r);const l=s(t,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=s(t,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const d=s(t,["seed"]);e!==void 0&&d!=null&&a(e,["parameters","seed"],d);const c=s(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&a(e,["parameters","safetySetting"],c);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const p=s(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&a(e,["parameters","includeSafetyAttributes"],p);const h=s(t,["includeRaiReason"]);e!==void 0&&h!=null&&a(e,["parameters","includeRaiReason"],h);const m=s(t,["language"]);e!==void 0&&m!=null&&a(e,["parameters","language"],m);const g=s(t,["outputMimeType"]);e!==void 0&&g!=null&&a(e,["parameters","outputOptions","mimeType"],g);const _=s(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&a(e,["parameters","outputOptions","compressionQuality"],_);const T=s(t,["addWatermark"]);e!==void 0&&T!=null&&a(e,["parameters","addWatermark"],T);const E=s(t,["labels"]);e!==void 0&&E!=null&&a(e,["labels"],E);const A=s(t,["editMode"]);e!==void 0&&A!=null&&a(e,["parameters","editMode"],A);const S=s(t,["baseSteps"]);return e!==void 0&&S!=null&&a(e,["parameters","editConfig","baseSteps"],S),n}function Kd(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const r=s(e,["referenceImages"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>Zf(d))),a(n,["instances[0]","referenceImages"],u)}const l=s(e,["config"]);return l!=null&&Yd(l,n),n}function Xd(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>$t(r))),a(e,["generatedImages"],o)}return e}function Qd(t,e){const n={},i=s(t,["taskType"]);e!==void 0&&i!=null&&a(e,["requests[]","taskType"],i);const o=s(t,["title"]);e!==void 0&&o!=null&&a(e,["requests[]","title"],o);const r=s(t,["outputDimensionality"]);if(e!==void 0&&r!=null&&a(e,["requests[]","outputDimensionality"],r),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Zd(t,e){const n={},i=s(t,["taskType"]);e!==void 0&&i!=null&&a(e,["instances[]","task_type"],i);const o=s(t,["title"]);e!==void 0&&o!=null&&a(e,["instances[]","title"],o);const r=s(t,["outputDimensionality"]);e!==void 0&&r!=null&&a(e,["parameters","outputDimensionality"],r);const l=s(t,["mimeType"]);e!==void 0&&l!=null&&a(e,["instances[]","mimeType"],l);const u=s(t,["autoTruncate"]);return e!==void 0&&u!=null&&a(e,["parameters","autoTruncate"],u),n}function jd(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["contents"]);if(o!=null){let u=$n(t,o);Array.isArray(u)&&(u=u.map(d=>d)),a(n,["requests[]","content"],u)}const r=s(e,["config"]);r!=null&&Qd(r,n);const l=s(e,["model"]);return l!==void 0&&a(n,["requests[]","model"],W(t,l)),n}function ef(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["contents"]);if(o!=null){let l=$n(t,o);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["instances[]","content"],l)}const r=s(e,["config"]);return r!=null&&Zd(r,n),n}function tf(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["embeddings"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["embeddings"],r)}const o=s(t,["metadata"]);return o!=null&&a(e,["metadata"],o),e}function nf(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["predictions[]","embeddings"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>bd(l))),a(e,["embeddings"],r)}const o=s(t,["metadata"]);return o!=null&&a(e,["metadata"],o),e}function of(t){const e={},n=s(t,["endpoint"]);n!=null&&a(e,["name"],n);const i=s(t,["deployedModelId"]);return i!=null&&a(e,["deployedModelId"],i),e}function rf(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function sf(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const i=s(t,["args"]);i!=null&&a(e,["args"],i);const o=s(t,["name"]);if(o!=null&&a(e,["name"],o),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function lf(t){const e={},n=s(t,["mode"]);n!=null&&a(e,["mode"],n);const i=s(t,["allowedFunctionNames"]);if(i!=null&&a(e,["allowedFunctionNames"],i),s(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function af(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&a(e,["description"],n);const i=s(t,["name"]);i!=null&&a(e,["name"],i);const o=s(t,["parameters"]);o!=null&&a(e,["parameters"],o);const r=s(t,["parametersJsonSchema"]);r!=null&&a(e,["parametersJsonSchema"],r);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function uf(t,e,n){const i={},o=s(e,["systemInstruction"]);n!==void 0&&o!=null&&a(n,["systemInstruction"],zt(ne(o)));const r=s(e,["temperature"]);r!=null&&a(i,["temperature"],r);const l=s(e,["topP"]);l!=null&&a(i,["topP"],l);const u=s(e,["topK"]);u!=null&&a(i,["topK"],u);const d=s(e,["candidateCount"]);d!=null&&a(i,["candidateCount"],d);const c=s(e,["maxOutputTokens"]);c!=null&&a(i,["maxOutputTokens"],c);const f=s(e,["stopSequences"]);f!=null&&a(i,["stopSequences"],f);const p=s(e,["responseLogprobs"]);p!=null&&a(i,["responseLogprobs"],p);const h=s(e,["logprobs"]);h!=null&&a(i,["logprobs"],h);const m=s(e,["presencePenalty"]);m!=null&&a(i,["presencePenalty"],m);const g=s(e,["frequencyPenalty"]);g!=null&&a(i,["frequencyPenalty"],g);const _=s(e,["seed"]);_!=null&&a(i,["seed"],_);const T=s(e,["responseMimeType"]);T!=null&&a(i,["responseMimeType"],T);const E=s(e,["responseSchema"]);E!=null&&a(i,["responseSchema"],Jn(E));const A=s(e,["responseJsonSchema"]);if(A!=null&&a(i,["responseJsonSchema"],A),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=s(e,["safetySettings"]);if(n!==void 0&&S!=null){let G=S;Array.isArray(G)&&(G=G.map(F=>jf(F))),a(n,["safetySettings"],G)}const x=s(e,["tools"]);if(n!==void 0&&x!=null){let G=tt(x);Array.isArray(G)&&(G=G.map(F=>sp(et(F)))),a(n,["tools"],G)}const L=s(e,["toolConfig"]);if(n!==void 0&&L!=null&&a(n,["toolConfig"],rp(L)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=s(e,["cachedContent"]);n!==void 0&&C!=null&&a(n,["cachedContent"],Pe(t,C));const N=s(e,["responseModalities"]);N!=null&&a(i,["responseModalities"],N);const q=s(e,["mediaResolution"]);q!=null&&a(i,["mediaResolution"],q);const k=s(e,["speechConfig"]);if(k!=null&&a(i,["speechConfig"],On(k)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=s(e,["thinkingConfig"]);V!=null&&a(i,["thinkingConfig"],V);const D=s(e,["imageConfig"]);D!=null&&a(i,["imageConfig"],Uf(D));const b=s(e,["enableEnhancedCivicAnswers"]);return b!=null&&a(i,["enableEnhancedCivicAnswers"],b),i}function cf(t,e,n){const i={},o=s(e,["systemInstruction"]);n!==void 0&&o!=null&&a(n,["systemInstruction"],ne(o));const r=s(e,["temperature"]);r!=null&&a(i,["temperature"],r);const l=s(e,["topP"]);l!=null&&a(i,["topP"],l);const u=s(e,["topK"]);u!=null&&a(i,["topK"],u);const d=s(e,["candidateCount"]);d!=null&&a(i,["candidateCount"],d);const c=s(e,["maxOutputTokens"]);c!=null&&a(i,["maxOutputTokens"],c);const f=s(e,["stopSequences"]);f!=null&&a(i,["stopSequences"],f);const p=s(e,["responseLogprobs"]);p!=null&&a(i,["responseLogprobs"],p);const h=s(e,["logprobs"]);h!=null&&a(i,["logprobs"],h);const m=s(e,["presencePenalty"]);m!=null&&a(i,["presencePenalty"],m);const g=s(e,["frequencyPenalty"]);g!=null&&a(i,["frequencyPenalty"],g);const _=s(e,["seed"]);_!=null&&a(i,["seed"],_);const T=s(e,["responseMimeType"]);T!=null&&a(i,["responseMimeType"],T);const E=s(e,["responseSchema"]);E!=null&&a(i,["responseSchema"],Jn(E));const A=s(e,["responseJsonSchema"]);A!=null&&a(i,["responseJsonSchema"],A);const S=s(e,["routingConfig"]);S!=null&&a(i,["routingConfig"],S);const x=s(e,["modelSelectionConfig"]);x!=null&&a(i,["modelConfig"],x);const L=s(e,["safetySettings"]);if(n!==void 0&&L!=null){let J=L;Array.isArray(J)&&(J=J.map(Z=>Z)),a(n,["safetySettings"],J)}const C=s(e,["tools"]);if(n!==void 0&&C!=null){let J=tt(C);Array.isArray(J)&&(J=J.map(Z=>rs(et(Z)))),a(n,["tools"],J)}const N=s(e,["toolConfig"]);n!==void 0&&N!=null&&a(n,["toolConfig"],N);const q=s(e,["labels"]);n!==void 0&&q!=null&&a(n,["labels"],q);const k=s(e,["cachedContent"]);n!==void 0&&k!=null&&a(n,["cachedContent"],Pe(t,k));const V=s(e,["responseModalities"]);V!=null&&a(i,["responseModalities"],V);const D=s(e,["mediaResolution"]);D!=null&&a(i,["mediaResolution"],D);const b=s(e,["speechConfig"]);b!=null&&a(i,["speechConfig"],os(On(b)));const G=s(e,["audioTimestamp"]);G!=null&&a(i,["audioTimestamp"],G);const F=s(e,["thinkingConfig"]);F!=null&&a(i,["thinkingConfig"],F);const M=s(e,["imageConfig"]);if(M!=null&&a(i,["imageConfig"],Ff(M)),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function bo(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["contents"]);if(o!=null){let l=pe(o);Array.isArray(l)&&(l=l.map(u=>zt(u))),a(n,["contents"],l)}const r=s(e,["config"]);return r!=null&&a(n,["generationConfig"],uf(t,r,n)),n}function Uo(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["contents"]);if(o!=null){let l=pe(o);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const r=s(e,["config"]);return r!=null&&a(n,["generationConfig"],cf(t,r,n)),n}function Fo(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(c=>Pd(c))),a(e,["candidates"],d)}const o=s(t,["modelVersion"]);o!=null&&a(e,["modelVersion"],o);const r=s(t,["promptFeedback"]);r!=null&&a(e,["promptFeedback"],r);const l=s(t,["responseId"]);l!=null&&a(e,["responseId"],l);const u=s(t,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function Vo(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>f)),a(e,["candidates"],c)}const o=s(t,["createTime"]);o!=null&&a(e,["createTime"],o);const r=s(t,["modelVersion"]);r!=null&&a(e,["modelVersion"],r);const l=s(t,["promptFeedback"]);l!=null&&a(e,["promptFeedback"],l);const u=s(t,["responseId"]);u!=null&&a(e,["responseId"],u);const d=s(t,["usageMetadata"]);return d!=null&&a(e,["usageMetadata"],d),e}function df(t,e){const n={};if(s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=s(t,["numberOfImages"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const o=s(t,["aspectRatio"]);e!==void 0&&o!=null&&a(e,["parameters","aspectRatio"],o);const r=s(t,["guidanceScale"]);if(e!==void 0&&r!=null&&a(e,["parameters","guidanceScale"],r),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&a(e,["parameters","safetySetting"],l);const u=s(t,["personGeneration"]);e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u);const d=s(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&a(e,["parameters","includeSafetyAttributes"],d);const c=s(t,["includeRaiReason"]);e!==void 0&&c!=null&&a(e,["parameters","includeRaiReason"],c);const f=s(t,["language"]);e!==void 0&&f!=null&&a(e,["parameters","language"],f);const p=s(t,["outputMimeType"]);e!==void 0&&p!=null&&a(e,["parameters","outputOptions","mimeType"],p);const h=s(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&a(e,["parameters","outputOptions","compressionQuality"],h),s(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const m=s(t,["imageSize"]);if(e!==void 0&&m!=null&&a(e,["parameters","sampleImageSize"],m),s(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function ff(t,e){const n={},i=s(t,["outputGcsUri"]);e!==void 0&&i!=null&&a(e,["parameters","storageUri"],i);const o=s(t,["negativePrompt"]);e!==void 0&&o!=null&&a(e,["parameters","negativePrompt"],o);const r=s(t,["numberOfImages"]);e!==void 0&&r!=null&&a(e,["parameters","sampleCount"],r);const l=s(t,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=s(t,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const d=s(t,["seed"]);e!==void 0&&d!=null&&a(e,["parameters","seed"],d);const c=s(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&a(e,["parameters","safetySetting"],c);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const p=s(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&a(e,["parameters","includeSafetyAttributes"],p);const h=s(t,["includeRaiReason"]);e!==void 0&&h!=null&&a(e,["parameters","includeRaiReason"],h);const m=s(t,["language"]);e!==void 0&&m!=null&&a(e,["parameters","language"],m);const g=s(t,["outputMimeType"]);e!==void 0&&g!=null&&a(e,["parameters","outputOptions","mimeType"],g);const _=s(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&a(e,["parameters","outputOptions","compressionQuality"],_);const T=s(t,["addWatermark"]);e!==void 0&&T!=null&&a(e,["parameters","addWatermark"],T);const E=s(t,["labels"]);e!==void 0&&E!=null&&a(e,["labels"],E);const A=s(t,["imageSize"]);e!==void 0&&A!=null&&a(e,["parameters","sampleImageSize"],A);const S=s(t,["enhancePrompt"]);return e!==void 0&&S!=null&&a(e,["parameters","enhancePrompt"],S),n}function pf(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const r=s(e,["config"]);return r!=null&&df(r,n),n}function hf(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const r=s(e,["config"]);return r!=null&&ff(r,n),n}function mf(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>xf(l))),a(e,["generatedImages"],r)}const o=s(t,["positivePromptSafetyAttributes"]);return o!=null&&a(e,["positivePromptSafetyAttributes"],ns(o)),e}function gf(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>$t(l))),a(e,["generatedImages"],r)}const o=s(t,["positivePromptSafetyAttributes"]);return o!=null&&a(e,["positivePromptSafetyAttributes"],is(o)),e}function yf(t,e){const n={},i=s(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i),s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=s(t,["durationSeconds"]);if(e!==void 0&&o!=null&&a(e,["parameters","durationSeconds"],o),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=s(t,["aspectRatio"]);e!==void 0&&r!=null&&a(e,["parameters","aspectRatio"],r);const l=s(t,["resolution"]);e!==void 0&&l!=null&&a(e,["parameters","resolution"],l);const u=s(t,["personGeneration"]);if(e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u),s(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=s(t,["negativePrompt"]);e!==void 0&&d!=null&&a(e,["parameters","negativePrompt"],d);const c=s(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&a(e,["parameters","enhancePrompt"],c),s(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=s(t,["lastFrame"]);e!==void 0&&f!=null&&a(e,["instances[0]","lastFrame"],Jt(f));const p=s(t,["referenceImages"]);if(e!==void 0&&p!=null){let h=p;Array.isArray(h)&&(h=h.map(m=>Tp(m))),a(e,["instances[0]","referenceImages"],h)}if(s(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function vf(t,e){const n={},i=s(t,["numberOfVideos"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const r=s(t,["fps"]);e!==void 0&&r!=null&&a(e,["parameters","fps"],r);const l=s(t,["durationSeconds"]);e!==void 0&&l!=null&&a(e,["parameters","durationSeconds"],l);const u=s(t,["seed"]);e!==void 0&&u!=null&&a(e,["parameters","seed"],u);const d=s(t,["aspectRatio"]);e!==void 0&&d!=null&&a(e,["parameters","aspectRatio"],d);const c=s(t,["resolution"]);e!==void 0&&c!=null&&a(e,["parameters","resolution"],c);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const p=s(t,["pubsubTopic"]);e!==void 0&&p!=null&&a(e,["parameters","pubsubTopic"],p);const h=s(t,["negativePrompt"]);e!==void 0&&h!=null&&a(e,["parameters","negativePrompt"],h);const m=s(t,["enhancePrompt"]);e!==void 0&&m!=null&&a(e,["parameters","enhancePrompt"],m);const g=s(t,["generateAudio"]);e!==void 0&&g!=null&&a(e,["parameters","generateAudio"],g);const _=s(t,["lastFrame"]);e!==void 0&&_!=null&&a(e,["instances[0]","lastFrame"],_e(_));const T=s(t,["referenceImages"]);if(e!==void 0&&T!=null){let S=T;Array.isArray(S)&&(S=S.map(x=>Ep(x))),a(e,["instances[0]","referenceImages"],S)}const E=s(t,["mask"]);e!==void 0&&E!=null&&a(e,["instances[0]","mask"],vp(E));const A=s(t,["compressionQuality"]);return e!==void 0&&A!=null&&a(e,["parameters","compressionQuality"],A),n}function Tf(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const i=s(t,["metadata"]);i!=null&&a(e,["metadata"],i);const o=s(t,["done"]);o!=null&&a(e,["done"],o);const r=s(t,["error"]);r!=null&&a(e,["error"],r);const l=s(t,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],Sf(l)),e}function Ef(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const i=s(t,["metadata"]);i!=null&&a(e,["metadata"],i);const o=s(t,["done"]);o!=null&&a(e,["done"],o);const r=s(t,["error"]);r!=null&&a(e,["error"],r);const l=s(t,["response"]);return l!=null&&a(e,["response"],If(l)),e}function _f(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const r=s(e,["image"]);r!=null&&a(n,["instances[0]","image"],Jt(r));const l=s(e,["video"]);l!=null&&a(n,["instances[0]","video"],ss(l));const u=s(e,["source"]);u!=null&&Af(u,n);const d=s(e,["config"]);return d!=null&&yf(d,n),n}function Cf(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const r=s(e,["image"]);r!=null&&a(n,["instances[0]","image"],_e(r));const l=s(e,["video"]);l!=null&&a(n,["instances[0]","video"],ls(l));const u=s(e,["source"]);u!=null&&wf(u,n);const d=s(e,["config"]);return d!=null&&vf(d,n),n}function Sf(t){const e={},n=s(t,["generatedSamples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>Rf(l))),a(e,["generatedVideos"],r)}const i=s(t,["raiMediaFilteredCount"]);i!=null&&a(e,["raiMediaFilteredCount"],i);const o=s(t,["raiMediaFilteredReasons"]);return o!=null&&a(e,["raiMediaFilteredReasons"],o),e}function If(t){const e={},n=s(t,["videos"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>Mf(l))),a(e,["generatedVideos"],r)}const i=s(t,["raiMediaFilteredCount"]);i!=null&&a(e,["raiMediaFilteredCount"],i);const o=s(t,["raiMediaFilteredReasons"]);return o!=null&&a(e,["raiMediaFilteredReasons"],o),e}function Af(t,e){const n={},i=s(t,["prompt"]);e!==void 0&&i!=null&&a(e,["instances[0]","prompt"],i);const o=s(t,["image"]);e!==void 0&&o!=null&&a(e,["instances[0]","image"],Jt(o));const r=s(t,["video"]);return e!==void 0&&r!=null&&a(e,["instances[0]","video"],ss(r)),n}function wf(t,e){const n={},i=s(t,["prompt"]);e!==void 0&&i!=null&&a(e,["instances[0]","prompt"],i);const o=s(t,["image"]);e!==void 0&&o!=null&&a(e,["instances[0]","image"],_e(o));const r=s(t,["video"]);return e!==void 0&&r!=null&&a(e,["instances[0]","video"],ls(r)),n}function xf(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["image"],Vf(n));const i=s(t,["raiFilteredReason"]);i!=null&&a(e,["raiFilteredReason"],i);const o=s(t,["_self"]);return o!=null&&a(e,["safetyAttributes"],ns(o)),e}function $t(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["image"],ts(n));const i=s(t,["raiFilteredReason"]);i!=null&&a(e,["raiFilteredReason"],i);const o=s(t,["_self"]);o!=null&&a(e,["safetyAttributes"],is(o));const r=s(t,["prompt"]);return r!=null&&a(e,["enhancedPrompt"],r),e}function kf(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["mask"],ts(n));const i=s(t,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["labels"],o)}return e}function Rf(t){const e={},n=s(t,["video"]);return n!=null&&a(e,["video"],gp(n)),e}function Mf(t){const e={},n=s(t,["_self"]);return n!=null&&a(e,["video"],yp(n)),e}function Pf(t){const e={},n=s(t,["modelSelectionConfig"]);n!=null&&a(e,["modelConfig"],n);const i=s(t,["responseJsonSchema"]);i!=null&&a(e,["responseJsonSchema"],i);const o=s(t,["audioTimestamp"]);o!=null&&a(e,["audioTimestamp"],o);const r=s(t,["candidateCount"]);r!=null&&a(e,["candidateCount"],r);const l=s(t,["enableAffectiveDialog"]);l!=null&&a(e,["enableAffectiveDialog"],l);const u=s(t,["frequencyPenalty"]);u!=null&&a(e,["frequencyPenalty"],u);const d=s(t,["logprobs"]);d!=null&&a(e,["logprobs"],d);const c=s(t,["maxOutputTokens"]);c!=null&&a(e,["maxOutputTokens"],c);const f=s(t,["mediaResolution"]);f!=null&&a(e,["mediaResolution"],f);const p=s(t,["presencePenalty"]);p!=null&&a(e,["presencePenalty"],p);const h=s(t,["responseLogprobs"]);h!=null&&a(e,["responseLogprobs"],h);const m=s(t,["responseMimeType"]);m!=null&&a(e,["responseMimeType"],m);const g=s(t,["responseModalities"]);g!=null&&a(e,["responseModalities"],g);const _=s(t,["responseSchema"]);_!=null&&a(e,["responseSchema"],_);const T=s(t,["routingConfig"]);T!=null&&a(e,["routingConfig"],T);const E=s(t,["seed"]);E!=null&&a(e,["seed"],E);const A=s(t,["speechConfig"]);A!=null&&a(e,["speechConfig"],os(A));const S=s(t,["stopSequences"]);S!=null&&a(e,["stopSequences"],S);const x=s(t,["temperature"]);x!=null&&a(e,["temperature"],x);const L=s(t,["thinkingConfig"]);L!=null&&a(e,["thinkingConfig"],L);const C=s(t,["topK"]);C!=null&&a(e,["topK"],C);const N=s(t,["topP"]);if(N!=null&&a(e,["topP"],N),s(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Nf(t,e){const n={},i=s(e,["model"]);return i!=null&&a(n,["_url","name"],W(t,i)),n}function Df(t,e){const n={},i=s(e,["model"]);return i!=null&&a(n,["_url","name"],W(t,i)),n}function Lf(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function bf(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function Uf(t){const e={},n=s(t,["aspectRatio"]);n!=null&&a(e,["aspectRatio"],n);const i=s(t,["imageSize"]);if(i!=null&&a(e,["imageSize"],i),s(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Ff(t){const e={},n=s(t,["aspectRatio"]);n!=null&&a(e,["aspectRatio"],n);const i=s(t,["imageSize"]);i!=null&&a(e,["imageSize"],i);const o=s(t,["outputMimeType"]);o!=null&&a(e,["imageOutputOptions","mimeType"],o);const r=s(t,["outputCompressionQuality"]);return r!=null&&a(e,["imageOutputOptions","compressionQuality"],r),e}function Vf(t){const e={},n=s(t,["bytesBase64Encoded"]);n!=null&&a(e,["imageBytes"],be(n));const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function ts(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["gcsUri"],n);const i=s(t,["bytesBase64Encoded"]);i!=null&&a(e,["imageBytes"],be(i));const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Jt(t){const e={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=s(t,["imageBytes"]);n!=null&&a(e,["bytesBase64Encoded"],be(n));const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function _e(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["gcsUri"],n);const i=s(t,["imageBytes"]);i!=null&&a(e,["bytesBase64Encoded"],be(i));const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Gf(t,e,n){const i={},o=s(e,["pageSize"]);n!==void 0&&o!=null&&a(n,["_query","pageSize"],o);const r=s(e,["pageToken"]);n!==void 0&&r!=null&&a(n,["_query","pageToken"],r);const l=s(e,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],Wr(t,u)),i}function qf(t,e,n){const i={},o=s(e,["pageSize"]);n!==void 0&&o!=null&&a(n,["_query","pageSize"],o);const r=s(e,["pageToken"]);n!==void 0&&r!=null&&a(n,["_query","pageToken"],r);const l=s(e,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],Wr(t,u)),i}function Hf(t,e){const n={},i=s(e,["config"]);return i!=null&&Gf(t,i,n),n}function Bf(t,e){const n={},i=s(e,["config"]);return i!=null&&qf(t,i,n),n}function zf(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=s(t,["_self"]);if(o!=null){let r=Yr(o);Array.isArray(r)&&(r=r.map(l=>Cn(l))),a(e,["models"],r)}return e}function $f(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=s(t,["_self"]);if(o!=null){let r=Yr(o);Array.isArray(r)&&(r=r.map(l=>Sn(l))),a(e,["models"],r)}return e}function Jf(t){const e={},n=s(t,["maskMode"]);n!=null&&a(e,["maskMode"],n);const i=s(t,["segmentationClasses"]);i!=null&&a(e,["maskClasses"],i);const o=s(t,["maskDilation"]);return o!=null&&a(e,["dilation"],o),e}function Cn(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const i=s(t,["displayName"]);i!=null&&a(e,["displayName"],i);const o=s(t,["description"]);o!=null&&a(e,["description"],o);const r=s(t,["version"]);r!=null&&a(e,["version"],r);const l=s(t,["_self"]);l!=null&&a(e,["tunedModelInfo"],lp(l));const u=s(t,["inputTokenLimit"]);u!=null&&a(e,["inputTokenLimit"],u);const d=s(t,["outputTokenLimit"]);d!=null&&a(e,["outputTokenLimit"],d);const c=s(t,["supportedGenerationMethods"]);c!=null&&a(e,["supportedActions"],c);const f=s(t,["temperature"]);f!=null&&a(e,["temperature"],f);const p=s(t,["maxTemperature"]);p!=null&&a(e,["maxTemperature"],p);const h=s(t,["topP"]);h!=null&&a(e,["topP"],h);const m=s(t,["topK"]);m!=null&&a(e,["topK"],m);const g=s(t,["thinking"]);return g!=null&&a(e,["thinking"],g),e}function Sn(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const i=s(t,["displayName"]);i!=null&&a(e,["displayName"],i);const o=s(t,["description"]);o!=null&&a(e,["description"],o);const r=s(t,["versionId"]);r!=null&&a(e,["version"],r);const l=s(t,["deployedModels"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(h=>of(h))),a(e,["endpoints"],p)}const u=s(t,["labels"]);u!=null&&a(e,["labels"],u);const d=s(t,["_self"]);d!=null&&a(e,["tunedModelInfo"],ap(d));const c=s(t,["defaultCheckpointId"]);c!=null&&a(e,["defaultCheckpointId"],c);const f=s(t,["checkpoints"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>h)),a(e,["checkpoints"],p)}return e}function Of(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const i=s(t,["codeExecutionResult"]);i!=null&&a(e,["codeExecutionResult"],i);const o=s(t,["executableCode"]);o!=null&&a(e,["executableCode"],o);const r=s(t,["fileData"]);r!=null&&a(e,["fileData"],rf(r));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],sf(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const d=s(t,["inlineData"]);d!=null&&a(e,["inlineData"],Md(d));const c=s(t,["text"]);c!=null&&a(e,["text"],c);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const p=s(t,["thoughtSignature"]);p!=null&&a(e,["thoughtSignature"],p);const h=s(t,["videoMetadata"]);return h!=null&&a(e,["videoMetadata"],h),e}function Wf(t){const e={},n=s(t,["productImage"]);return n!=null&&a(e,["image"],_e(n)),e}function Yf(t,e){const n={},i=s(t,["numberOfImages"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const o=s(t,["baseSteps"]);e!==void 0&&o!=null&&a(e,["parameters","baseSteps"],o);const r=s(t,["outputGcsUri"]);e!==void 0&&r!=null&&a(e,["parameters","storageUri"],r);const l=s(t,["seed"]);e!==void 0&&l!=null&&a(e,["parameters","seed"],l);const u=s(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&a(e,["parameters","safetySetting"],u);const d=s(t,["personGeneration"]);e!==void 0&&d!=null&&a(e,["parameters","personGeneration"],d);const c=s(t,["addWatermark"]);e!==void 0&&c!=null&&a(e,["parameters","addWatermark"],c);const f=s(t,["outputMimeType"]);e!==void 0&&f!=null&&a(e,["parameters","outputOptions","mimeType"],f);const p=s(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&a(e,["parameters","outputOptions","compressionQuality"],p);const h=s(t,["enhancePrompt"]);e!==void 0&&h!=null&&a(e,["parameters","enhancePrompt"],h);const m=s(t,["labels"]);return e!==void 0&&m!=null&&a(e,["labels"],m),n}function Kf(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["source"]);o!=null&&Qf(o,n);const r=s(e,["config"]);return r!=null&&Yf(r,n),n}function Xf(t){const e={},n=s(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>$t(o))),a(e,["generatedImages"],i)}return e}function Qf(t,e){const n={},i=s(t,["prompt"]);e!==void 0&&i!=null&&a(e,["instances[0]","prompt"],i);const o=s(t,["personImage"]);e!==void 0&&o!=null&&a(e,["instances[0]","personImage","image"],_e(o));const r=s(t,["productImages"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Wf(u))),a(e,["instances[0]","productImages"],l)}return n}function Zf(t){const e={},n=s(t,["referenceImage"]);n!=null&&a(e,["referenceImage"],_e(n));const i=s(t,["referenceId"]);i!=null&&a(e,["referenceId"],i);const o=s(t,["referenceType"]);o!=null&&a(e,["referenceType"],o);const r=s(t,["maskImageConfig"]);r!=null&&a(e,["maskImageConfig"],Jf(r));const l=s(t,["controlImageConfig"]);l!=null&&a(e,["controlImageConfig"],Fd(l));const u=s(t,["styleImageConfig"]);u!=null&&a(e,["styleImageConfig"],u);const d=s(t,["subjectImageConfig"]);return d!=null&&a(e,["subjectImageConfig"],d),e}function ns(t){const e={},n=s(t,["safetyAttributes","categories"]);n!=null&&a(e,["categories"],n);const i=s(t,["safetyAttributes","scores"]);i!=null&&a(e,["scores"],i);const o=s(t,["contentType"]);return o!=null&&a(e,["contentType"],o),e}function is(t){const e={},n=s(t,["safetyAttributes","categories"]);n!=null&&a(e,["categories"],n);const i=s(t,["safetyAttributes","scores"]);i!=null&&a(e,["scores"],i);const o=s(t,["contentType"]);return o!=null&&a(e,["contentType"],o),e}function jf(t){const e={},n=s(t,["category"]);if(n!=null&&a(e,["category"],n),s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=s(t,["threshold"]);return i!=null&&a(e,["threshold"],i),e}function ep(t){const e={},n=s(t,["image"]);return n!=null&&a(e,["image"],_e(n)),e}function tp(t,e){const n={},i=s(t,["mode"]);e!==void 0&&i!=null&&a(e,["parameters","mode"],i);const o=s(t,["maxPredictions"]);e!==void 0&&o!=null&&a(e,["parameters","maxPredictions"],o);const r=s(t,["confidenceThreshold"]);e!==void 0&&r!=null&&a(e,["parameters","confidenceThreshold"],r);const l=s(t,["maskDilation"]);e!==void 0&&l!=null&&a(e,["parameters","maskDilation"],l);const u=s(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&a(e,["parameters","binaryColorThreshold"],u);const d=s(t,["labels"]);return e!==void 0&&d!=null&&a(e,["labels"],d),n}function np(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["source"]);o!=null&&op(o,n);const r=s(e,["config"]);return r!=null&&tp(r,n),n}function ip(t){const e={},n=s(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>kf(o))),a(e,["generatedMasks"],i)}return e}function op(t,e){const n={},i=s(t,["prompt"]);e!==void 0&&i!=null&&a(e,["instances[0]","prompt"],i);const o=s(t,["image"]);e!==void 0&&o!=null&&a(e,["instances[0]","image"],_e(o));const r=s(t,["scribbleImage"]);return e!==void 0&&r!=null&&a(e,["instances[0]","scribble"],ep(r)),n}function os(t){const e={},n=s(t,["voiceConfig"]);n!=null&&a(e,["voiceConfig"],n);const i=s(t,["languageCode"]);if(i!=null&&a(e,["languageCode"],i),s(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function rp(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],lf(n));const i=s(t,["retrievalConfig"]);return i!=null&&a(e,["retrievalConfig"],i),e}function sp(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearchRetrieval"]);i!=null&&a(e,["googleSearchRetrieval"],i);const o=s(t,["computerUse"]);o!=null&&a(e,["computerUse"],o);const r=s(t,["fileSearch"]);r!=null&&a(e,["fileSearch"],r);const l=s(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],Lf(u));const d=s(t,["googleSearch"]);d!=null&&a(e,["googleSearch"],bf(d));const c=s(t,["urlContext"]);return c!=null&&a(e,["urlContext"],c),e}function rs(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>af(h))),a(e,["functionDeclarations"],p)}const i=s(t,["retrieval"]);i!=null&&a(e,["retrieval"],i);const o=s(t,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const r=s(t,["computerUse"]);if(r!=null&&a(e,["computerUse"],r),s(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(t,["codeExecution"]);l!=null&&a(e,["codeExecution"],l);const u=s(t,["enterpriseWebSearch"]);u!=null&&a(e,["enterpriseWebSearch"],u);const d=s(t,["googleMaps"]);d!=null&&a(e,["googleMaps"],d);const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],c);const f=s(t,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function lp(t){const e={},n=s(t,["baseModel"]);n!=null&&a(e,["baseModel"],n);const i=s(t,["createTime"]);i!=null&&a(e,["createTime"],i);const o=s(t,["updateTime"]);return o!=null&&a(e,["updateTime"],o),e}function ap(t){const e={},n=s(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&a(e,["baseModel"],n);const i=s(t,["createTime"]);i!=null&&a(e,["createTime"],i);const o=s(t,["updateTime"]);return o!=null&&a(e,["updateTime"],o),e}function up(t,e){const n={},i=s(t,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const o=s(t,["description"]);e!==void 0&&o!=null&&a(e,["description"],o);const r=s(t,["defaultCheckpointId"]);return e!==void 0&&r!=null&&a(e,["defaultCheckpointId"],r),n}function cp(t,e){const n={},i=s(t,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const o=s(t,["description"]);e!==void 0&&o!=null&&a(e,["description"],o);const r=s(t,["defaultCheckpointId"]);return e!==void 0&&r!=null&&a(e,["defaultCheckpointId"],r),n}function dp(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","name"],W(t,i));const o=s(e,["config"]);return o!=null&&up(o,n),n}function fp(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["config"]);return o!=null&&cp(o,n),n}function pp(t,e){const n={},i=s(t,["outputGcsUri"]);e!==void 0&&i!=null&&a(e,["parameters","storageUri"],i);const o=s(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&a(e,["parameters","safetySetting"],o);const r=s(t,["personGeneration"]);e!==void 0&&r!=null&&a(e,["parameters","personGeneration"],r);const l=s(t,["includeRaiReason"]);e!==void 0&&l!=null&&a(e,["parameters","includeRaiReason"],l);const u=s(t,["outputMimeType"]);e!==void 0&&u!=null&&a(e,["parameters","outputOptions","mimeType"],u);const d=s(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&a(e,["parameters","outputOptions","compressionQuality"],d);const c=s(t,["enhanceInputImage"]);e!==void 0&&c!=null&&a(e,["parameters","upscaleConfig","enhanceInputImage"],c);const f=s(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&a(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const p=s(t,["labels"]);e!==void 0&&p!=null&&a(e,["labels"],p);const h=s(t,["numberOfImages"]);e!==void 0&&h!=null&&a(e,["parameters","sampleCount"],h);const m=s(t,["mode"]);return e!==void 0&&m!=null&&a(e,["parameters","mode"],m),n}function hp(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["_url","model"],W(t,i));const o=s(e,["image"]);o!=null&&a(n,["instances[0]","image"],_e(o));const r=s(e,["upscaleFactor"]);r!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],r);const l=s(e,["config"]);return l!=null&&pp(l,n),n}function mp(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>$t(r))),a(e,["generatedImages"],o)}return e}function gp(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["uri"],n);const i=s(t,["encodedVideo"]);i!=null&&a(e,["videoBytes"],be(i));const o=s(t,["encoding"]);return o!=null&&a(e,["mimeType"],o),e}function yp(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["uri"],n);const i=s(t,["bytesBase64Encoded"]);i!=null&&a(e,["videoBytes"],be(i));const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function vp(t){const e={},n=s(t,["image"]);n!=null&&a(e,["_self"],_e(n));const i=s(t,["maskMode"]);return i!=null&&a(e,["maskMode"],i),e}function Tp(t){const e={},n=s(t,["image"]);n!=null&&a(e,["image"],Jt(n));const i=s(t,["referenceType"]);return i!=null&&a(e,["referenceType"],i),e}function Ep(t){const e={},n=s(t,["image"]);n!=null&&a(e,["image"],_e(n));const i=s(t,["referenceType"]);return i!=null&&a(e,["referenceType"],i),e}function ss(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["uri"],n);const i=s(t,["videoBytes"]);i!=null&&a(e,["encodedVideo"],be(i));const o=s(t,["mimeType"]);return o!=null&&a(e,["encoding"],o),e}function ls(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["gcsUri"],n);const i=s(t,["videoBytes"]);i!=null&&a(e,["bytesBase64Encoded"],be(i));const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _p(t,e){const n={},i=s(t,["displayName"]);return e!==void 0&&i!=null&&a(e,["displayName"],i),n}function Cp(t){const e={},n=s(t,["config"]);return n!=null&&_p(n,e),e}function Sp(t,e){const n={},i=s(t,["force"]);return e!==void 0&&i!=null&&a(e,["_query","force"],i),n}function Ip(t){const e={},n=s(t,["name"]);n!=null&&a(e,["_url","name"],n);const i=s(t,["config"]);return i!=null&&Sp(i,e),e}function Ap(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","name"],n),e}function wp(t,e){const n={},i=s(t,["customMetadata"]);if(e!==void 0&&i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["customMetadata"],r)}const o=s(t,["chunkingConfig"]);return e!==void 0&&o!=null&&a(e,["chunkingConfig"],o),n}function xp(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const i=s(t,["metadata"]);i!=null&&a(e,["metadata"],i);const o=s(t,["done"]);o!=null&&a(e,["done"],o);const r=s(t,["error"]);r!=null&&a(e,["error"],r);const l=s(t,["response"]);return l!=null&&a(e,["response"],Rp(l)),e}function kp(t){const e={},n=s(t,["fileSearchStoreName"]);n!=null&&a(e,["_url","file_search_store_name"],n);const i=s(t,["fileName"]);i!=null&&a(e,["fileName"],i);const o=s(t,["config"]);return o!=null&&wp(o,e),e}function Rp(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["parent"]);i!=null&&a(e,["parent"],i);const o=s(t,["documentName"]);return o!=null&&a(e,["documentName"],o),e}function Mp(t,e){const n={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const o=s(t,["pageToken"]);return e!==void 0&&o!=null&&a(e,["_query","pageToken"],o),n}function Pp(t){const e={},n=s(t,["config"]);return n!=null&&Mp(n,e),e}function Np(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=s(t,["fileSearchStores"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["fileSearchStores"],r)}return e}function as(t,e){const n={},i=s(t,["mimeType"]);e!==void 0&&i!=null&&a(e,["mimeType"],i);const o=s(t,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const r=s(t,["customMetadata"]);if(e!==void 0&&r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),a(e,["customMetadata"],u)}const l=s(t,["chunkingConfig"]);return e!==void 0&&l!=null&&a(e,["chunkingConfig"],l),n}function Dp(t){const e={},n=s(t,["fileSearchStoreName"]);n!=null&&a(e,["_url","file_search_store_name"],n);const i=s(t,["config"]);return i!=null&&as(i,e),e}function Lp(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bp="Content-Type",Up="X-Server-Timeout",Fp="User-Agent",In="x-goog-api-client",Vp="1.33.0",Gp=`google-genai-sdk/${Vp}`,qp="v1beta1",Hp="v1beta";class Bp{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:qp,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Hp,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[l,u]of Object.entries(e.queryParams))o.searchParams.append(l,String(u));let r={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=e.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,n,o.toString(),e.abortSignal),this.unaryApiCall(o,r,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[o,r]of Object.entries(n))typeof r=="object"?i[o]=Object.assign(Object.assign({},i[o]),r):r!==void 0&&(i[o]=r);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let r={};return r.body=e.body,r=await this.includeExtraHttpOptionsToRequestInit(r,n,o.toString(),e.abortSignal),this.streamApiCall(o,r,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,o){if(n&&n.timeout||o){const r=new AbortController,l=r.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>r.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}o&&o.addEventListener("abort",()=>{r.abort()}),e.signal=l}return n&&n.extraBody!==null&&zp(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await Go(o),new Tn(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await Go(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){return Te(this,arguments,function*(){var i;const o=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),r=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let l="";const u="data:",d=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:c,value:f}=yield B(o.read());if(c){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=r.decode(f,{stream:!0});try{const g=JSON.parse(p);if("error"in g){const _=JSON.parse(JSON.stringify(g.error)),T=_.status,E=_.code,A=`got status: ${T}. ${JSON.stringify(g)}`;if(E>=400&&E<600)throw new Bt({message:A,status:E})}}catch(g){if(g.name==="ApiError")throw g}l+=p;let h=-1,m=0;for(;;){h=-1,m=0;for(const T of d){const E=l.indexOf(T);E!==-1&&(h===-1||E<h)&&(h=E,m=T.length)}if(h===-1)break;const g=l.substring(0,h);l=l.substring(h+m);const _=g.trim();if(_.startsWith(u)){const T=_.substring(u.length).trim();try{const E=new Response(T,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield B(new Tn(E))}catch(E){throw new Error(`exception parsing stream chunk ${T}. ${E}`)}}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=Gp+" "+this.clientOptions.userAgentExtra;return e[Fp]=n,e[In]=n,e[bp]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[o,r]of Object.entries(e.headers))i.append(o,r);e.timeout&&e.timeout>0&&i.append(Up,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(e){var n;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(e,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const r=this.clientOptions.uploader,l=await r.stat(e);o.sizeBytes=String(l.size);const u=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=u;const d={file:o},c=this.getFileName(e),f=P("upload/v1beta/files",d._url),p=await this.fetchUploadUrl(f,o.sizeBytes,o.mimeType,c,d,n==null?void 0:n.httpOptions);return r.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,i){var o;const r=this.clientOptions.uploader,l=await r.stat(n),u=String(l.size),d=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),p={};i!=null&&as(i,p);const h=await this.fetchUploadUrl(c,u,d,f,p,i==null?void 0:i.httpOptions);return r.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i,o,r,l){var u;let d={};l?d=l:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},o?{"X-Goog-Upload-File-Name":o}:{})};const c=await this.request({path:e,body:JSON.stringify(r),httpMethod:"POST",httpOptions:d});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(u=c==null?void 0:c.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function Go(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new Bt({message:o,status:n}):new Error(o)}}function zp(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const r=JSON.parse(t.body);if(typeof r=="object"&&r!==null&&!Array.isArray(r))n=r;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(r,l){const u=Object.assign({},r);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const c=l[d],f=u[d];c&&typeof c=="object"&&!Array.isArray(c)&&f&&typeof f=="object"&&!Array.isArray(f)?u[d]=i(f,c):(f&&c&&typeof f!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof f}, New type: ${typeof c}. Overwriting.`),u[d]=c)}return u}const o=i(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $p="mcp_used/unknown";let Jp=!1;function us(t){for(const e of t)if(Op(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Jp}function cs(t){var e;const n=(e=t[In])!==null&&e!==void 0?e:"";t[In]=(n+` ${$p}`).trimStart()}function Op(t){return t!==null&&typeof t=="object"&&t instanceof Yn}function Wp(t){return Te(this,arguments,function*(n,i=100){let o,r=0;for(;r<i;){const l=yield B(n.listTools({cursor:o}));for(const u of l.tools)yield yield B(u),r++;if(!l.nextCursor)break;o=l.nextCursor}})}class Yn{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Yn(e,n)}async initialize(){var e,n,i,o;if(this.mcpTools.length>0)return;const r={},l=[];for(const f of this.mcpClients)try{for(var u=!0,d=(n=void 0,Ee(Wp(f))),c;c=await d.next(),e=c.done,!e;u=!0){o=c.value,u=!1;const p=o;l.push(p);const h=p.name;if(r[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);r[h]=f}}catch(p){n={error:p}}finally{try{!u&&!e&&(i=d.return)&&await i.call(d)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=r}async tool(){return await this.initialize(),Iu(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const l=await o.callTool({name:i.name,arguments:i.args},void 0,r);n.push({functionResponse:{name:i.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Yp(t,e,n){const i=new gu;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(i,o),e(i)}class Kp{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),l=Zp(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${o}/ws/google.ai.generativelanguage.${r}.GenerativeService.BidiGenerateMusic?key=${u}`;let c=()=>{};const f=new Promise(S=>{c=S}),p=e.callbacks,h=function(){c({})},m=this.apiClient,g={onopen:h,onmessage:S=>{Yp(m,p.onmessage,S)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(S){},onclose:(i=p==null?void 0:p.onclose)!==null&&i!==void 0?i:function(S){}},_=this.webSocketFactory.create(d,Qp(l),g);_.connect(),await f;const A={setup:{model:W(this.apiClient,e.model)}};return _.send(JSON.stringify(A)),new Xp(_,this.apiClient)}}class Xp{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=_d(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Ed(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ye.PLAY)}pause(){this.sendPlaybackControl(Ye.PAUSE)}stop(){this.sendPlaybackControl(Ye.STOP)}resetContext(){this.sendPlaybackControl(Ye.RESET_CONTEXT)}close(){this.conn.close()}}function Qp(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function Zp(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jp="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function eh(t,e,n){const i=new mu;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const r=JSON.parse(o);if(t.isVertexAI()){const l=Id(r);Object.assign(i,l)}else Object.assign(i,r);e(i)}class th{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new Kp(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,o,r,l,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let f;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&us(e.config.tools)&&cs(p);const h=rh(p);if(this.apiClient.isVertexAI())f=`${d}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,f);else{const k=this.apiClient.getApiKey();let V="BidiGenerateContent",D="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),V="BidiGenerateContentConstrained",D="access_token"),f=`${d}/ws/google.ai.generativelanguage.${c}.GenerativeService.${V}?${D}=${k}`}let m=()=>{};const g=new Promise(k=>{m=k}),_=e.callbacks,T=function(){var k;(k=_==null?void 0:_.onopen)===null||k===void 0||k.call(_),m({})},E=this.apiClient,A={onopen:T,onmessage:k=>{eh(E,_.onmessage,k)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(k){},onclose:(i=_==null?void 0:_.onclose)!==null&&i!==void 0?i:function(k){}},S=this.webSocketFactory.create(f,oh(h),A);S.connect(),await g;let x=W(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&x.startsWith("publishers/")){const k=this.apiClient.getProject(),V=this.apiClient.getLocation();x=`projects/${k}/locations/${V}/`+x}let L={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Lt.AUDIO]}:e.config.responseModalities=[Lt.AUDIO]),!((r=e.config)===null||r===void 0)&&r.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const C=(u=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],N=[];for(const k of C)if(this.isCallableTool(k)){const V=k;N.push(await V.tool())}else N.push(k);N.length>0&&(e.config.tools=N);const q={model:x,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?L=Td(this.apiClient,q):L=vd(this.apiClient,q),delete L.config,S.send(JSON.stringify(L)),new ih(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const nh={turnComplete:!0};class ih{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=pe(n.turns),e.isVertexAI()||(i=i.map(o=>zt(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const r of i){if(typeof r!="object"||r===null||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error(jp)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},nh),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Sd(e)}:n={realtimeInput:Cd(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function oh(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function rh(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qo=10;function Ho(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Qe(l)){o=!0;break}if(!o)return!0;const r=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return r&&(r<0||!Number.isInteger(r))||r==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",r),!0):!1}function Qe(t){return"callTool"in t&&typeof t.callTool=="function"}function sh(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>Qe(o)))!==null&&i!==void 0?i:!1}function Bo(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,o)=>{if(Qe(i))return;const r=i;r.functionDeclarations&&r.functionDeclarations.length>0&&n.push(o)}),n}function zo(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lh extends Me{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,o,r,l,u;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!sh(n)||Ho(n.config))return await this.generateContentInternal(d);const c=Bo(n);if(c.length>0){const _=c.map(T=>`tools[${T}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${_}.`)}let f,p;const h=pe(d.contents),m=(r=(o=(i=d.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:qo;let g=0;for(;g<m&&(f=await this.generateContentInternal(d),!(!f.functionCalls||f.functionCalls.length===0));){const _=f.candidates[0].content,T=[];for(const E of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Qe(E)){const S=await E.callTool(f.functionCalls);T.push(...S)}g++,p={role:"user",parts:T},d.contents=pe(d.contents),d.contents.push(_),d.contents.push(p),zo(d.config)&&(h.push(_),h.push(p))}return zo(d.config)&&(f.automaticFunctionCallingHistory=h),f},this.generateContentStream=async n=>{var i,o,r,l,u;if(this.maybeMoveToResponseJsonSchem(n),Ho(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const d=Bo(n);if(d.length>0){const p=d.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(r=(o=(i=n==null?void 0:n.config)===null||i===void 0?void 0:i.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||r===void 0?void 0:r.streamFunctionCallArguments,f=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(c&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let r;const l=[];if(i!=null&&i.generatedImages)for(const d of i.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((o=d==null?void 0:d.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?r=d==null?void 0:d.safetyAttributes:l.push(d);let u;return r?u={generatedImages:l,positivePromptSafetyAttributes:r,sdkHttpResponse:i.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:i.sdkHttpResponse},u}),this.list=async n=>{var i;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((i=l.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new qe(Re.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var i,o,r,l,u,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(r=n.source)===null||r===void 0?void 0:r.video)===null||l===void 0)&&l.uri&&(!((d=(u=n.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,o;const r=(n=e.config)===null||n===void 0?void 0:n.tools;if(!r)return e;const l=await Promise.all(r.map(async d=>Qe(d)?await d.tool():d)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(u.config.tools=l,e.config&&e.config.tools&&us(e.config.tools)){const d=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let c=Object.assign({},d);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),cs(c),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return u}async initAfcToolsMap(e){var n,i,o;const r=new Map;for(const l of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(Qe(l)){const u=l,d=await u.tool();for(const c of(o=d.functionDeclarations)!==null&&o!==void 0?o:[]){if(!c.name)throw new Error("Function declaration name is required.");if(r.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);r.set(c.name,u)}}return r}async processAfcStream(e){var n,i,o;const r=(o=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:qo;let l=!1,u=0;const d=await this.initAfcToolsMap(e);return(function(c,f,p){return Te(this,arguments,function*(){for(var h,m,g,_,T,E;u<r;){l&&(u++,l=!1);const L=yield B(c.processParamsMaybeAddMcpUsage(p)),C=yield B(c.generateContentStreamInternal(L)),N=[],q=[];try{for(var A=!0,S=(m=void 0,Ee(C)),x;x=yield B(S.next()),h=x.done,!h;A=!0){_=x.value,A=!1;const k=_;if(yield yield B(k),k.candidates&&(!((T=k.candidates[0])===null||T===void 0)&&T.content)){q.push(k.candidates[0].content);for(const V of(E=k.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(u<r&&V.functionCall){if(!V.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(V.functionCall.name)){const D=yield B(f.get(V.functionCall.name).callTool([V.functionCall]));N.push(...D)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${V.functionCall.name}`)}}}}catch(k){m={error:k}}finally{try{!A&&!h&&(g=S.return)&&(yield B(g.call(S)))}finally{if(m)throw m.error}}if(N.length>0){l=!0;const k=new ut;k.candidates=[{content:{role:"user",parts:N}}],yield yield B(k);const V=[];V.push(...q),V.push({role:"user",parts:N});const D=pe(p.contents).concat(V);p.contents=D}else break}})})(this,d,e)}async generateContentInternal(e){var n,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Uo(this.apiClient,e);return u=P("{model}:generateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Vo(f),h=new ut;return Object.assign(h,p),h})}else{const c=bo(this.apiClient,e);return u=P("{model}:generateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Fo(f),h=new ut;return Object.assign(h,p),h})}}async generateContentStreamInternal(e){var n,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Uo(this.apiClient,e);return u=P("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(p){return Te(this,arguments,function*(){var h,m,g,_;try{for(var T=!0,E=Ee(p),A;A=yield B(E.next()),h=A.done,!h;T=!0){_=A.value,T=!1;const S=_,x=Vo(yield B(S.json()));x.sdkHttpResponse={headers:S.headers};const L=new ut;Object.assign(L,x),yield yield B(L)}}catch(S){m={error:S}}finally{try{!T&&!h&&(g=E.return)&&(yield B(g.call(E)))}finally{if(m)throw m.error}}})})}else{const c=bo(this.apiClient,e);return u=P("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(p){return Te(this,arguments,function*(){var h,m,g,_;try{for(var T=!0,E=Ee(p),A;A=yield B(E.next()),h=A.done,!h;T=!0){_=A.value,T=!1;const S=_,x=Fo(yield B(S.json()));x.sdkHttpResponse={headers:S.headers};const L=new ut;Object.assign(L,x),yield yield B(L)}}catch(S){m={error:S}}finally{try{!T&&!h&&(g=E.return)&&(yield B(g.call(E)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var n,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=ef(this.apiClient,e);return u=P("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=nf(f),h=new vo;return Object.assign(h,p),h})}else{const c=jd(this.apiClient,e);return u=P("{model}:batchEmbedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=tf(f),h=new vo;return Object.assign(h,p),h})}}async generateImagesInternal(e){var n,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=hf(this.apiClient,e);return u=P("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=gf(f),h=new To;return Object.assign(h,p),h})}else{const c=pf(this.apiClient,e);return u=P("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=mf(f),h=new To;return Object.assign(h,p),h})}}async editImageInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const u=Kd(this.apiClient,e);return r=P("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>{const c=Xd(d),f=new ou;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const u=hp(this.apiClient,e);return r=P("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>{const c=mp(d),f=new ru;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const u=Kf(this.apiClient,e);return r=P("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const c=Xf(d),f=new su;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const u=np(this.apiClient,e);return r=P("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const c=ip(d),f=new lu;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Df(this.apiClient,e);return u=P("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Sn(f))}else{const c=Nf(this.apiClient,e);return u=P("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>Cn(f))}}async listInternal(e){var n,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Bf(this.apiClient,e);return u=P("{models_url}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=$f(f),h=new Eo;return Object.assign(h,p),h})}else{const c=Hf(this.apiClient,e);return u=P("{models_url}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=zf(f),h=new Eo;return Object.assign(h,p),h})}}async update(e){var n,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=fp(this.apiClient,e);return u=P("{model}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Sn(f))}else{const c=dp(this.apiClient,e);return u=P("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>Cn(f))}}async delete(e){var n,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Jd(this.apiClient,e);return u=P("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Wd(f),h=new _o;return Object.assign(h,p),h})}else{const c=$d(this.apiClient,e);return u=P("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Od(f),h=new _o;return Object.assign(h,p),h})}}async countTokens(e){var n,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Hd(this.apiClient,e);return u=P("{model}:countTokens",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=zd(f),h=new Co;return Object.assign(h,p),h})}else{const c=qd(this.apiClient,e);return u=P("{model}:countTokens",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Bd(f),h=new Co;return Object.assign(h,p),h})}}async computeTokens(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const u=Dd(this.apiClient,e);return r=P("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>{const c=Ld(d),f=new au;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Cf(this.apiClient,e);return u=P("{model}:predictLongRunning",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>{const p=Ef(f),h=new bt;return Object.assign(h,p),h})}else{const c=_f(this.apiClient,e);return u=P("{model}:predictLongRunning",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>{const p=Tf(f),h=new bt;return Object.assign(h,p),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ah extends Me{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let r;i&&"httpOptions"in i&&(r=i.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:r}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let r;i&&"httpOptions"in i&&(r=i.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:r}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Za(e);return u=P("{operationName}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l}else{const c=Qa(e);return u=P("{operationName}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l}}async fetchPredictVideosOperationInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const u=$a(e);return r=P("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uh(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function ch(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Th(r))),a(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&a(e,["role"],i),e}function dh(t,e,n){const i={},o=s(e,["expireTime"]);n!==void 0&&o!=null&&a(n,["expireTime"],o);const r=s(e,["newSessionExpireTime"]);n!==void 0&&r!=null&&a(n,["newSessionExpireTime"],r);const l=s(e,["uses"]);n!==void 0&&l!=null&&a(n,["uses"],l);const u=s(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&a(n,["bidiGenerateContentSetup"],vh(t,u));const d=s(e,["lockAdditionalFields"]);return n!==void 0&&d!=null&&a(n,["fieldMask"],d),i}function fh(t,e){const n={},i=s(e,["config"]);return i!=null&&a(n,["config"],dh(t,i,n)),n}function ph(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function hh(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const i=s(t,["args"]);i!=null&&a(e,["args"],i);const o=s(t,["name"]);if(o!=null&&a(e,["name"],o),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function mh(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function gh(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function yh(t,e){const n={},i=s(t,["generationConfig"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig"],i);const o=s(t,["responseModalities"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig","responseModalities"],o);const r=s(t,["temperature"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","temperature"],r);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const d=s(t,["maxOutputTokens"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","maxOutputTokens"],d);const c=s(t,["mediaResolution"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","mediaResolution"],c);const f=s(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const p=s(t,["speechConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","speechConfig"],Wn(p));const h=s(t,["thinkingConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","thinkingConfig"],h);const m=s(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],m);const g=s(t,["systemInstruction"]);e!==void 0&&g!=null&&a(e,["setup","systemInstruction"],ch(ne(g)));const _=s(t,["tools"]);if(e!==void 0&&_!=null){let C=tt(_);Array.isArray(C)&&(C=C.map(N=>_h(et(N)))),a(e,["setup","tools"],C)}const T=s(t,["sessionResumption"]);e!==void 0&&T!=null&&a(e,["setup","sessionResumption"],Eh(T));const E=s(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&a(e,["setup","inputAudioTranscription"],E);const A=s(t,["outputAudioTranscription"]);e!==void 0&&A!=null&&a(e,["setup","outputAudioTranscription"],A);const S=s(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&a(e,["setup","realtimeInputConfig"],S);const x=s(t,["contextWindowCompression"]);e!==void 0&&x!=null&&a(e,["setup","contextWindowCompression"],x);const L=s(t,["proactivity"]);if(e!==void 0&&L!=null&&a(e,["setup","proactivity"],L),s(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function vh(t,e){const n={},i=s(e,["model"]);i!=null&&a(n,["setup","model"],W(t,i));const o=s(e,["config"]);return o!=null&&a(n,["config"],yh(o,n)),n}function Th(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const i=s(t,["codeExecutionResult"]);i!=null&&a(e,["codeExecutionResult"],i);const o=s(t,["executableCode"]);o!=null&&a(e,["executableCode"],o);const r=s(t,["fileData"]);r!=null&&a(e,["fileData"],ph(r));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],hh(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const d=s(t,["inlineData"]);d!=null&&a(e,["inlineData"],uh(d));const c=s(t,["text"]);c!=null&&a(e,["text"],c);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const p=s(t,["thoughtSignature"]);p!=null&&a(e,["thoughtSignature"],p);const h=s(t,["videoMetadata"]);return h!=null&&a(e,["videoMetadata"],h),e}function Eh(t){const e={},n=s(t,["handle"]);if(n!=null&&a(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function _h(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearchRetrieval"]);i!=null&&a(e,["googleSearchRetrieval"],i);const o=s(t,["computerUse"]);o!=null&&a(e,["computerUse"],o);const r=s(t,["fileSearch"]);r!=null&&a(e,["fileSearch"],r);const l=s(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],mh(u));const d=s(t,["googleSearch"]);d!=null&&a(e,["googleSearch"],gh(d));const c=s(t,["urlContext"]);return c!=null&&a(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ch(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(r=>`${n}.${r}`);e.push(...o)}else e.push(n)}return e.join(",")}function Sh(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const r=i.setup;typeof r=="object"&&r!==null?(t.bidiGenerateContentSetup=r,n=r):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const r=Ch(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)r?t.fieldMask=r:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];o.length>0&&(u=o.map(c=>l.includes(c)?`generationConfig.${c}`:c));const d=[];r&&d.push(r),u.length>0&&d.push(...u),d.length>0?t.fieldMask=d.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class Ih extends Me{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=fh(this.apiClient,e);r=P("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const d=Sh(u,e.config);return o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ah(t,e){const n={},i=s(t,["force"]);return e!==void 0&&i!=null&&a(e,["_query","force"],i),n}function wh(t){const e={},n=s(t,["name"]);n!=null&&a(e,["_url","name"],n);const i=s(t,["config"]);return i!=null&&Ah(i,e),e}function xh(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","name"],n),e}function kh(t,e){const n={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const o=s(t,["pageToken"]);return e!==void 0&&o!=null&&a(e,["_query","pageToken"],o),n}function Rh(t){const e={},n=s(t,["parent"]);n!=null&&a(e,["_url","parent"],n);const i=s(t,["config"]);return i!=null&&kh(i,e),e}function Mh(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const i=s(t,["nextPageToken"]);i!=null&&a(e,["nextPageToken"],i);const o=s(t,["documents"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["documents"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ph extends Me{constructor(e){super(),this.apiClient=e,this.list=async n=>new qe(Re.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=xh(e);return r=P("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(e){var n,i;let o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=wh(e);o=P("{name}",l._url),r=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Rh(e);return r=P("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const c=Mh(d),f=new uu;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nh extends Me{constructor(e,n=new Ph(e)){super(),this.apiClient=e,this.documents=n,this.list=async(i={})=>new qe(Re.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Cp(e);return r=P("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async get(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Ap(e);return r=P("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(e){var n,i;let o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Ip(e);o=P("{name}",l._url),r=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Pp(e);return r=P("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const c=Np(d),f=new cu;return Object.assign(f,c),f})}}async uploadToFileSearchStoreInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Dp(e);return r=P("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const c=Lp(d),f=new du;return Object.assign(f,c),f})}}async importFile(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=kp(e);return r=P("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const c=xp(d),f=new Bn;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ds=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return ds=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const Dh=()=>ds();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function An(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const wn=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class he extends Error{}class re extends he{constructor(e,n,i,o){super(`${re.makeMessage(e,n,i)}`),this.status=e,this.headers=o,this.error=n}static makeMessage(e,n,i){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,n,i,o){if(!e||!o)return new Ot({message:i,cause:wn(n)});const r=n;return e===400?new ps(e,r,i,o):e===401?new hs(e,r,i,o):e===403?new ms(e,r,i,o):e===404?new gs(e,r,i,o):e===409?new ys(e,r,i,o):e===422?new vs(e,r,i,o):e===429?new Ts(e,r,i,o):e>=500?new Es(e,r,i,o):new re(e,r,i,o)}}class xn extends re{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Ot extends re{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class fs extends Ot{constructor({message:e}={}){super({message:e??"Request timed out."})}}class ps extends re{}class hs extends re{}class ms extends re{}class gs extends re{}class ys extends re{}class vs extends re{}class Ts extends re{}class Es extends re{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lh=/^[a-z][a-z0-9+.-]*:/i,bh=t=>Lh.test(t);let kn=t=>(kn=Array.isArray,kn(t));const Uh=kn;let Fh=Uh;const $o=Fh;function Vh(t){if(!t)return!0;for(const e in t)return!1;return!0}function Gh(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const qh=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new he(`${t} must be an integer`);if(e<0)throw new he(`${t} must be a positive integer`);return e},Hh=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bh=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const We="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zh(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const $h=()=>{var t,e,n,i,o;const r=zh();if(r==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":We,"X-Stainless-OS":Oo(Deno.build.os),"X-Stainless-Arch":Jo(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":We,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(r==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":We,"X-Stainless-OS":Oo((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Jo((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const l=Jh();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":We,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":We,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Jh(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const o=i[1]||0,r=i[2]||0,l=i[3]||0;return{browser:e,version:`${o}.${r}.${l}`}}}return null}const Jo=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Oo=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let St;const Oh=()=>St??(St=$h());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wh(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function _s(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function Yh(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return _s({start(){},async pull(n){const{done:i,value:o}=await e.next();i?n.close():n.enqueue(o)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Cs(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Kh(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const i=t.getReader(),o=i.cancel();i.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xh=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ss=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function en(t,e,n){return Ss(),new File(t,e??"unknown_file",n)}function Qh(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Zh=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Is=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",jh=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Is(t),em=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function tm(t,e,n){if(Ss(),t=await t,jh(t))return t instanceof File?t:en([await t.arrayBuffer()],t.name);if(em(t)){const o=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),en(await Rn(o),e,n)}const i=await Rn(t);if(e||(e=Qh(t)),!(n!=null&&n.type)){const o=i.find(r=>typeof r=="object"&&"type"in r&&r.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return en(i,e,n)}async function Rn(t){var e,n,i,o,r;let l=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)l.push(t);else if(Is(t))l.push(t instanceof Blob?t:await t.arrayBuffer());else if(Zh(t))try{for(var u=!0,d=Ee(t),c;c=await d.next(),e=c.done,!e;u=!0){o=c.value,u=!1;const f=o;l.push(...await Rn(f))}}catch(f){n={error:f}}finally{try{!u&&!e&&(i=d.return)&&await i.call(d)}finally{if(n)throw n.error}}else{const f=(r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name;throw new Error(`Unexpected data type: ${typeof t}${f?`; constructor: ${f}`:""}${nm(t)}`)}return l}function nm(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class As{constructor(e){this._client=e}}As._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ws(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Wo=Object.freeze(Object.create(null)),im=(t=ws)=>(function(n,...i){if(n.length===1)return n[0];let o=!1;const r=[],l=n.reduce((f,p,h)=>{var m,g,_;/[?#]/.test(p)&&(o=!0);const T=i[h];let E=(o?encodeURIComponent:t)(""+T);return h!==i.length&&(T==null||typeof T=="object"&&T.toString===((_=Object.getPrototypeOf((g=Object.getPrototypeOf((m=T.hasOwnProperty)!==null&&m!==void 0?m:Wo))!==null&&g!==void 0?g:Wo))===null||_===void 0?void 0:_.toString))&&(E=T+"",r.push({start:f.length+p.length,length:E.length,error:`Value of type ${Object.prototype.toString.call(T).slice(8,-1)} is not a valid path parameter`})),f+p+(h===i.length?"":E)},""),u=l.split(/[?#]/,1)[0],d=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let c;for(;(c=d.exec(u))!==null;)r.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(r.sort((f,p)=>f.start-p.start),r.length>0){let f=0;const p=r.reduce((h,m)=>{const g=" ".repeat(m.start-f),_="^".repeat(m.length);return f=m.start+m.length,h+g+_},"");throw new he(`Path parameters result in path with invalid segments:
${r.map(h=>h.error).join(`
`)}
${l}
${p}`)}return l}),It=im(ws);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xs extends As{create(e,n){var i;const{api_version:o=this._client.apiVersion}=e,r=Ft(e,["api_version"]);if("model"in r&&"agent_config"in r)throw new he("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in r&&"generation_config"in r)throw new he("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(It`/${o}/interactions`,Object.assign(Object.assign({body:r},n),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,n={},i){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(It`/${o}/interactions/${e}`,i)}cancel(e,n={},i){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post(It`/${o}/interactions/${e}/cancel`,i)}get(e,n={},i){var o;const r=n??{},{api_version:l=this._client.apiVersion}=r,u=Ft(r,["api_version"]);return this._client.get(It`/${l}/interactions/${e}`,Object.assign(Object.assign({query:u},i),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}xs._key=Object.freeze(["interactions"]);class ks extends xs{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function om(t){let e=0;for(const o of t)e+=o.length;const n=new Uint8Array(e);let i=0;for(const o of t)n.set(o,i),i+=o.length;return n}let At;function Kn(t){let e;return(At??(e=new globalThis.TextEncoder,At=e.encode.bind(e)))(t)}let wt;function Yo(t){let e;return(wt??(e=new globalThis.TextDecoder,wt=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wt{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Kn(e):e;this.buffer=om([this.buffer,n]);const i=[];let o;for(;(o=rm(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){i.push(Yo(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const r=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,l=Yo(this.buffer.subarray(0,r));i.push(l),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}Wt.NEWLINE_CHARS=new Set([`
`,"\r"]);Wt.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function rm(t,e){for(let o=e??0;o<t.length;o++){if(t[o]===10)return{preceding:o,index:o+1,carriage:!1};if(t[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function sm(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vt={off:0,error:200,warn:300,info:400,debug:500},Ko=(t,e,n)=>{if(t){if(Gh(Vt,t))return t;oe(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Vt))}`)}};function ht(){}function xt(t,e,n){return!e||Vt[t]>Vt[n]?ht:e[t].bind(e)}const lm={error:ht,warn:ht,info:ht,debug:ht};let Xo=new WeakMap;function oe(t){var e;const n=t.logger,i=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return lm;const o=Xo.get(n);if(o&&o[0]===i)return o[1];const r={error:xt("error",n,i),warn:xt("warn",n,i),info:xt("info",n,i),debug:xt("debug",n,i)};return Xo.set(n,[i,r]),r}const Ge=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ke{constructor(e,n,i){this.iterator=e,this.controller=n,this.client=i}static fromSSEResponse(e,n,i){let o=!1;const r=i?oe(i):console;function l(){return Te(this,arguments,function*(){var d,c,f,p;if(o)throw new he("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let h=!1;try{try{for(var m=!0,g=Ee(am(e,n)),_;_=yield B(g.next()),d=_.done,!d;m=!0){p=_.value,m=!1;const T=p;if(!h)if(T.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield B(JSON.parse(T.data))}catch(E){throw r.error("Could not parse message into JSON:",T.data),r.error("From chunk:",T.raw),E}}}catch(T){c={error:T}}finally{try{!m&&!d&&(f=g.return)&&(yield B(f.call(g)))}finally{if(c)throw c.error}}h=!0}catch(T){if(An(T))return yield B(void 0);throw T}finally{h||n.abort()}})}return new Ke(l,n,i)}static fromReadableStream(e,n,i){let o=!1;function r(){return Te(this,arguments,function*(){var d,c,f,p;const h=new Wt,m=Cs(e);try{for(var g=!0,_=Ee(m),T;T=yield B(_.next()),d=T.done,!d;g=!0){p=T.value,g=!1;const E=p;for(const A of h.decode(E))yield yield B(A)}}catch(E){c={error:E}}finally{try{!g&&!d&&(f=_.return)&&(yield B(f.call(_)))}finally{if(c)throw c.error}}for(const E of h.flush())yield yield B(E)})}function l(){return Te(this,arguments,function*(){var d,c,f,p;if(o)throw new he("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let h=!1;try{try{for(var m=!0,g=Ee(r()),_;_=yield B(g.next()),d=_.done,!d;m=!0){p=_.value,m=!1;const T=p;h||T&&(yield yield B(JSON.parse(T)))}}catch(T){c={error:T}}finally{try{!m&&!d&&(f=g.return)&&(yield B(f.call(g)))}finally{if(c)throw c.error}}h=!0}catch(T){if(An(T))return yield B(void 0);throw T}finally{h||n.abort()}})}return new Ke(l,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),o=r=>({next:()=>{if(r.length===0){const l=i.next();e.push(l),n.push(l)}return r.shift()}});return[new Ke(()=>o(e),this.controller,this.client),new Ke(()=>o(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return _s({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:o,done:r}=await n.next();if(r)return i.close();const l=Kn(JSON.stringify(o)+`
`);i.enqueue(l)}catch(o){i.error(o)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}}function am(t,e){return Te(this,arguments,function*(){var i,o,r,l;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new he("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new he("Attempted to iterate over a response with no body");const u=new cm,d=new Wt,c=Cs(t.body);try{for(var f=!0,p=Ee(um(c)),h;h=yield B(p.next()),i=h.done,!i;f=!0){l=h.value,f=!1;const m=l;for(const g of d.decode(m)){const _=u.decode(g);_&&(yield yield B(_))}}}catch(m){o={error:m}}finally{try{!f&&!i&&(r=p.return)&&(yield B(r.call(p)))}finally{if(o)throw o.error}}for(const m of d.flush()){const g=u.decode(m);g&&(yield yield B(g))}})}function um(t){return Te(this,arguments,function*(){var n,i,o,r;let l=new Uint8Array;try{for(var u=!0,d=Ee(t),c;c=yield B(d.next()),n=c.done,!n;u=!0){r=c.value,u=!1;const f=r;if(f==null)continue;const p=f instanceof ArrayBuffer?new Uint8Array(f):typeof f=="string"?Kn(f):f;let h=new Uint8Array(l.length+p.length);h.set(l),h.set(p,l.length),l=h;let m;for(;(m=sm(l))!==-1;)yield yield B(l.slice(0,m)),l=l.slice(m)}}catch(f){i={error:f}}finally{try{!u&&!n&&(o=d.return)&&(yield B(o.call(d)))}finally{if(i)throw i.error}}l.length>0&&(yield yield B(l))})}class cm{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const r={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],r}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,o]=dm(e,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function dm(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function fm(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:o,startTime:r}=e,l=await(async()=>{var u;if(e.options.stream)return oe(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Ke.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const d=n.headers.get("content-type"),c=(u=d==null?void 0:d.split(";")[0])===null||u===void 0?void 0:u.trim();return(c==null?void 0:c.includes("application/json"))||(c==null?void 0:c.endsWith("+json"))?await n.json():await n.text()})();return oe(t).debug(`[${i}] response parsed`,Ge({retryOfRequestLogID:o,url:n.url,status:n.status,body:l,durationMs:Date.now()-r})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xn extends Promise{constructor(e,n,i=fm){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new Xn(this.client,this.responsePromise,async(n,i)=>e(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rs=Symbol("brand.privateNullableHeaders");function*pm(t){if(!t)return;if(Rs in t){const{values:i,nulls:o}=t;yield*i.entries();for(const r of o)yield[r,null];return}let e=!1,n;t instanceof Headers?n=t.entries():$o(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const o=i[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const r=$o(i[1])?i[1]:[i[1]];let l=!1;for(const u of r)u!==void 0&&(e&&!l&&(l=!0,yield[o,null]),yield[o,u])}}const tn=t=>{const e=new Headers,n=new Set;for(const i of t){const o=new Set;for(const[r,l]of pm(i)){const u=r.toLowerCase();o.has(u)||(e.delete(r),o.add(u)),l===null?(e.delete(r),n.add(u)):(e.append(r,l),n.delete(u))}}return{[Rs]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nn=t=>{var e,n,i,o,r,l;if(typeof globalThis.process<"u")return(i=(n=(e=Va)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(l=(r=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||r===void 0?void 0:r.call(o,t))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ms;class Yt{constructor(e){var n,i,o,r,l,u,d,c=e===void 0?{}:e,{baseURL:f=nn("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:p=(n=nn("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:h="v1beta"}=c,m=Ft(c,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:p,apiVersion:h},m),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(i=g.timeout)!==null&&i!==void 0?i:Yt.DEFAULT_TIMEOUT,this.logger=(o=g.logger)!==null&&o!==void 0?o:console;const _="warn";this.logLevel=_,this.logLevel=(l=(r=Ko(g.logLevel,"ClientOptions.logLevel",this))!==null&&r!==void 0?r:Ko(nn("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:_,this.fetchOptions=g.fetchOptions,this.maxRetries=(u=g.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(d=g.fetch)!==null&&d!==void 0?d:Wh(),this.encoder=Xh,this._options=g,this.apiKey=p,this.apiVersion=h}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){if(this.apiKey!=null)return tn([{"x-goog-api-key":this.apiKey}])}stringifyQuery(e){return Object.entries(e).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new he(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${We}`}defaultIdempotencyKey(){return`stainless-node-retry-${Dh()}`}makeStatusError(e,n,i,o){return re.generate(e,n,i,o)}buildURL(e,n,i){const o=!this.baseURLOverridden()&&i||this.baseURL,r=bh(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),l=this.defaultQuery();return Vh(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}async prepareOptions(e){}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(o=>Object.assign({method:e,path:n},o)))}request(e,n=null){return new Xn(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){var o,r,l;const u=await e,d=(o=u.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=d),await this.prepareOptions(u);const{req:c,url:f,timeout:p}=await this.buildRequest(u,{retryCount:d-n});await this.prepareRequest(c,{url:f,options:u});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=i===void 0?"":`, retryOf: ${i}`,g=Date.now();if(oe(this).debug(`[${h}] sending request`,Ge({retryOfRequestLogID:i,method:u.method,url:f,options:u,headers:c.headers})),!((r=u.signal)===null||r===void 0)&&r.aborted)throw new xn;const _=new AbortController,T=await this.fetchWithTimeout(f,c,p,_).catch(wn),E=Date.now();if(T instanceof globalThis.Error){const S=`retrying, ${n} attempts remaining`;if(!((l=u.signal)===null||l===void 0)&&l.aborted)throw new xn;const x=An(T)||/timed? ?out/i.test(String(T)+("cause"in T?String(T.cause):""));if(n)return oe(this).info(`[${h}] connection ${x?"timed out":"failed"} - ${S}`),oe(this).debug(`[${h}] connection ${x?"timed out":"failed"} (${S})`,Ge({retryOfRequestLogID:i,url:f,durationMs:E-g,message:T.message})),this.retryRequest(u,n,i??h);throw oe(this).info(`[${h}] connection ${x?"timed out":"failed"} - error; no more retries left`),oe(this).debug(`[${h}] connection ${x?"timed out":"failed"} (error; no more retries left)`,Ge({retryOfRequestLogID:i,url:f,durationMs:E-g,message:T.message})),x?new fs:new Ot({cause:T})}const A=`[${h}${m}] ${c.method} ${f} ${T.ok?"succeeded":"failed"} with status ${T.status} in ${E-g}ms`;if(!T.ok){const S=await this.shouldRetry(T);if(n&&S){const k=`retrying, ${n} attempts remaining`;return await Kh(T.body),oe(this).info(`${A} - ${k}`),oe(this).debug(`[${h}] response error (${k})`,Ge({retryOfRequestLogID:i,url:T.url,status:T.status,headers:T.headers,durationMs:E-g})),this.retryRequest(u,n,i??h,T.headers)}const x=S?"error; no more retries left":"error; not retryable";oe(this).info(`${A} - ${x}`);const L=await T.text().catch(k=>wn(k).message),C=Hh(L),N=C?void 0:L;throw oe(this).debug(`[${h}] response error (${x})`,Ge({retryOfRequestLogID:i,url:T.url,status:T.status,headers:T.headers,message:N,durationMs:Date.now()-g})),this.makeStatusError(T.status,C,N,T.headers)}return oe(this).info(A),oe(this).debug(`[${h}] response start`,Ge({retryOfRequestLogID:i,url:T.url,status:T.status,headers:T.headers,durationMs:E-g})),{response:T,options:u,controller:_,requestLogID:h,retryOfRequestLogID:i,startTime:g}}async fetchWithTimeout(e,n,i,o){const r=n||{},{signal:l,method:u}=r,d=Ft(r,["signal","method"]);l&&l.addEventListener("abort",()=>o.abort());const c=setTimeout(()=>o.abort(),i),f=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,p=Object.assign(Object.assign(Object.assign({signal:o.signal},f?{duplex:"half"}:{}),{method:"GET"}),d);u&&(p.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,p)}finally{clearTimeout(c)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,o){var r;let l;const u=o==null?void 0:o.get("retry-after-ms");if(u){const c=parseFloat(u);Number.isNaN(c)||(l=c)}const d=o==null?void 0:o.get("retry-after");if(d&&!l){const c=parseFloat(d);Number.isNaN(c)?l=Date.parse(d)-Date.now():l=c*1e3}if(!(l&&0<=l&&l<60*1e3)){const c=(r=e.maxRetries)!==null&&r!==void 0?r:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,c)}return await Bh(l),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const r=n-e,l=Math.min(.5*Math.pow(2,r),8),u=1-Math.random()*.25;return l*u*1e3}async buildRequest(e,{retryCount:n=0}={}){var i,o,r;const l=Object.assign({},e),{method:u,path:d,query:c,defaultBaseURL:f}=l,p=this.buildURL(d,c,f);"timeout"in l&&qh("timeout",l.timeout),l.timeout=(i=l.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:h,body:m}=this.buildBody({options:l}),g=await this.buildHeaders({options:e,method:u,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:g},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(r=l.fetchOptions)!==null&&r!==void 0?r:{}),url:p,timeout:l.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:o}){let r={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),r[this.idempotencyHeader]=e.idempotencyKey);const l=tn([r,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Oh()),await this.authHeaders(e),this._options.defaultHeaders,i,e.headers]);return this.validateHeaders(l),l.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=tn([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Yh(e)}:this.encoder({body:e,headers:i})}}Yt.DEFAULT_TIMEOUT=6e4;class ee extends Yt{constructor(){super(...arguments),this.interactions=new ks(this)}}Ms=ee;ee.GeminiNextGenAPIClient=Ms;ee.GeminiNextGenAPIClientError=he;ee.APIError=re;ee.APIConnectionError=Ot;ee.APIConnectionTimeoutError=fs;ee.APIUserAbortError=xn;ee.NotFoundError=gs;ee.ConflictError=ys;ee.RateLimitError=Ts;ee.BadRequestError=ps;ee.AuthenticationError=hs;ee.InternalServerError=Es;ee.PermissionDeniedError=ms;ee.UnprocessableEntityError=vs;ee.toFile=tm;ee.Interactions=ks;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hm(t,e){const n={},i=s(t,["name"]);return i!=null&&a(n,["_url","name"],i),n}function mm(t,e){const n={},i=s(t,["name"]);return i!=null&&a(n,["_url","name"],i),n}function gm(t,e){const n={},i=s(t,["sdkHttpResponse"]);return i!=null&&a(n,["sdkHttpResponse"],i),n}function ym(t,e){const n={},i=s(t,["sdkHttpResponse"]);return i!=null&&a(n,["sdkHttpResponse"],i),n}function vm(t,e,n){const i={};if(s(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=s(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&a(e,["displayName"],o),s(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=s(t,["epochCount"]);e!==void 0&&r!=null&&a(e,["tuningTask","hyperparameters","epochCount"],r);const l=s(t,["learningRateMultiplier"]);if(l!=null&&a(i,["tuningTask","hyperparameters","learningRateMultiplier"],l),s(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=s(t,["batchSize"]);e!==void 0&&u!=null&&a(e,["tuningTask","hyperparameters","batchSize"],u);const d=s(t,["learningRate"]);if(e!==void 0&&d!=null&&a(e,["tuningTask","hyperparameters","learningRate"],d),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(s(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function Tm(t,e,n){const i={};let o=s(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const m=s(t,["validationDataset"]);e!==void 0&&m!=null&&a(e,["supervisedTuningSpec"],Qo(m))}else if(o==="PREFERENCE_TUNING"){const m=s(t,["validationDataset"]);e!==void 0&&m!=null&&a(e,["preferenceOptimizationSpec"],Qo(m))}const r=s(t,["tunedModelDisplayName"]);e!==void 0&&r!=null&&a(e,["tunedModelDisplayName"],r);const l=s(t,["description"]);e!==void 0&&l!=null&&a(e,["description"],l);let u=s(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const m=s(t,["epochCount"]);e!==void 0&&m!=null&&a(e,["supervisedTuningSpec","hyperParameters","epochCount"],m)}else if(u==="PREFERENCE_TUNING"){const m=s(t,["epochCount"]);e!==void 0&&m!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],m)}let d=s(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const m=s(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&a(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m)}else if(d==="PREFERENCE_TUNING"){const m=s(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],m)}let c=s(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const m=s(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&a(e,["supervisedTuningSpec","exportLastCheckpointOnly"],m)}else if(c==="PREFERENCE_TUNING"){const m=s(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&a(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],m)}let f=s(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const m=s(t,["adapterSize"]);e!==void 0&&m!=null&&a(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m)}else if(f==="PREFERENCE_TUNING"){const m=s(t,["adapterSize"]);e!==void 0&&m!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],m)}if(s(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=s(t,["labels"]);e!==void 0&&p!=null&&a(e,["labels"],p);const h=s(t,["beta"]);return e!==void 0&&h!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),i}function Em(t,e){const n={},i=s(t,["baseModel"]);i!=null&&a(n,["baseModel"],i);const o=s(t,["preTunedModel"]);o!=null&&a(n,["preTunedModel"],o);const r=s(t,["trainingDataset"]);r!=null&&Pm(r);const l=s(t,["config"]);return l!=null&&vm(l,n),n}function _m(t,e){const n={},i=s(t,["baseModel"]);i!=null&&a(n,["baseModel"],i);const o=s(t,["preTunedModel"]);o!=null&&a(n,["preTunedModel"],o);const r=s(t,["trainingDataset"]);r!=null&&Nm(r,n,e);const l=s(t,["config"]);return l!=null&&Tm(l,n,e),n}function Cm(t,e){const n={},i=s(t,["name"]);return i!=null&&a(n,["_url","name"],i),n}function Sm(t,e){const n={},i=s(t,["name"]);return i!=null&&a(n,["_url","name"],i),n}function Im(t,e,n){const i={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);e!==void 0&&r!=null&&a(e,["_query","pageToken"],r);const l=s(t,["filter"]);return e!==void 0&&l!=null&&a(e,["_query","filter"],l),i}function Am(t,e,n){const i={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);e!==void 0&&r!=null&&a(e,["_query","pageToken"],r);const l=s(t,["filter"]);return e!==void 0&&l!=null&&a(e,["_query","filter"],l),i}function wm(t,e){const n={},i=s(t,["config"]);return i!=null&&Im(i,n),n}function xm(t,e){const n={},i=s(t,["config"]);return i!=null&&Am(i,n),n}function km(t,e){const n={},i=s(t,["sdkHttpResponse"]);i!=null&&a(n,["sdkHttpResponse"],i);const o=s(t,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const r=s(t,["tunedModels"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Ps(u))),a(n,["tuningJobs"],l)}return n}function Rm(t,e){const n={},i=s(t,["sdkHttpResponse"]);i!=null&&a(n,["sdkHttpResponse"],i);const o=s(t,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const r=s(t,["tuningJobs"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Mn(u))),a(n,["tuningJobs"],l)}return n}function Mm(t,e){const n={},i=s(t,["name"]);i!=null&&a(n,["model"],i);const o=s(t,["name"]);return o!=null&&a(n,["endpoint"],o),n}function Pm(t,e){const n={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=s(t,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>r)),a(n,["examples","examples"],o)}return n}function Nm(t,e,n){const i={};let o=s(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=s(t,["gcsUri"]);e!==void 0&&l!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=s(t,["gcsUri"]);e!==void 0&&l!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let r=s(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const l=s(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(r==="PREFERENCE_TUNING"){const l=s(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(s(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function Ps(t,e){const n={},i=s(t,["sdkHttpResponse"]);i!=null&&a(n,["sdkHttpResponse"],i);const o=s(t,["name"]);o!=null&&a(n,["name"],o);const r=s(t,["state"]);r!=null&&a(n,["state"],Jr(r));const l=s(t,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(t,["tuningTask","startTime"]);u!=null&&a(n,["startTime"],u);const d=s(t,["tuningTask","completeTime"]);d!=null&&a(n,["endTime"],d);const c=s(t,["updateTime"]);c!=null&&a(n,["updateTime"],c);const f=s(t,["description"]);f!=null&&a(n,["description"],f);const p=s(t,["baseModel"]);p!=null&&a(n,["baseModel"],p);const h=s(t,["_self"]);return h!=null&&a(n,["tunedModel"],Mm(h)),n}function Mn(t,e){const n={},i=s(t,["sdkHttpResponse"]);i!=null&&a(n,["sdkHttpResponse"],i);const o=s(t,["name"]);o!=null&&a(n,["name"],o);const r=s(t,["state"]);r!=null&&a(n,["state"],Jr(r));const l=s(t,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(t,["startTime"]);u!=null&&a(n,["startTime"],u);const d=s(t,["endTime"]);d!=null&&a(n,["endTime"],d);const c=s(t,["updateTime"]);c!=null&&a(n,["updateTime"],c);const f=s(t,["error"]);f!=null&&a(n,["error"],f);const p=s(t,["description"]);p!=null&&a(n,["description"],p);const h=s(t,["baseModel"]);h!=null&&a(n,["baseModel"],h);const m=s(t,["tunedModel"]);m!=null&&a(n,["tunedModel"],m);const g=s(t,["preTunedModel"]);g!=null&&a(n,["preTunedModel"],g);const _=s(t,["supervisedTuningSpec"]);_!=null&&a(n,["supervisedTuningSpec"],_);const T=s(t,["preferenceOptimizationSpec"]);T!=null&&a(n,["preferenceOptimizationSpec"],T);const E=s(t,["tuningDataStats"]);E!=null&&a(n,["tuningDataStats"],E);const A=s(t,["encryptionSpec"]);A!=null&&a(n,["encryptionSpec"],A);const S=s(t,["partnerModelTuningSpec"]);S!=null&&a(n,["partnerModelTuningSpec"],S);const x=s(t,["customBaseModel"]);x!=null&&a(n,["customBaseModel"],x);const L=s(t,["experiment"]);L!=null&&a(n,["experiment"],L);const C=s(t,["labels"]);C!=null&&a(n,["labels"],C);const N=s(t,["outputUri"]);N!=null&&a(n,["outputUri"],N);const q=s(t,["pipelineJob"]);q!=null&&a(n,["pipelineJob"],q);const k=s(t,["serviceAccount"]);k!=null&&a(n,["serviceAccount"],k);const V=s(t,["tunedModelDisplayName"]);V!=null&&a(n,["tunedModelDisplayName"],V);const D=s(t,["veoTuningSpec"]);return D!=null&&a(n,["veoTuningSpec"],D),n}function Dm(t,e){const n={},i=s(t,["sdkHttpResponse"]);i!=null&&a(n,["sdkHttpResponse"],i);const o=s(t,["name"]);o!=null&&a(n,["name"],o);const r=s(t,["metadata"]);r!=null&&a(n,["metadata"],r);const l=s(t,["done"]);l!=null&&a(n,["done"],l);const u=s(t,["error"]);return u!=null&&a(n,["error"],u),n}function Qo(t,e){const n={},i=s(t,["gcsUri"]);i!=null&&a(n,["validationDatasetUri"],i);const o=s(t,["vertexDatasetResource"]);return o!=null&&a(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lm extends Me{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new qe(Re.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const r=Object.assign(Object.assign({},n),{preTunedModel:o});return r.baseModel=void 0,await this.tuneInternal(r)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),r=await this.tuneMldevInternal(o);let l="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?l=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(l=r.name.split("/operations/")[0]),{name:l,state:vn.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Sm(e);return u=P("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>Mn(f))}else{const c=Cm(e);return u=P("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>Ps(f))}}async listInternal(e){var n,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=xm(e);return u=P("tuningJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Rm(f),h=new So;return Object.assign(h,p),h})}else{const c=wm(e);return u=P("tunedModels",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=km(f),h=new So;return Object.assign(h,p),h})}}async cancel(e){var n,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=mm(e);return u=P("{name}:cancel",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=ym(f),h=new Io;return Object.assign(h,p),h})}else{const c=hm(e);return u=P("{name}:cancel",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=gm(f),h=new Io;return Object.assign(h,p),h})}}async tuneInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const u=_m(e,e);return r=P("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>Mn(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Em(e);return r=P("tunedModels",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>Dm(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bm{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Um=1024*1024*8,Fm=3,Vm=1e3,Gm=2,Gt="x-goog-upload-status";async function qm(t,e,n){var i;const o=await Ns(t,e,n),r=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[Gt])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return r.file}async function Hm(t,e,n){var i;const o=await Ns(t,e,n),r=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[Gt])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=Gr(r),u=new zn;return Object.assign(u,l),u}async function Ns(t,e,n){var i,o;let r=0,l=0,u=new Tn(new Response),d="upload";for(r=t.size;l<r;){const c=Math.min(Um,r-l),f=t.slice(l,l+c);l+c>=r&&(d+=", finalize");let p=0,h=Vm;for(;p<Fm&&(u=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(c)}}}),!(!((i=u==null?void 0:u.headers)===null||i===void 0)&&i[Gt]));)p++,await zm(h),h=h*Gm;if(l+=c,((o=u==null?void 0:u.headers)===null||o===void 0?void 0:o[Gt])!=="active")break;if(r<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function Bm(t){return{size:t.size,type:t.type}}function zm(t){return new Promise(e=>setTimeout(e,t))}class $m{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await qm(e,n,i)}async uploadToFileSearchStore(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Hm(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Bm(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jm{create(e,n,i){return new Om(e,n,i)}}class Om{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zo="x-goog-api-key";class Wm{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Zo)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Zo,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ym="gl-node/";class IE{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new ee({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=Ba(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const o=new Wm(this.apiKey);this.apiClient=new Bp({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Ym+"web",uploader:new $m,downloader:new bm}),this.models=new lh(this.apiClient),this.live=new th(this.apiClient,o,new Jm),this.batches=new yc(this.apiClient),this.chats=new Zc(this.models,this.apiClient),this.caches=new Kc(this.apiClient),this.files=new ad(this.apiClient),this.operations=new ah(this.apiClient),this.authTokens=new Ih(this.apiClient),this.tunings=new Lm(this.apiClient),this.fileSearchStores=new Nh(this.apiClient)}}function Km(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Xm=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Qm=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Zm={};function jo(t,e){return(Zm.jsx?Qm:Xm).test(t)}const jm=/[ \t\n\f\r]/g;function eg(t){return typeof t=="object"?t.type==="text"?er(t.value):!1:er(t)}function er(t){return t.replace(jm,"")===""}class Et{constructor(e,n,i){this.normal=n,this.property=e,i&&(this.space=i)}}Et.prototype.normal={};Et.prototype.property={};Et.prototype.space=void 0;function Ds(t,e){const n={},i={};for(const o of t)Object.assign(n,o.property),Object.assign(i,o.normal);return new Et(n,i,e)}function Pn(t){return t.toLowerCase()}class ae{constructor(e,n){this.attribute=n,this.property=e}}ae.prototype.attribute="";ae.prototype.booleanish=!1;ae.prototype.boolean=!1;ae.prototype.commaOrSpaceSeparated=!1;ae.prototype.commaSeparated=!1;ae.prototype.defined=!1;ae.prototype.mustUseProperty=!1;ae.prototype.number=!1;ae.prototype.overloadedBoolean=!1;ae.prototype.property="";ae.prototype.spaceSeparated=!1;ae.prototype.space=void 0;let tg=0;const $=He(),j=He(),Nn=He(),w=He(),X=He(),Ze=He(),ce=He();function He(){return 2**++tg}const Dn=Object.freeze(Object.defineProperty({__proto__:null,boolean:$,booleanish:j,commaOrSpaceSeparated:ce,commaSeparated:Ze,number:w,overloadedBoolean:Nn,spaceSeparated:X},Symbol.toStringTag,{value:"Module"})),on=Object.keys(Dn);class Qn extends ae{constructor(e,n,i,o){let r=-1;if(super(e,n),tr(this,"space",o),typeof i=="number")for(;++r<on.length;){const l=on[r];tr(this,on[r],(i&Dn[l])===Dn[l])}}}Qn.prototype.defined=!0;function tr(t,e,n){n&&(t[e]=n)}function it(t){const e={},n={};for(const[i,o]of Object.entries(t.properties)){const r=new Qn(i,t.transform(t.attributes||{},i),o,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(r.mustUseProperty=!0),e[i]=r,n[Pn(i)]=i,n[Pn(r.attribute)]=i}return new Et(e,n,t.space)}const Ls=it({properties:{ariaActiveDescendant:null,ariaAtomic:j,ariaAutoComplete:null,ariaBusy:j,ariaChecked:j,ariaColCount:w,ariaColIndex:w,ariaColSpan:w,ariaControls:X,ariaCurrent:null,ariaDescribedBy:X,ariaDetails:null,ariaDisabled:j,ariaDropEffect:X,ariaErrorMessage:null,ariaExpanded:j,ariaFlowTo:X,ariaGrabbed:j,ariaHasPopup:null,ariaHidden:j,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:X,ariaLevel:w,ariaLive:null,ariaModal:j,ariaMultiLine:j,ariaMultiSelectable:j,ariaOrientation:null,ariaOwns:X,ariaPlaceholder:null,ariaPosInSet:w,ariaPressed:j,ariaReadOnly:j,ariaRelevant:null,ariaRequired:j,ariaRoleDescription:X,ariaRowCount:w,ariaRowIndex:w,ariaRowSpan:w,ariaSelected:j,ariaSetSize:w,ariaSort:null,ariaValueMax:w,ariaValueMin:w,ariaValueNow:w,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function bs(t,e){return e in t?t[e]:e}function Us(t,e){return bs(t,e.toLowerCase())}const ng=it({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ze,acceptCharset:X,accessKey:X,action:null,allow:null,allowFullScreen:$,allowPaymentRequest:$,allowUserMedia:$,alt:null,as:null,async:$,autoCapitalize:null,autoComplete:X,autoFocus:$,autoPlay:$,blocking:X,capture:null,charSet:null,checked:$,cite:null,className:X,cols:w,colSpan:null,content:null,contentEditable:j,controls:$,controlsList:X,coords:w|Ze,crossOrigin:null,data:null,dateTime:null,decoding:null,default:$,defer:$,dir:null,dirName:null,disabled:$,download:Nn,draggable:j,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:$,formTarget:null,headers:X,height:w,hidden:Nn,high:w,href:null,hrefLang:null,htmlFor:X,httpEquiv:X,id:null,imageSizes:null,imageSrcSet:null,inert:$,inputMode:null,integrity:null,is:null,isMap:$,itemId:null,itemProp:X,itemRef:X,itemScope:$,itemType:X,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:$,low:w,manifest:null,max:null,maxLength:w,media:null,method:null,min:null,minLength:w,multiple:$,muted:$,name:null,nonce:null,noModule:$,noValidate:$,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:$,optimum:w,pattern:null,ping:X,placeholder:null,playsInline:$,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:$,referrerPolicy:null,rel:X,required:$,reversed:$,rows:w,rowSpan:w,sandbox:X,scope:null,scoped:$,seamless:$,selected:$,shadowRootClonable:$,shadowRootDelegatesFocus:$,shadowRootMode:null,shape:null,size:w,sizes:null,slot:null,span:w,spellCheck:j,src:null,srcDoc:null,srcLang:null,srcSet:null,start:w,step:null,style:null,tabIndex:w,target:null,title:null,translate:null,type:null,typeMustMatch:$,useMap:null,value:j,width:w,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:X,axis:null,background:null,bgColor:null,border:w,borderColor:null,bottomMargin:w,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:$,declare:$,event:null,face:null,frame:null,frameBorder:null,hSpace:w,leftMargin:w,link:null,longDesc:null,lowSrc:null,marginHeight:w,marginWidth:w,noResize:$,noHref:$,noShade:$,noWrap:$,object:null,profile:null,prompt:null,rev:null,rightMargin:w,rules:null,scheme:null,scrolling:j,standby:null,summary:null,text:null,topMargin:w,valueType:null,version:null,vAlign:null,vLink:null,vSpace:w,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:$,disableRemotePlayback:$,prefix:null,property:null,results:w,security:null,unselectable:null},space:"html",transform:Us}),ig=it({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ce,accentHeight:w,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:w,amplitude:w,arabicForm:null,ascent:w,attributeName:null,attributeType:null,azimuth:w,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:w,by:null,calcMode:null,capHeight:w,className:X,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:w,diffuseConstant:w,direction:null,display:null,dur:null,divisor:w,dominantBaseline:null,download:$,dx:null,dy:null,edgeMode:null,editable:null,elevation:w,enableBackground:null,end:null,event:null,exponent:w,externalResourcesRequired:null,fill:null,fillOpacity:w,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ze,g2:Ze,glyphName:Ze,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:w,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:w,horizOriginX:w,horizOriginY:w,id:null,ideographic:w,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:w,k:w,k1:w,k2:w,k3:w,k4:w,kernelMatrix:ce,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:w,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:w,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:w,overlineThickness:w,paintOrder:null,panose1:null,path:null,pathLength:w,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:X,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:w,pointsAtY:w,pointsAtZ:w,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ce,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ce,rev:ce,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ce,requiredFeatures:ce,requiredFonts:ce,requiredFormats:ce,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:w,specularExponent:w,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:w,strikethroughThickness:w,string:null,stroke:null,strokeDashArray:ce,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:w,strokeOpacity:w,strokeWidth:null,style:null,surfaceScale:w,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ce,tabIndex:w,tableValues:null,target:null,targetX:w,targetY:w,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ce,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:w,underlineThickness:w,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:w,values:null,vAlphabetic:w,vMathematical:w,vectorEffect:null,vHanging:w,vIdeographic:w,version:null,vertAdvY:w,vertOriginX:w,vertOriginY:w,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:w,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:bs}),Fs=it({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Vs=it({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Us}),Gs=it({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),og={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},rg=/[A-Z]/g,nr=/-[a-z]/g,sg=/^data[-\w.:]+$/i;function lg(t,e){const n=Pn(e);let i=e,o=ae;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&sg.test(e)){if(e.charAt(4)==="-"){const r=e.slice(5).replace(nr,ug);i="data"+r.charAt(0).toUpperCase()+r.slice(1)}else{const r=e.slice(4);if(!nr.test(r)){let l=r.replace(rg,ag);l.charAt(0)!=="-"&&(l="-"+l),e="data"+l}}o=Qn}return new o(i,e)}function ag(t){return"-"+t.toLowerCase()}function ug(t){return t.charAt(1).toUpperCase()}const cg=Ds([Ls,ng,Fs,Vs,Gs],"html"),Zn=Ds([Ls,ig,Fs,Vs,Gs],"svg");function dg(t){return t.join(" ").trim()}var Je={},rn,ir;function fg(){if(ir)return rn;ir=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,r=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,u=/^\s+|\s+$/g,d=`
`,c="/",f="*",p="",h="comment",m="declaration";function g(T,E){if(typeof T!="string")throw new TypeError("First argument must be a string");if(!T)return[];E=E||{};var A=1,S=1;function x(F){var M=F.match(e);M&&(A+=M.length);var J=F.lastIndexOf(d);S=~J?F.length-J:S+F.length}function L(){var F={line:A,column:S};return function(M){return M.position=new C(F),k(),M}}function C(F){this.start=F,this.end={line:A,column:S},this.source=E.source}C.prototype.content=T;function N(F){var M=new Error(E.source+":"+A+":"+S+": "+F);if(M.reason=F,M.filename=E.source,M.line=A,M.column=S,M.source=T,!E.silent)throw M}function q(F){var M=F.exec(T);if(M){var J=M[0];return x(J),T=T.slice(J.length),M}}function k(){q(n)}function V(F){var M;for(F=F||[];M=D();)M!==!1&&F.push(M);return F}function D(){var F=L();if(!(c!=T.charAt(0)||f!=T.charAt(1))){for(var M=2;p!=T.charAt(M)&&(f!=T.charAt(M)||c!=T.charAt(M+1));)++M;if(M+=2,p===T.charAt(M-1))return N("End of comment missing");var J=T.slice(2,M-2);return S+=2,x(J),T=T.slice(M),S+=2,F({type:h,comment:J})}}function b(){var F=L(),M=q(i);if(M){if(D(),!q(o))return N("property missing ':'");var J=q(r),Z=F({type:m,property:_(M[0].replace(t,p)),value:J?_(J[0].replace(t,p)):p});return q(l),Z}}function G(){var F=[];V(F);for(var M;M=b();)M!==!1&&(F.push(M),V(F));return F}return k(),G()}function _(T){return T?T.replace(u,p):p}return rn=g,rn}var or;function pg(){if(or)return Je;or=1;var t=Je&&Je.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Je,"__esModule",{value:!0}),Je.default=n;const e=t(fg());function n(i,o){let r=null;if(!i||typeof i!="string")return r;const l=(0,e.default)(i),u=typeof o=="function";return l.forEach(d=>{if(d.type!=="declaration")return;const{property:c,value:f}=d;u?o(c,f,d):f&&(r=r||{},r[c]=f)}),r}return Je}var ct={},rr;function hg(){if(rr)return ct;rr=1,Object.defineProperty(ct,"__esModule",{value:!0}),ct.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,r=function(c){return!c||n.test(c)||t.test(c)},l=function(c,f){return f.toUpperCase()},u=function(c,f){return"".concat(f,"-")},d=function(c,f){return f===void 0&&(f={}),r(c)?c:(c=c.toLowerCase(),f.reactCompat?c=c.replace(o,u):c=c.replace(i,u),c.replace(e,l))};return ct.camelCase=d,ct}var dt,sr;function mg(){if(sr)return dt;sr=1;var t=dt&&dt.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},e=t(pg()),n=hg();function i(o,r){var l={};return!o||typeof o!="string"||(0,e.default)(o,function(u,d){u&&d&&(l[(0,n.camelCase)(u,r)]=d)}),l}return i.default=i,dt=i,dt}var gg=mg();const yg=Fr(gg),qs=Hs("end"),jn=Hs("start");function Hs(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function vg(t){const e=jn(t),n=qs(t);if(e&&n)return{start:e,end:n}}function gt(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?lr(t.position):"start"in t||"end"in t?lr(t):"line"in t||"column"in t?Ln(t):""}function Ln(t){return ar(t&&t.line)+":"+ar(t&&t.column)}function lr(t){return Ln(t&&t.start)+"-"+Ln(t&&t.end)}function ar(t){return t&&typeof t=="number"?t:1}class ie extends Error{constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let o="",r={},l=!1;if(n&&("line"in n&&"column"in n?r={place:n}:"start"in n&&"end"in n?r={place:n}:"type"in n?r={ancestors:[n],place:n.position}:r={...n}),typeof e=="string"?o=e:!r.cause&&e&&(l=!0,o=e.message,r.cause=e),!r.ruleId&&!r.source&&typeof i=="string"){const d=i.indexOf(":");d===-1?r.ruleId=i:(r.source=i.slice(0,d),r.ruleId=i.slice(d+1))}if(!r.place&&r.ancestors&&r.ancestors){const d=r.ancestors[r.ancestors.length-1];d&&(r.place=d.position)}const u=r.place&&"start"in r.place?r.place.start:r.place;this.ancestors=r.ancestors||void 0,this.cause=r.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=u?u.line:void 0,this.name=gt(r.place)||"1:1",this.place=r.place||void 0,this.reason=this.message,this.ruleId=r.ruleId||void 0,this.source=r.source||void 0,this.stack=l&&r.cause&&typeof r.cause.stack=="string"?r.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ie.prototype.file="";ie.prototype.name="";ie.prototype.reason="";ie.prototype.message="";ie.prototype.stack="";ie.prototype.column=void 0;ie.prototype.line=void 0;ie.prototype.ancestors=void 0;ie.prototype.cause=void 0;ie.prototype.fatal=void 0;ie.prototype.place=void 0;ie.prototype.ruleId=void 0;ie.prototype.source=void 0;const ei={}.hasOwnProperty,Tg=new Map,Eg=/[A-Z]/g,_g=new Set(["table","tbody","thead","tfoot","tr"]),Cg=new Set(["td","th"]),Bs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Sg(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=Pg(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=Mg(n,e.jsx,e.jsxs)}const o={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Zn:cg,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},r=zs(o,t,void 0);return r&&typeof r!="string"?r:o.create(t,o.Fragment,{children:r||void 0},void 0)}function zs(t,e,n){if(e.type==="element")return Ig(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Ag(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return xg(t,e,n);if(e.type==="mdxjsEsm")return wg(t,e);if(e.type==="root")return kg(t,e,n);if(e.type==="text")return Rg(t,e)}function Ig(t,e,n){const i=t.schema;let o=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(o=Zn,t.schema=o),t.ancestors.push(e);const r=Js(t,e.tagName,!1),l=Ng(t,e);let u=ni(t,e);return _g.has(e.tagName)&&(u=u.filter(function(d){return typeof d=="string"?!eg(d):!0})),$s(t,l,r,e),ti(l,u),t.ancestors.pop(),t.schema=i,t.create(e,r,l,n)}function Ag(t,e){if(e.data&&e.data.estree&&t.evaluater){const i=e.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}Tt(t,e.position)}function wg(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Tt(t,e.position)}function xg(t,e,n){const i=t.schema;let o=i;e.name==="svg"&&i.space==="html"&&(o=Zn,t.schema=o),t.ancestors.push(e);const r=e.name===null?t.Fragment:Js(t,e.name,!0),l=Dg(t,e),u=ni(t,e);return $s(t,l,r,e),ti(l,u),t.ancestors.pop(),t.schema=i,t.create(e,r,l,n)}function kg(t,e,n){const i={};return ti(i,ni(t,e)),t.create(e,t.Fragment,i,n)}function Rg(t,e){return e.value}function $s(t,e,n,i){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=i)}function ti(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Mg(t,e,n){return i;function i(o,r,l,u){const c=Array.isArray(l.children)?n:e;return u?c(r,l,u):c(r,l)}}function Pg(t,e){return n;function n(i,o,r,l){const u=Array.isArray(r.children),d=jn(i);return e(o,r,l,u,{columnNumber:d?d.column-1:void 0,fileName:t,lineNumber:d?d.line:void 0},void 0)}}function Ng(t,e){const n={};let i,o;for(o in e.properties)if(o!=="children"&&ei.call(e.properties,o)){const r=Lg(t,o,e.properties[o]);if(r){const[l,u]=r;t.tableCellAlignToStyle&&l==="align"&&typeof u=="string"&&Cg.has(e.tagName)?i=u:n[l]=u}}if(i){const r=n.style||(n.style={});r[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function Dg(t,e){const n={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const r=i.data.estree.body[0];r.type;const l=r.expression;l.type;const u=l.properties[0];u.type,Object.assign(n,t.evaluater.evaluateExpression(u.argument))}else Tt(t,e.position);else{const o=i.name;let r;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const u=i.value.data.estree.body[0];u.type,r=t.evaluater.evaluateExpression(u.expression)}else Tt(t,e.position);else r=i.value===null?!0:i.value;n[o]=r}return n}function ni(t,e){const n=[];let i=-1;const o=t.passKeys?new Map:Tg;for(;++i<e.children.length;){const r=e.children[i];let l;if(t.passKeys){const d=r.type==="element"?r.tagName:r.type==="mdxJsxFlowElement"||r.type==="mdxJsxTextElement"?r.name:void 0;if(d){const c=o.get(d)||0;l=d+"-"+c,o.set(d,c+1)}}const u=zs(t,r,l);u!==void 0&&n.push(u)}return n}function Lg(t,e,n){const i=lg(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?Km(n):dg(n)),i.property==="style"){let o=typeof n=="object"?n:bg(t,String(n));return t.stylePropertyNameCase==="css"&&(o=Ug(o)),["style",o]}return[t.elementAttributeNameCase==="react"&&i.space?og[i.property]||i.property:i.attribute,n]}}function bg(t,e){try{return yg(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const i=n,o=new ie("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=t.filePath||void 0,o.url=Bs+"#cannot-parse-style-attribute",o}}function Js(t,e,n){let i;if(!n)i={type:"Literal",value:e};else if(e.includes(".")){const o=e.split(".");let r=-1,l;for(;++r<o.length;){const u=jo(o[r])?{type:"Identifier",name:o[r]}:{type:"Literal",value:o[r]};l=l?{type:"MemberExpression",object:l,property:u,computed:!!(r&&u.type==="Literal"),optional:!1}:u}i=l}else i=jo(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const o=i.value;return ei.call(t.components,o)?t.components[o]:o}if(t.evaluater)return t.evaluater.evaluateExpression(i);Tt(t)}function Tt(t,e){const n=new ie("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=Bs+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Ug(t){const e={};let n;for(n in t)ei.call(t,n)&&(e[Fg(n)]=t[n]);return e}function Fg(t){let e=t.replace(Eg,Vg);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Vg(t){return"-"+t.toLowerCase()}const sn={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Gg={};function qg(t,e){const n=Gg,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Os(t,i,o)}function Os(t,e,n){if(Hg(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return ur(t.children,e,n)}return Array.isArray(t)?ur(t,e,n):""}function ur(t,e,n){const i=[];let o=-1;for(;++o<t.length;)i[o]=Os(t[o],e,n);return i.join("")}function Hg(t){return!!(t&&typeof t=="object")}const cr=document.createElement("i");function ii(t){const e="&"+t+";";cr.innerHTML=e;const n=cr.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Ie(t,e,n,i){const o=t.length;let r=0,l;if(e<0?e=-e>o?0:o+e:e=e>o?o:e,n=n>0?n:0,i.length<1e4)l=Array.from(i),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);r<i.length;)l=i.slice(r,r+1e4),l.unshift(e,0),t.splice(...l),r+=1e4,e+=1e4}function fe(t,e){return t.length>0?(Ie(t,t.length,0,e),t):e}const dr={}.hasOwnProperty;function Bg(t){const e={};let n=-1;for(;++n<t.length;)zg(e,t[n]);return e}function zg(t,e){let n;for(n in e){const o=(dr.call(t,n)?t[n]:void 0)||(t[n]={}),r=e[n];let l;if(r)for(l in r){dr.call(o,l)||(o[l]=[]);const u=r[l];$g(o[l],Array.isArray(u)?u:u?[u]:[])}}}function $g(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);Ie(t,0,0,i)}function Ws(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function je(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Se=Ue(/[A-Za-z]/),de=Ue(/[\dA-Za-z]/),Jg=Ue(/[#-'*+\--9=?A-Z^-~]/);function bn(t){return t!==null&&(t<32||t===127)}const Un=Ue(/\d/),Og=Ue(/[\dA-Fa-f]/),Wg=Ue(/[!-/:-@[-`{-~]/);function H(t){return t!==null&&t<-2}function le(t){return t!==null&&(t<0||t===32)}function Y(t){return t===-2||t===-1||t===32}const Yg=Ue(new RegExp("\\p{P}|\\p{S}","u")),Kg=Ue(/\s/);function Ue(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function ot(t){const e=[];let n=-1,i=0,o=0;for(;++n<t.length;){const r=t.charCodeAt(n);let l="";if(r===37&&de(t.charCodeAt(n+1))&&de(t.charCodeAt(n+2)))o=2;else if(r<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(r))||(l=String.fromCharCode(r));else if(r>55295&&r<57344){const u=t.charCodeAt(n+1);r<56320&&u>56319&&u<57344?(l=String.fromCharCode(r,u),o=1):l=""}else l=String.fromCharCode(r);l&&(e.push(t.slice(i,n),encodeURIComponent(l)),i=n+o+1,l=""),o&&(n+=o,o=0)}return e.join("")+t.slice(i)}function Q(t,e,n,i){const o=i?i-1:Number.POSITIVE_INFINITY;let r=0;return l;function l(d){return Y(d)?(t.enter(n),u(d)):e(d)}function u(d){return Y(d)&&r++<o?(t.consume(d),u):(t.exit(n),e(d))}}const Xg={tokenize:Qg};function Qg(t){const e=t.attempt(this.parser.constructs.contentInitial,i,o);let n;return e;function i(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),Q(t,e,"linePrefix")}function o(u){return t.enter("paragraph"),r(u)}function r(u){const d=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,l(u)}function l(u){if(u===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(u);return}return H(u)?(t.consume(u),t.exit("chunkText"),r):(t.consume(u),l)}}const Zg={tokenize:jg},fr={tokenize:ey};function jg(t){const e=this,n=[];let i=0,o,r,l;return u;function u(S){if(i<n.length){const x=n[i];return e.containerState=x[1],t.attempt(x[0].continuation,d,c)(S)}return c(S)}function d(S){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,o&&A();const x=e.events.length;let L=x,C;for(;L--;)if(e.events[L][0]==="exit"&&e.events[L][1].type==="chunkFlow"){C=e.events[L][1].end;break}E(i);let N=x;for(;N<e.events.length;)e.events[N][1].end={...C},N++;return Ie(e.events,L+1,0,e.events.slice(x)),e.events.length=N,c(S)}return u(S)}function c(S){if(i===n.length){if(!o)return h(S);if(o.currentConstruct&&o.currentConstruct.concrete)return g(S);e.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(fr,f,p)(S)}function f(S){return o&&A(),E(i),h(S)}function p(S){return e.parser.lazy[e.now().line]=i!==n.length,l=e.now().offset,g(S)}function h(S){return e.containerState={},t.attempt(fr,m,g)(S)}function m(S){return i++,n.push([e.currentConstruct,e.containerState]),h(S)}function g(S){if(S===null){o&&A(),E(0),t.consume(S);return}return o=o||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:r}),_(S)}function _(S){if(S===null){T(t.exit("chunkFlow"),!0),E(0),t.consume(S);return}return H(S)?(t.consume(S),T(t.exit("chunkFlow")),i=0,e.interrupt=void 0,u):(t.consume(S),_)}function T(S,x){const L=e.sliceStream(S);if(x&&L.push(null),S.previous=r,r&&(r.next=S),r=S,o.defineSkip(S.start),o.write(L),e.parser.lazy[S.start.line]){let C=o.events.length;for(;C--;)if(o.events[C][1].start.offset<l&&(!o.events[C][1].end||o.events[C][1].end.offset>l))return;const N=e.events.length;let q=N,k,V;for(;q--;)if(e.events[q][0]==="exit"&&e.events[q][1].type==="chunkFlow"){if(k){V=e.events[q][1].end;break}k=!0}for(E(i),C=N;C<e.events.length;)e.events[C][1].end={...V},C++;Ie(e.events,q+1,0,e.events.slice(N)),e.events.length=C}}function E(S){let x=n.length;for(;x-- >S;){const L=n[x];e.containerState=L[1],L[0].exit.call(e,t)}n.length=S}function A(){o.write([null]),r=void 0,o=void 0,e.containerState._closeFlow=void 0}}function ey(t,e,n){return Q(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function pr(t){if(t===null||le(t)||Kg(t))return 1;if(Yg(t))return 2}function oi(t,e,n){const i=[];let o=-1;for(;++o<t.length;){const r=t[o].resolveAll;r&&!i.includes(r)&&(e=r(e,n),i.push(r))}return e}const Fn={name:"attention",resolveAll:ty,tokenize:ny};function ty(t,e){let n=-1,i,o,r,l,u,d,c,f;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;d=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const p={...t[i][1].end},h={...t[n][1].start};hr(p,-d),hr(h,d),l={type:d>1?"strongSequence":"emphasisSequence",start:p,end:{...t[i][1].end}},u={type:d>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:h},r={type:d>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},o={type:d>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},t[i][1].end={...l.start},t[n][1].start={...u.end},c=[],t[i][1].end.offset-t[i][1].start.offset&&(c=fe(c,[["enter",t[i][1],e],["exit",t[i][1],e]])),c=fe(c,[["enter",o,e],["enter",l,e],["exit",l,e],["enter",r,e]]),c=fe(c,oi(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),c=fe(c,[["exit",r,e],["enter",u,e],["exit",u,e],["exit",o,e]]),t[n][1].end.offset-t[n][1].start.offset?(f=2,c=fe(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):f=0,Ie(t,i-1,n-i+3,c),n=i+c.length-f-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function ny(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,o=pr(i);let r;return l;function l(d){return r=d,t.enter("attentionSequence"),u(d)}function u(d){if(d===r)return t.consume(d),u;const c=t.exit("attentionSequence"),f=pr(d),p=!f||f===2&&o||n.includes(d),h=!o||o===2&&f||n.includes(i);return c._open=!!(r===42?p:p&&(o||!h)),c._close=!!(r===42?h:h&&(f||!p)),e(d)}}function hr(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const iy={name:"autolink",tokenize:oy};function oy(t,e,n){let i=0;return o;function o(m){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),r}function r(m){return Se(m)?(t.consume(m),l):m===64?n(m):c(m)}function l(m){return m===43||m===45||m===46||de(m)?(i=1,u(m)):c(m)}function u(m){return m===58?(t.consume(m),i=0,d):(m===43||m===45||m===46||de(m))&&i++<32?(t.consume(m),u):(i=0,c(m))}function d(m){return m===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):m===null||m===32||m===60||bn(m)?n(m):(t.consume(m),d)}function c(m){return m===64?(t.consume(m),f):Jg(m)?(t.consume(m),c):n(m)}function f(m){return de(m)?p(m):n(m)}function p(m){return m===46?(t.consume(m),i=0,f):m===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):h(m)}function h(m){if((m===45||de(m))&&i++<63){const g=m===45?h:p;return t.consume(m),g}return n(m)}}const Kt={partial:!0,tokenize:ry};function ry(t,e,n){return i;function i(r){return Y(r)?Q(t,o,"linePrefix")(r):o(r)}function o(r){return r===null||H(r)?e(r):n(r)}}const Ys={continuation:{tokenize:ly},exit:ay,name:"blockQuote",tokenize:sy};function sy(t,e,n){const i=this;return o;function o(l){if(l===62){const u=i.containerState;return u.open||(t.enter("blockQuote",{_container:!0}),u.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),r}return n(l)}function r(l){return Y(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(l))}}function ly(t,e,n){const i=this;return o;function o(l){return Y(l)?Q(t,r,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):r(l)}function r(l){return t.attempt(Ys,e,n)(l)}}function ay(t){t.exit("blockQuote")}const Ks={name:"characterEscape",tokenize:uy};function uy(t,e,n){return i;function i(r){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(r),t.exit("escapeMarker"),o}function o(r){return Wg(r)?(t.enter("characterEscapeValue"),t.consume(r),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(r)}}const Xs={name:"characterReference",tokenize:cy};function cy(t,e,n){const i=this;let o=0,r,l;return u;function u(p){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),d}function d(p){return p===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(p),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),r=31,l=de,f(p))}function c(p){return p===88||p===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(p),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),r=6,l=Og,f):(t.enter("characterReferenceValue"),r=7,l=Un,f(p))}function f(p){if(p===59&&o){const h=t.exit("characterReferenceValue");return l===de&&!ii(i.sliceSerialize(h))?n(p):(t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return l(p)&&o++<r?(t.consume(p),f):n(p)}}const mr={partial:!0,tokenize:fy},gr={concrete:!0,name:"codeFenced",tokenize:dy};function dy(t,e,n){const i=this,o={partial:!0,tokenize:L};let r=0,l=0,u;return d;function d(C){return c(C)}function c(C){const N=i.events[i.events.length-1];return r=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,u=C,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),f(C)}function f(C){return C===u?(l++,t.consume(C),f):l<3?n(C):(t.exit("codeFencedFenceSequence"),Y(C)?Q(t,p,"whitespace")(C):p(C))}function p(C){return C===null||H(C)?(t.exit("codeFencedFence"),i.interrupt?e(C):t.check(mr,_,x)(C)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(C))}function h(C){return C===null||H(C)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),p(C)):Y(C)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Q(t,m,"whitespace")(C)):C===96&&C===u?n(C):(t.consume(C),h)}function m(C){return C===null||H(C)?p(C):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),g(C))}function g(C){return C===null||H(C)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),p(C)):C===96&&C===u?n(C):(t.consume(C),g)}function _(C){return t.attempt(o,x,T)(C)}function T(C){return t.enter("lineEnding"),t.consume(C),t.exit("lineEnding"),E}function E(C){return r>0&&Y(C)?Q(t,A,"linePrefix",r+1)(C):A(C)}function A(C){return C===null||H(C)?t.check(mr,_,x)(C):(t.enter("codeFlowValue"),S(C))}function S(C){return C===null||H(C)?(t.exit("codeFlowValue"),A(C)):(t.consume(C),S)}function x(C){return t.exit("codeFenced"),e(C)}function L(C,N,q){let k=0;return V;function V(M){return C.enter("lineEnding"),C.consume(M),C.exit("lineEnding"),D}function D(M){return C.enter("codeFencedFence"),Y(M)?Q(C,b,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):b(M)}function b(M){return M===u?(C.enter("codeFencedFenceSequence"),G(M)):q(M)}function G(M){return M===u?(k++,C.consume(M),G):k>=l?(C.exit("codeFencedFenceSequence"),Y(M)?Q(C,F,"whitespace")(M):F(M)):q(M)}function F(M){return M===null||H(M)?(C.exit("codeFencedFence"),N(M)):q(M)}}}function fy(t,e,n){const i=this;return o;function o(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),r)}function r(l){return i.parser.lazy[i.now().line]?n(l):e(l)}}const ln={name:"codeIndented",tokenize:hy},py={partial:!0,tokenize:my};function hy(t,e,n){const i=this;return o;function o(c){return t.enter("codeIndented"),Q(t,r,"linePrefix",5)(c)}function r(c){const f=i.events[i.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?l(c):n(c)}function l(c){return c===null?d(c):H(c)?t.attempt(py,l,d)(c):(t.enter("codeFlowValue"),u(c))}function u(c){return c===null||H(c)?(t.exit("codeFlowValue"),l(c)):(t.consume(c),u)}function d(c){return t.exit("codeIndented"),e(c)}}function my(t,e,n){const i=this;return o;function o(l){return i.parser.lazy[i.now().line]?n(l):H(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o):Q(t,r,"linePrefix",5)(l)}function r(l){const u=i.events[i.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):H(l)?o(l):n(l)}}const gy={name:"codeText",previous:vy,resolve:yy,tokenize:Ty};function yy(t){let e=t.length-4,n=3,i,o;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)o===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(o=i):(i===e||t[i][1].type==="lineEnding")&&(t[o][1].type="codeTextData",i!==o+2&&(t[o][1].end=t[i-1][1].end,t.splice(o+2,i-o-2),e-=i-o-2,i=o+2),o=void 0);return t}function vy(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Ty(t,e,n){let i=0,o,r;return l;function l(p){return t.enter("codeText"),t.enter("codeTextSequence"),u(p)}function u(p){return p===96?(t.consume(p),i++,u):(t.exit("codeTextSequence"),d(p))}function d(p){return p===null?n(p):p===32?(t.enter("space"),t.consume(p),t.exit("space"),d):p===96?(r=t.enter("codeTextSequence"),o=0,f(p)):H(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),d):(t.enter("codeTextData"),c(p))}function c(p){return p===null||p===32||p===96||H(p)?(t.exit("codeTextData"),d(p)):(t.consume(p),c)}function f(p){return p===96?(t.consume(p),o++,f):o===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(p)):(r.type="codeTextData",c(p))}}class Ey{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){const o=n||0;this.setCursor(Math.trunc(e));const r=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return i&&ft(this.left,i),r.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),ft(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),ft(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);ft(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);ft(this.left,n.reverse())}}}function ft(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function Qs(t){const e={};let n=-1,i,o,r,l,u,d,c;const f=new Ey(t);for(;++n<f.length;){for(;n in e;)n=e[n];if(i=f.get(n),n&&i[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(d=i[1]._tokenizer.events,r=0,r<d.length&&d[r][1].type==="lineEndingBlank"&&(r+=2),r<d.length&&d[r][1].type==="content"))for(;++r<d.length&&d[r][1].type!=="content";)d[r][1].type==="chunkText"&&(d[r][1]._isInFirstContentOfListItem=!0,r++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,_y(f,n)),n=e[n],c=!0);else if(i[1]._container){for(r=n,o=void 0;r--;)if(l=f.get(r),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(o&&(f.get(o)[1].type="lineEndingBlank"),l[1].type="lineEnding",o=r);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;o&&(i[1].end={...f.get(o)[1].start},u=f.slice(o,n),u.unshift(i),f.splice(o,n-o+1,u))}}return Ie(t,0,Number.POSITIVE_INFINITY,f.slice(0)),!c}function _y(t,e){const n=t.get(e)[1],i=t.get(e)[2];let o=e-1;const r=[];let l=n._tokenizer;l||(l=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const u=l.events,d=[],c={};let f,p,h=-1,m=n,g=0,_=0;const T=[_];for(;m;){for(;t.get(++o)[1]!==m;);r.push(o),m._tokenizer||(f=i.sliceStream(m),m.next||f.push(null),p&&l.defineSkip(m.start),m._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(f),m._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),p=m,m=m.next}for(m=n;++h<u.length;)u[h][0]==="exit"&&u[h-1][0]==="enter"&&u[h][1].type===u[h-1][1].type&&u[h][1].start.line!==u[h][1].end.line&&(_=h+1,T.push(_),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(l.events=[],m?(m._tokenizer=void 0,m.previous=void 0):T.pop(),h=T.length;h--;){const E=u.slice(T[h],T[h+1]),A=r.pop();d.push([A,A+E.length-1]),t.splice(A,2,E)}for(d.reverse(),h=-1;++h<d.length;)c[g+d[h][0]]=g+d[h][1],g+=d[h][1]-d[h][0]-1;return c}const Cy={resolve:Iy,tokenize:Ay},Sy={partial:!0,tokenize:wy};function Iy(t){return Qs(t),t}function Ay(t,e){let n;return i;function i(u){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),o(u)}function o(u){return u===null?r(u):H(u)?t.check(Sy,l,r)(u):(t.consume(u),o)}function r(u){return t.exit("chunkContent"),t.exit("content"),e(u)}function l(u){return t.consume(u),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function wy(t,e,n){const i=this;return o;function o(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),Q(t,r,"linePrefix")}function r(l){if(l===null||H(l))return n(l);const u=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):t.interrupt(i.parser.constructs.flow,n,e)(l)}}function Zs(t,e,n,i,o,r,l,u,d){const c=d||Number.POSITIVE_INFINITY;let f=0;return p;function p(E){return E===60?(t.enter(i),t.enter(o),t.enter(r),t.consume(E),t.exit(r),h):E===null||E===32||E===41||bn(E)?n(E):(t.enter(i),t.enter(l),t.enter(u),t.enter("chunkString",{contentType:"string"}),_(E))}function h(E){return E===62?(t.enter(r),t.consume(E),t.exit(r),t.exit(o),t.exit(i),e):(t.enter(u),t.enter("chunkString",{contentType:"string"}),m(E))}function m(E){return E===62?(t.exit("chunkString"),t.exit(u),h(E)):E===null||E===60||H(E)?n(E):(t.consume(E),E===92?g:m)}function g(E){return E===60||E===62||E===92?(t.consume(E),m):m(E)}function _(E){return!f&&(E===null||E===41||le(E))?(t.exit("chunkString"),t.exit(u),t.exit(l),t.exit(i),e(E)):f<c&&E===40?(t.consume(E),f++,_):E===41?(t.consume(E),f--,_):E===null||E===32||E===40||bn(E)?n(E):(t.consume(E),E===92?T:_)}function T(E){return E===40||E===41||E===92?(t.consume(E),_):_(E)}}function js(t,e,n,i,o,r){const l=this;let u=0,d;return c;function c(m){return t.enter(i),t.enter(o),t.consume(m),t.exit(o),t.enter(r),f}function f(m){return u>999||m===null||m===91||m===93&&!d||m===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(m):m===93?(t.exit(r),t.enter(o),t.consume(m),t.exit(o),t.exit(i),e):H(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),f):(t.enter("chunkString",{contentType:"string"}),p(m))}function p(m){return m===null||m===91||m===93||H(m)||u++>999?(t.exit("chunkString"),f(m)):(t.consume(m),d||(d=!Y(m)),m===92?h:p)}function h(m){return m===91||m===92||m===93?(t.consume(m),u++,p):p(m)}}function el(t,e,n,i,o,r){let l;return u;function u(h){return h===34||h===39||h===40?(t.enter(i),t.enter(o),t.consume(h),t.exit(o),l=h===40?41:h,d):n(h)}function d(h){return h===l?(t.enter(o),t.consume(h),t.exit(o),t.exit(i),e):(t.enter(r),c(h))}function c(h){return h===l?(t.exit(r),d(l)):h===null?n(h):H(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),Q(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===l||h===null||H(h)?(t.exit("chunkString"),c(h)):(t.consume(h),h===92?p:f)}function p(h){return h===l||h===92?(t.consume(h),f):f(h)}}function yt(t,e){let n;return i;function i(o){return H(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),n=!0,i):Y(o)?Q(t,i,n?"linePrefix":"lineSuffix")(o):e(o)}}const xy={name:"definition",tokenize:Ry},ky={partial:!0,tokenize:My};function Ry(t,e,n){const i=this;let o;return r;function r(m){return t.enter("definition"),l(m)}function l(m){return js.call(i,t,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function u(m){return o=je(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),d):n(m)}function d(m){return le(m)?yt(t,c)(m):c(m)}function c(m){return Zs(t,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function f(m){return t.attempt(ky,p,p)(m)}function p(m){return Y(m)?Q(t,h,"whitespace")(m):h(m)}function h(m){return m===null||H(m)?(t.exit("definition"),i.parser.defined.push(o),e(m)):n(m)}}function My(t,e,n){return i;function i(u){return le(u)?yt(t,o)(u):n(u)}function o(u){return el(t,r,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function r(u){return Y(u)?Q(t,l,"whitespace")(u):l(u)}function l(u){return u===null||H(u)?e(u):n(u)}}const Py={name:"hardBreakEscape",tokenize:Ny};function Ny(t,e,n){return i;function i(r){return t.enter("hardBreakEscape"),t.consume(r),o}function o(r){return H(r)?(t.exit("hardBreakEscape"),e(r)):n(r)}}const Dy={name:"headingAtx",resolve:Ly,tokenize:by};function Ly(t,e){let n=t.length-2,i=3,o,r;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(o={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},r={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},Ie(t,i,n-i+1,[["enter",o,e],["enter",r,e],["exit",r,e],["exit",o,e]])),t}function by(t,e,n){let i=0;return o;function o(f){return t.enter("atxHeading"),r(f)}function r(f){return t.enter("atxHeadingSequence"),l(f)}function l(f){return f===35&&i++<6?(t.consume(f),l):f===null||le(f)?(t.exit("atxHeadingSequence"),u(f)):n(f)}function u(f){return f===35?(t.enter("atxHeadingSequence"),d(f)):f===null||H(f)?(t.exit("atxHeading"),e(f)):Y(f)?Q(t,u,"whitespace")(f):(t.enter("atxHeadingText"),c(f))}function d(f){return f===35?(t.consume(f),d):(t.exit("atxHeadingSequence"),u(f))}function c(f){return f===null||f===35||le(f)?(t.exit("atxHeadingText"),u(f)):(t.consume(f),c)}}const Uy=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],yr=["pre","script","style","textarea"],Fy={concrete:!0,name:"htmlFlow",resolveTo:qy,tokenize:Hy},Vy={partial:!0,tokenize:zy},Gy={partial:!0,tokenize:By};function qy(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Hy(t,e,n){const i=this;let o,r,l,u,d;return c;function c(v){return f(v)}function f(v){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(v),p}function p(v){return v===33?(t.consume(v),h):v===47?(t.consume(v),r=!0,_):v===63?(t.consume(v),o=3,i.interrupt?e:y):Se(v)?(t.consume(v),l=String.fromCharCode(v),T):n(v)}function h(v){return v===45?(t.consume(v),o=2,m):v===91?(t.consume(v),o=5,u=0,g):Se(v)?(t.consume(v),o=4,i.interrupt?e:y):n(v)}function m(v){return v===45?(t.consume(v),i.interrupt?e:y):n(v)}function g(v){const ye="CDATA[";return v===ye.charCodeAt(u++)?(t.consume(v),u===ye.length?i.interrupt?e:b:g):n(v)}function _(v){return Se(v)?(t.consume(v),l=String.fromCharCode(v),T):n(v)}function T(v){if(v===null||v===47||v===62||le(v)){const ye=v===47,Fe=l.toLowerCase();return!ye&&!r&&yr.includes(Fe)?(o=1,i.interrupt?e(v):b(v)):Uy.includes(l.toLowerCase())?(o=6,ye?(t.consume(v),E):i.interrupt?e(v):b(v)):(o=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(v):r?A(v):S(v))}return v===45||de(v)?(t.consume(v),l+=String.fromCharCode(v),T):n(v)}function E(v){return v===62?(t.consume(v),i.interrupt?e:b):n(v)}function A(v){return Y(v)?(t.consume(v),A):V(v)}function S(v){return v===47?(t.consume(v),V):v===58||v===95||Se(v)?(t.consume(v),x):Y(v)?(t.consume(v),S):V(v)}function x(v){return v===45||v===46||v===58||v===95||de(v)?(t.consume(v),x):L(v)}function L(v){return v===61?(t.consume(v),C):Y(v)?(t.consume(v),L):S(v)}function C(v){return v===null||v===60||v===61||v===62||v===96?n(v):v===34||v===39?(t.consume(v),d=v,N):Y(v)?(t.consume(v),C):q(v)}function N(v){return v===d?(t.consume(v),d=null,k):v===null||H(v)?n(v):(t.consume(v),N)}function q(v){return v===null||v===34||v===39||v===47||v===60||v===61||v===62||v===96||le(v)?L(v):(t.consume(v),q)}function k(v){return v===47||v===62||Y(v)?S(v):n(v)}function V(v){return v===62?(t.consume(v),D):n(v)}function D(v){return v===null||H(v)?b(v):Y(v)?(t.consume(v),D):n(v)}function b(v){return v===45&&o===2?(t.consume(v),J):v===60&&o===1?(t.consume(v),Z):v===62&&o===4?(t.consume(v),ge):v===63&&o===3?(t.consume(v),y):v===93&&o===5?(t.consume(v),Ae):H(v)&&(o===6||o===7)?(t.exit("htmlFlowData"),t.check(Vy,we,G)(v)):v===null||H(v)?(t.exit("htmlFlowData"),G(v)):(t.consume(v),b)}function G(v){return t.check(Gy,F,we)(v)}function F(v){return t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),M}function M(v){return v===null||H(v)?G(v):(t.enter("htmlFlowData"),b(v))}function J(v){return v===45?(t.consume(v),y):b(v)}function Z(v){return v===47?(t.consume(v),l="",me):b(v)}function me(v){if(v===62){const ye=l.toLowerCase();return yr.includes(ye)?(t.consume(v),ge):b(v)}return Se(v)&&l.length<8?(t.consume(v),l+=String.fromCharCode(v),me):b(v)}function Ae(v){return v===93?(t.consume(v),y):b(v)}function y(v){return v===62?(t.consume(v),ge):v===45&&o===2?(t.consume(v),y):b(v)}function ge(v){return v===null||H(v)?(t.exit("htmlFlowData"),we(v)):(t.consume(v),ge)}function we(v){return t.exit("htmlFlow"),e(v)}}function By(t,e,n){const i=this;return o;function o(l){return H(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),r):n(l)}function r(l){return i.parser.lazy[i.now().line]?n(l):e(l)}}function zy(t,e,n){return i;function i(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),t.attempt(Kt,e,n)}}const $y={name:"htmlText",tokenize:Jy};function Jy(t,e,n){const i=this;let o,r,l;return u;function u(y){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(y),d}function d(y){return y===33?(t.consume(y),c):y===47?(t.consume(y),L):y===63?(t.consume(y),S):Se(y)?(t.consume(y),q):n(y)}function c(y){return y===45?(t.consume(y),f):y===91?(t.consume(y),r=0,g):Se(y)?(t.consume(y),A):n(y)}function f(y){return y===45?(t.consume(y),m):n(y)}function p(y){return y===null?n(y):y===45?(t.consume(y),h):H(y)?(l=p,Z(y)):(t.consume(y),p)}function h(y){return y===45?(t.consume(y),m):p(y)}function m(y){return y===62?J(y):y===45?h(y):p(y)}function g(y){const ge="CDATA[";return y===ge.charCodeAt(r++)?(t.consume(y),r===ge.length?_:g):n(y)}function _(y){return y===null?n(y):y===93?(t.consume(y),T):H(y)?(l=_,Z(y)):(t.consume(y),_)}function T(y){return y===93?(t.consume(y),E):_(y)}function E(y){return y===62?J(y):y===93?(t.consume(y),E):_(y)}function A(y){return y===null||y===62?J(y):H(y)?(l=A,Z(y)):(t.consume(y),A)}function S(y){return y===null?n(y):y===63?(t.consume(y),x):H(y)?(l=S,Z(y)):(t.consume(y),S)}function x(y){return y===62?J(y):S(y)}function L(y){return Se(y)?(t.consume(y),C):n(y)}function C(y){return y===45||de(y)?(t.consume(y),C):N(y)}function N(y){return H(y)?(l=N,Z(y)):Y(y)?(t.consume(y),N):J(y)}function q(y){return y===45||de(y)?(t.consume(y),q):y===47||y===62||le(y)?k(y):n(y)}function k(y){return y===47?(t.consume(y),J):y===58||y===95||Se(y)?(t.consume(y),V):H(y)?(l=k,Z(y)):Y(y)?(t.consume(y),k):J(y)}function V(y){return y===45||y===46||y===58||y===95||de(y)?(t.consume(y),V):D(y)}function D(y){return y===61?(t.consume(y),b):H(y)?(l=D,Z(y)):Y(y)?(t.consume(y),D):k(y)}function b(y){return y===null||y===60||y===61||y===62||y===96?n(y):y===34||y===39?(t.consume(y),o=y,G):H(y)?(l=b,Z(y)):Y(y)?(t.consume(y),b):(t.consume(y),F)}function G(y){return y===o?(t.consume(y),o=void 0,M):y===null?n(y):H(y)?(l=G,Z(y)):(t.consume(y),G)}function F(y){return y===null||y===34||y===39||y===60||y===61||y===96?n(y):y===47||y===62||le(y)?k(y):(t.consume(y),F)}function M(y){return y===47||y===62||le(y)?k(y):n(y)}function J(y){return y===62?(t.consume(y),t.exit("htmlTextData"),t.exit("htmlText"),e):n(y)}function Z(y){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),me}function me(y){return Y(y)?Q(t,Ae,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(y):Ae(y)}function Ae(y){return t.enter("htmlTextData"),l(y)}}const ri={name:"labelEnd",resolveAll:Ky,resolveTo:Xy,tokenize:Qy},Oy={tokenize:Zy},Wy={tokenize:jy},Yy={tokenize:e0};function Ky(t){let e=-1;const n=[];for(;++e<t.length;){const i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const o=i.type==="labelImage"?4:2;i.type="data",e+=o}}return t.length!==n.length&&Ie(t,0,t.length,n),t}function Xy(t,e){let n=t.length,i=0,o,r,l,u;for(;n--;)if(o=t[n][1],r){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;t[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(r=n,o.type!=="labelLink")){i=2;break}}else o.type==="labelEnd"&&(l=n);const d={type:t[r][1].type==="labelLink"?"link":"image",start:{...t[r][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[r][1].start},end:{...t[l][1].end}},f={type:"labelText",start:{...t[r+i+2][1].end},end:{...t[l-2][1].start}};return u=[["enter",d,e],["enter",c,e]],u=fe(u,t.slice(r+1,r+i+3)),u=fe(u,[["enter",f,e]]),u=fe(u,oi(e.parser.constructs.insideSpan.null,t.slice(r+i+4,l-3),e)),u=fe(u,[["exit",f,e],t[l-2],t[l-1],["exit",c,e]]),u=fe(u,t.slice(l+1)),u=fe(u,[["exit",d,e]]),Ie(t,r,t.length,u),t}function Qy(t,e,n){const i=this;let o=i.events.length,r,l;for(;o--;)if((i.events[o][1].type==="labelImage"||i.events[o][1].type==="labelLink")&&!i.events[o][1]._balanced){r=i.events[o][1];break}return u;function u(h){return r?r._inactive?p(h):(l=i.parser.defined.includes(je(i.sliceSerialize({start:r.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),d):n(h)}function d(h){return h===40?t.attempt(Oy,f,l?f:p)(h):h===91?t.attempt(Wy,f,l?c:p)(h):l?f(h):p(h)}function c(h){return t.attempt(Yy,f,p)(h)}function f(h){return e(h)}function p(h){return r._balanced=!0,n(h)}}function Zy(t,e,n){return i;function i(p){return t.enter("resource"),t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),o}function o(p){return le(p)?yt(t,r)(p):r(p)}function r(p){return p===41?f(p):Zs(t,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function l(p){return le(p)?yt(t,d)(p):f(p)}function u(p){return n(p)}function d(p){return p===34||p===39||p===40?el(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):f(p)}function c(p){return le(p)?yt(t,f)(p):f(p)}function f(p){return p===41?(t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),t.exit("resource"),e):n(p)}}function jy(t,e,n){const i=this;return o;function o(u){return js.call(i,t,r,l,"reference","referenceMarker","referenceString")(u)}function r(u){return i.parser.defined.includes(je(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(u):n(u)}function l(u){return n(u)}}function e0(t,e,n){return i;function i(r){return t.enter("reference"),t.enter("referenceMarker"),t.consume(r),t.exit("referenceMarker"),o}function o(r){return r===93?(t.enter("referenceMarker"),t.consume(r),t.exit("referenceMarker"),t.exit("reference"),e):n(r)}}const t0={name:"labelStartImage",resolveAll:ri.resolveAll,tokenize:n0};function n0(t,e,n){const i=this;return o;function o(u){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(u),t.exit("labelImageMarker"),r}function r(u){return u===91?(t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(u):e(u)}}const i0={name:"labelStartLink",resolveAll:ri.resolveAll,tokenize:o0};function o0(t,e,n){const i=this;return o;function o(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),r}function r(l){return l===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(l):e(l)}}const an={name:"lineEnding",tokenize:r0};function r0(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),Q(t,e,"linePrefix")}}const Dt={name:"thematicBreak",tokenize:s0};function s0(t,e,n){let i=0,o;return r;function r(c){return t.enter("thematicBreak"),l(c)}function l(c){return o=c,u(c)}function u(c){return c===o?(t.enter("thematicBreakSequence"),d(c)):i>=3&&(c===null||H(c))?(t.exit("thematicBreak"),e(c)):n(c)}function d(c){return c===o?(t.consume(c),i++,d):(t.exit("thematicBreakSequence"),Y(c)?Q(t,u,"whitespace")(c):u(c))}}const se={continuation:{tokenize:c0},exit:f0,name:"list",tokenize:u0},l0={partial:!0,tokenize:p0},a0={partial:!0,tokenize:d0};function u0(t,e,n){const i=this,o=i.events[i.events.length-1];let r=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,l=0;return u;function u(m){const g=i.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!i.containerState.marker||m===i.containerState.marker:Un(m)){if(i.containerState.type||(i.containerState.type=g,t.enter(g,{_container:!0})),g==="listUnordered")return t.enter("listItemPrefix"),m===42||m===45?t.check(Dt,n,c)(m):c(m);if(!i.interrupt||m===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),d(m)}return n(m)}function d(m){return Un(m)&&++l<10?(t.consume(m),d):(!i.interrupt||l<2)&&(i.containerState.marker?m===i.containerState.marker:m===41||m===46)?(t.exit("listItemValue"),c(m)):n(m)}function c(m){return t.enter("listItemMarker"),t.consume(m),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||m,t.check(Kt,i.interrupt?n:f,t.attempt(l0,h,p))}function f(m){return i.containerState.initialBlankLine=!0,r++,h(m)}function p(m){return Y(m)?(t.enter("listItemPrefixWhitespace"),t.consume(m),t.exit("listItemPrefixWhitespace"),h):n(m)}function h(m){return i.containerState.size=r+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(m)}}function c0(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check(Kt,o,r);function o(u){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Q(t,e,"listItemIndent",i.containerState.size+1)(u)}function r(u){return i.containerState.furtherBlankLines||!Y(u)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,l(u)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(a0,e,l)(u))}function l(u){return i.containerState._closeFlow=!0,i.interrupt=void 0,Q(t,t.attempt(se,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function d0(t,e,n){const i=this;return Q(t,o,"listItemIndent",i.containerState.size+1);function o(r){const l=i.events[i.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===i.containerState.size?e(r):n(r)}}function f0(t){t.exit(this.containerState.type)}function p0(t,e,n){const i=this;return Q(t,o,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(r){const l=i.events[i.events.length-1];return!Y(r)&&l&&l[1].type==="listItemPrefixWhitespace"?e(r):n(r)}}const vr={name:"setextUnderline",resolveTo:h0,tokenize:m0};function h0(t,e){let n=t.length,i,o,r;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(o=n)}else t[n][1].type==="content"&&t.splice(n,1),!r&&t[n][1].type==="definition"&&(r=n);const l={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[o][1].type="setextHeadingText",r?(t.splice(o,0,["enter",l,e]),t.splice(r+1,0,["exit",t[i][1],e]),t[i][1].end={...t[r][1].end}):t[i][1]=l,t.push(["exit",l,e]),t}function m0(t,e,n){const i=this;let o;return r;function r(c){let f=i.events.length,p;for(;f--;)if(i.events[f][1].type!=="lineEnding"&&i.events[f][1].type!=="linePrefix"&&i.events[f][1].type!=="content"){p=i.events[f][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||p)?(t.enter("setextHeadingLine"),o=c,l(c)):n(c)}function l(c){return t.enter("setextHeadingLineSequence"),u(c)}function u(c){return c===o?(t.consume(c),u):(t.exit("setextHeadingLineSequence"),Y(c)?Q(t,d,"lineSuffix")(c):d(c))}function d(c){return c===null||H(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const g0={tokenize:y0};function y0(t){const e=this,n=t.attempt(Kt,i,t.attempt(this.parser.constructs.flowInitial,o,Q(t,t.attempt(this.parser.constructs.flow,o,t.attempt(Cy,o)),"linePrefix")));return n;function i(r){if(r===null){t.consume(r);return}return t.enter("lineEndingBlank"),t.consume(r),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function o(r){if(r===null){t.consume(r);return}return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const v0={resolveAll:nl()},T0=tl("string"),E0=tl("text");function tl(t){return{resolveAll:nl(t==="text"?_0:void 0),tokenize:e};function e(n){const i=this,o=this.parser.constructs[t],r=n.attempt(o,l,u);return l;function l(f){return c(f)?r(f):u(f)}function u(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),d}function d(f){return c(f)?(n.exit("data"),r(f)):(n.consume(f),d)}function c(f){if(f===null)return!0;const p=o[f];let h=-1;if(p)for(;++h<p.length;){const m=p[h];if(!m.previous||m.previous.call(i,i.previous))return!0}return!1}}}function nl(t){return e;function e(n,i){let o=-1,r;for(;++o<=n.length;)r===void 0?n[o]&&n[o][1].type==="data"&&(r=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==r+2&&(n[r][1].end=n[o-1][1].end,n.splice(r+2,o-r-2),o=r+2),r=void 0);return t?t(n,i):n}}function _0(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],o=e.sliceStream(i);let r=o.length,l=-1,u=0,d;for(;r--;){const c=o[r];if(typeof c=="string"){for(l=c.length;c.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(c===-2)d=!0,u++;else if(c!==-1){r++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(u=0),u){const c={type:n===t.length||d||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:r?l:i.start._bufferIndex+l,_index:i.start._index+r,line:i.end.line,column:i.end.column-u,offset:i.end.offset-u},end:{...i.end}};i.end={...c.start},i.start.offset===i.end.offset?Object.assign(i,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const C0={42:se,43:se,45:se,48:se,49:se,50:se,51:se,52:se,53:se,54:se,55:se,56:se,57:se,62:Ys},S0={91:xy},I0={[-2]:ln,[-1]:ln,32:ln},A0={35:Dy,42:Dt,45:[vr,Dt],60:Fy,61:vr,95:Dt,96:gr,126:gr},w0={38:Xs,92:Ks},x0={[-5]:an,[-4]:an,[-3]:an,33:t0,38:Xs,42:Fn,60:[iy,$y],91:i0,92:[Py,Ks],93:ri,95:Fn,96:gy},k0={null:[Fn,v0]},R0={null:[42,95]},M0={null:[]},P0=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:R0,contentInitial:S0,disable:M0,document:C0,flow:A0,flowInitial:I0,insideSpan:k0,string:w0,text:x0},Symbol.toStringTag,{value:"Module"}));function N0(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},r=[];let l=[],u=[];const d={attempt:N(L),check:N(C),consume:A,enter:S,exit:x,interrupt:N(C,{interrupt:!0})},c={code:null,containerState:{},defineSkip:_,events:[],now:g,parser:t,previous:null,sliceSerialize:h,sliceStream:m,write:p};let f=e.tokenize.call(c,d);return e.resolveAll&&r.push(e),c;function p(D){return l=fe(l,D),T(),l[l.length-1]!==null?[]:(q(e,0),c.events=oi(r,c.events,c),c.events)}function h(D,b){return L0(m(D),b)}function m(D){return D0(l,D)}function g(){const{_bufferIndex:D,_index:b,line:G,column:F,offset:M}=i;return{_bufferIndex:D,_index:b,line:G,column:F,offset:M}}function _(D){o[D.line]=D.column,V()}function T(){let D;for(;i._index<l.length;){const b=l[i._index];if(typeof b=="string")for(D=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===D&&i._bufferIndex<b.length;)E(b.charCodeAt(i._bufferIndex));else E(b)}}function E(D){f=f(D)}function A(D){H(D)?(i.line++,i.column=1,i.offset+=D===-3?2:1,V()):D!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===l[i._index].length&&(i._bufferIndex=-1,i._index++)),c.previous=D}function S(D,b){const G=b||{};return G.type=D,G.start=g(),c.events.push(["enter",G,c]),u.push(G),G}function x(D){const b=u.pop();return b.end=g(),c.events.push(["exit",b,c]),b}function L(D,b){q(D,b.from)}function C(D,b){b.restore()}function N(D,b){return G;function G(F,M,J){let Z,me,Ae,y;return Array.isArray(F)?we(F):"tokenize"in F?we([F]):ge(F);function ge(te){return rt;function rt(Ne){const Be=Ne!==null&&te[Ne],ze=Ne!==null&&te.null,Ct=[...Array.isArray(Be)?Be:Be?[Be]:[],...Array.isArray(ze)?ze:ze?[ze]:[]];return we(Ct)(Ne)}}function we(te){return Z=te,me=0,te.length===0?J:v(te[me])}function v(te){return rt;function rt(Ne){return y=k(),Ae=te,te.partial||(c.currentConstruct=te),te.name&&c.parser.constructs.disable.null.includes(te.name)?Fe():te.tokenize.call(b?Object.assign(Object.create(c),b):c,d,ye,Fe)(Ne)}}function ye(te){return D(Ae,y),M}function Fe(te){return y.restore(),++me<Z.length?v(Z[me]):J}}}function q(D,b){D.resolveAll&&!r.includes(D)&&r.push(D),D.resolve&&Ie(c.events,b,c.events.length-b,D.resolve(c.events.slice(b),c)),D.resolveTo&&(c.events=D.resolveTo(c.events,c))}function k(){const D=g(),b=c.previous,G=c.currentConstruct,F=c.events.length,M=Array.from(u);return{from:F,restore:J};function J(){i=D,c.previous=b,c.currentConstruct=G,c.events.length=F,u=M,V()}}function V(){i.line in o&&i.column<2&&(i.column=o[i.line],i.offset+=o[i.line]-1)}}function D0(t,e){const n=e.start._index,i=e.start._bufferIndex,o=e.end._index,r=e.end._bufferIndex;let l;if(n===o)l=[t[n].slice(i,r)];else{if(l=t.slice(n,o),i>-1){const u=l[0];typeof u=="string"?l[0]=u.slice(i):l.shift()}r>0&&l.push(t[o].slice(0,r))}return l}function L0(t,e){let n=-1;const i=[];let o;for(;++n<t.length;){const r=t[n];let l;if(typeof r=="string")l=r;else switch(r){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&o)continue;l=" ";break}default:l=String.fromCharCode(r)}o=r===-2,i.push(l)}return i.join("")}function b0(t){const i={constructs:Bg([P0,...(t||{}).extensions||[]]),content:o(Xg),defined:[],document:o(Zg),flow:o(g0),lazy:{},string:o(T0),text:o(E0)};return i;function o(r){return l;function l(u){return N0(i,r,u)}}}function U0(t){for(;!Qs(t););return t}const Tr=/[\0\t\n\r]/g;function F0(){let t=1,e="",n=!0,i;return o;function o(r,l,u){const d=[];let c,f,p,h,m;for(r=e+(typeof r=="string"?r.toString():new TextDecoder(l||void 0).decode(r)),p=0,e="",n&&(r.charCodeAt(0)===65279&&p++,n=void 0);p<r.length;){if(Tr.lastIndex=p,c=Tr.exec(r),h=c&&c.index!==void 0?c.index:r.length,m=r.charCodeAt(h),!c){e=r.slice(p);break}if(m===10&&p===h&&i)d.push(-3),i=void 0;else switch(i&&(d.push(-5),i=void 0),p<h&&(d.push(r.slice(p,h)),t+=h-p),m){case 0:{d.push(65533),t++;break}case 9:{for(f=Math.ceil(t/4)*4,d.push(-2);t++<f;)d.push(-1);break}case 10:{d.push(-4),t=1;break}default:i=!0,t=1}p=h+1}return u&&(i&&d.push(-5),e&&d.push(e),d.push(null)),d}}const V0=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function G0(t){return t.replace(V0,q0)}function q0(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),r=o===120||o===88;return Ws(n.slice(r?2:1),r?16:10)}return ii(n)||t}const il={}.hasOwnProperty;function H0(t,e,n){return typeof e!="string"&&(n=e,e=void 0),B0(n)(U0(b0(n).document().write(F0()(t,e,!0))))}function B0(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:r(hi),autolinkProtocol:k,autolinkEmail:k,atxHeading:r(di),blockQuote:r(ze),characterEscape:k,characterReference:k,codeFenced:r(Ct),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:r(Ct,l),codeText:r(hl,l),codeTextData:k,data:k,codeFlowValue:k,definition:r(ml),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:r(gl),hardBreakEscape:r(fi),hardBreakTrailing:r(fi),htmlFlow:r(pi,l),htmlFlowData:k,htmlText:r(pi,l),htmlTextData:k,image:r(yl),label:l,link:r(hi),listItem:r(vl),listItemValue:h,listOrdered:r(mi,p),listUnordered:r(mi),paragraph:r(Tl),reference:v,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:r(di),strong:r(El),thematicBreak:r(Cl)},exit:{atxHeading:d(),atxHeadingSequence:L,autolink:d(),autolinkEmail:Be,autolinkProtocol:Ne,blockQuote:d(),characterEscapeValue:V,characterReferenceMarkerHexadecimal:Fe,characterReferenceMarkerNumeric:Fe,characterReferenceValue:te,characterReference:rt,codeFenced:d(T),codeFencedFence:_,codeFencedFenceInfo:m,codeFencedFenceMeta:g,codeFlowValue:V,codeIndented:d(E),codeText:d(M),codeTextData:V,data:V,definition:d(),definitionDestinationString:x,definitionLabelString:A,definitionTitleString:S,emphasis:d(),hardBreakEscape:d(b),hardBreakTrailing:d(b),htmlFlow:d(G),htmlFlowData:V,htmlText:d(F),htmlTextData:V,image:d(Z),label:Ae,labelText:me,lineEnding:D,link:d(J),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:ye,resourceDestinationString:y,resourceTitleString:ge,resource:we,setextHeading:d(q),setextHeadingLineSequence:N,setextHeadingText:C,strong:d(),thematicBreak:d()}};ol(e,(t||{}).mdastExtensions||[]);const n={};return i;function i(I){let R={type:"root",children:[]};const z={stack:[R],tokenStack:[],config:e,enter:u,exit:c,buffer:l,resume:f,data:n},O=[];let K=-1;for(;++K<I.length;)if(I[K][1].type==="listOrdered"||I[K][1].type==="listUnordered")if(I[K][0]==="enter")O.push(K);else{const ve=O.pop();K=o(I,ve,K)}for(K=-1;++K<I.length;){const ve=e[I[K][0]];il.call(ve,I[K][1].type)&&ve[I[K][1].type].call(Object.assign({sliceSerialize:I[K][2].sliceSerialize},z),I[K][1])}if(z.tokenStack.length>0){const ve=z.tokenStack[z.tokenStack.length-1];(ve[1]||Er).call(z,void 0,ve[0])}for(R.position={start:De(I.length>0?I[0][1].start:{line:1,column:1,offset:0}),end:De(I.length>0?I[I.length-2][1].end:{line:1,column:1,offset:0})},K=-1;++K<e.transforms.length;)R=e.transforms[K](R)||R;return R}function o(I,R,z){let O=R-1,K=-1,ve=!1,Ve,xe,st,lt;for(;++O<=z;){const ue=I[O];switch(ue[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ue[0]==="enter"?K++:K--,lt=void 0;break}case"lineEndingBlank":{ue[0]==="enter"&&(Ve&&!lt&&!K&&!st&&(st=O),lt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:lt=void 0}if(!K&&ue[0]==="enter"&&ue[1].type==="listItemPrefix"||K===-1&&ue[0]==="exit"&&(ue[1].type==="listUnordered"||ue[1].type==="listOrdered")){if(Ve){let $e=O;for(xe=void 0;$e--;){const ke=I[$e];if(ke[1].type==="lineEnding"||ke[1].type==="lineEndingBlank"){if(ke[0]==="exit")continue;xe&&(I[xe][1].type="lineEndingBlank",ve=!0),ke[1].type="lineEnding",xe=$e}else if(!(ke[1].type==="linePrefix"||ke[1].type==="blockQuotePrefix"||ke[1].type==="blockQuotePrefixWhitespace"||ke[1].type==="blockQuoteMarker"||ke[1].type==="listItemIndent"))break}st&&(!xe||st<xe)&&(Ve._spread=!0),Ve.end=Object.assign({},xe?I[xe][1].start:ue[1].end),I.splice(xe||O,0,["exit",Ve,ue[2]]),O++,z++}if(ue[1].type==="listItemPrefix"){const $e={type:"listItem",_spread:!1,start:Object.assign({},ue[1].start),end:void 0};Ve=$e,I.splice(O,0,["enter",$e,ue[2]]),O++,z++,st=void 0,lt=!0}}}return I[R][1]._spread=ve,z}function r(I,R){return z;function z(O){u.call(this,I(O),O),R&&R.call(this,O)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(I,R,z){this.stack[this.stack.length-1].children.push(I),this.stack.push(I),this.tokenStack.push([R,z||void 0]),I.position={start:De(R.start),end:void 0}}function d(I){return R;function R(z){I&&I.call(this,z),c.call(this,z)}}function c(I,R){const z=this.stack.pop(),O=this.tokenStack.pop();if(O)O[0].type!==I.type&&(R?R.call(this,I,O[0]):(O[1]||Er).call(this,I,O[0]));else throw new Error("Cannot close `"+I.type+"` ("+gt({start:I.start,end:I.end})+"): its not open");z.position.end=De(I.end)}function f(){return qg(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function h(I){if(this.data.expectingFirstListItemValue){const R=this.stack[this.stack.length-2];R.start=Number.parseInt(this.sliceSerialize(I),10),this.data.expectingFirstListItemValue=void 0}}function m(){const I=this.resume(),R=this.stack[this.stack.length-1];R.lang=I}function g(){const I=this.resume(),R=this.stack[this.stack.length-1];R.meta=I}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function T(){const I=this.resume(),R=this.stack[this.stack.length-1];R.value=I.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const I=this.resume(),R=this.stack[this.stack.length-1];R.value=I.replace(/(\r?\n|\r)$/g,"")}function A(I){const R=this.resume(),z=this.stack[this.stack.length-1];z.label=R,z.identifier=je(this.sliceSerialize(I)).toLowerCase()}function S(){const I=this.resume(),R=this.stack[this.stack.length-1];R.title=I}function x(){const I=this.resume(),R=this.stack[this.stack.length-1];R.url=I}function L(I){const R=this.stack[this.stack.length-1];if(!R.depth){const z=this.sliceSerialize(I).length;R.depth=z}}function C(){this.data.setextHeadingSlurpLineEnding=!0}function N(I){const R=this.stack[this.stack.length-1];R.depth=this.sliceSerialize(I).codePointAt(0)===61?1:2}function q(){this.data.setextHeadingSlurpLineEnding=void 0}function k(I){const z=this.stack[this.stack.length-1].children;let O=z[z.length-1];(!O||O.type!=="text")&&(O=_l(),O.position={start:De(I.start),end:void 0},z.push(O)),this.stack.push(O)}function V(I){const R=this.stack.pop();R.value+=this.sliceSerialize(I),R.position.end=De(I.end)}function D(I){const R=this.stack[this.stack.length-1];if(this.data.atHardBreak){const z=R.children[R.children.length-1];z.position.end=De(I.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(R.type)&&(k.call(this,I),V.call(this,I))}function b(){this.data.atHardBreak=!0}function G(){const I=this.resume(),R=this.stack[this.stack.length-1];R.value=I}function F(){const I=this.resume(),R=this.stack[this.stack.length-1];R.value=I}function M(){const I=this.resume(),R=this.stack[this.stack.length-1];R.value=I}function J(){const I=this.stack[this.stack.length-1];if(this.data.inReference){const R=this.data.referenceType||"shortcut";I.type+="Reference",I.referenceType=R,delete I.url,delete I.title}else delete I.identifier,delete I.label;this.data.referenceType=void 0}function Z(){const I=this.stack[this.stack.length-1];if(this.data.inReference){const R=this.data.referenceType||"shortcut";I.type+="Reference",I.referenceType=R,delete I.url,delete I.title}else delete I.identifier,delete I.label;this.data.referenceType=void 0}function me(I){const R=this.sliceSerialize(I),z=this.stack[this.stack.length-2];z.label=G0(R),z.identifier=je(R).toLowerCase()}function Ae(){const I=this.stack[this.stack.length-1],R=this.resume(),z=this.stack[this.stack.length-1];if(this.data.inReference=!0,z.type==="link"){const O=I.children;z.children=O}else z.alt=R}function y(){const I=this.resume(),R=this.stack[this.stack.length-1];R.url=I}function ge(){const I=this.resume(),R=this.stack[this.stack.length-1];R.title=I}function we(){this.data.inReference=void 0}function v(){this.data.referenceType="collapsed"}function ye(I){const R=this.resume(),z=this.stack[this.stack.length-1];z.label=R,z.identifier=je(this.sliceSerialize(I)).toLowerCase(),this.data.referenceType="full"}function Fe(I){this.data.characterReferenceType=I.type}function te(I){const R=this.sliceSerialize(I),z=this.data.characterReferenceType;let O;z?(O=Ws(R,z==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):O=ii(R);const K=this.stack[this.stack.length-1];K.value+=O}function rt(I){const R=this.stack.pop();R.position.end=De(I.end)}function Ne(I){V.call(this,I);const R=this.stack[this.stack.length-1];R.url=this.sliceSerialize(I)}function Be(I){V.call(this,I);const R=this.stack[this.stack.length-1];R.url="mailto:"+this.sliceSerialize(I)}function ze(){return{type:"blockquote",children:[]}}function Ct(){return{type:"code",lang:null,meta:null,value:""}}function hl(){return{type:"inlineCode",value:""}}function ml(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function gl(){return{type:"emphasis",children:[]}}function di(){return{type:"heading",depth:0,children:[]}}function fi(){return{type:"break"}}function pi(){return{type:"html",value:""}}function yl(){return{type:"image",title:null,url:"",alt:null}}function hi(){return{type:"link",title:null,url:"",children:[]}}function mi(I){return{type:"list",ordered:I.type==="listOrdered",start:null,spread:I._spread,children:[]}}function vl(I){return{type:"listItem",spread:I._spread,checked:null,children:[]}}function Tl(){return{type:"paragraph",children:[]}}function El(){return{type:"strong",children:[]}}function _l(){return{type:"text",value:""}}function Cl(){return{type:"thematicBreak"}}}function De(t){return{line:t.line,column:t.column,offset:t.offset}}function ol(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?ol(t,i):z0(t,i)}}function z0(t,e){let n;for(n in e)if(il.call(e,n))switch(n){case"canContainEols":{const i=e[n];i&&t[n].push(...i);break}case"transforms":{const i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{const i=e[n];i&&Object.assign(t[n],i);break}}}function Er(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+gt({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+gt({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+gt({start:e.start,end:e.end})+") is still open")}function $0(t){const e=this;e.parser=n;function n(i){return H0(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function J0(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function O0(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function W0(t,e){const n=e.value?e.value+`
`:"",i={},o=e.lang?e.lang.split(/\s+/):[];o.length>0&&(i.className=["language-"+o[0]]);let r={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(r.data={meta:e.meta}),t.patch(e,r),r=t.applyData(e,r),r={type:"element",tagName:"pre",properties:{},children:[r]},t.patch(e,r),r}function Y0(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function K0(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function X0(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),o=ot(i.toLowerCase()),r=t.footnoteOrder.indexOf(i);let l,u=t.footnoteCounts.get(i);u===void 0?(u=0,t.footnoteOrder.push(i),l=t.footnoteOrder.length):l=r+1,u+=1,t.footnoteCounts.set(i,u);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};t.patch(e,d);const c={type:"element",tagName:"sup",properties:{},children:[d]};return t.patch(e,c),t.applyData(e,c)}function Q0(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Z0(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function rl(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const o=t.all(e),r=o[0];r&&r.type==="text"?r.value="["+r.value:o.unshift({type:"text",value:"["});const l=o[o.length-1];return l&&l.type==="text"?l.value+=i:o.push({type:"text",value:i}),o}function j0(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return rl(t,e);const o={src:ot(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(o.title=i.title);const r={type:"element",tagName:"img",properties:o,children:[]};return t.patch(e,r),t.applyData(e,r)}function ev(t,e){const n={src:ot(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,i),t.applyData(e,i)}function tv(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,i),t.applyData(e,i)}function nv(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return rl(t,e);const o={href:ot(i.url||"")};i.title!==null&&i.title!==void 0&&(o.title=i.title);const r={type:"element",tagName:"a",properties:o,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function iv(t,e){const n={href:ot(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function ov(t,e,n){const i=t.all(e),o=n?rv(n):sl(e),r={},l=[];if(typeof e.checked=="boolean"){const f=i[0];let p;f&&f.type==="element"&&f.tagName==="p"?p=f:(p={type:"element",tagName:"p",properties:{},children:[]},i.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),r.className=["task-list-item"]}let u=-1;for(;++u<i.length;){const f=i[u];(o||u!==0||f.type!=="element"||f.tagName!=="p")&&l.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!o?l.push(...f.children):l.push(f)}const d=i[i.length-1];d&&(o||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:r,children:l};return t.patch(e,c),t.applyData(e,c)}function rv(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=sl(n[i])}return e}function sl(t){const e=t.spread;return e??t.children.length>1}function sv(t,e){const n={},i=t.all(e);let o=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++o<i.length;){const l=i[o];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const r={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(i,!0)};return t.patch(e,r),t.applyData(e,r)}function lv(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function av(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function uv(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function cv(t,e){const n=t.all(e),i=n.shift(),o=[];if(i){const l={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(e.children[0],l),o.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},u=jn(e.children[1]),d=qs(e.children[e.children.length-1]);u&&d&&(l.position={start:u,end:d}),o.push(l)}const r={type:"element",tagName:"table",properties:{},children:t.wrap(o,!0)};return t.patch(e,r),t.applyData(e,r)}function dv(t,e,n){const i=n?n.children:void 0,r=(i?i.indexOf(e):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,u=l?l.length:e.children.length;let d=-1;const c=[];for(;++d<u;){const p=e.children[d],h={},m=l?l[d]:void 0;m&&(h.align=m);let g={type:"element",tagName:r,properties:h,children:[]};p&&(g.children=t.all(p),t.patch(p,g),g=t.applyData(p,g)),c.push(g)}const f={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,f),t.applyData(e,f)}function fv(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const _r=9,Cr=32;function pv(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),o=0;const r=[];for(;i;)r.push(Sr(e.slice(o,i.index),o>0,!0),i[0]),o=i.index+i[0].length,i=n.exec(e);return r.push(Sr(e.slice(o),o>0,!1)),r.join("")}function Sr(t,e,n){let i=0,o=t.length;if(e){let r=t.codePointAt(i);for(;r===_r||r===Cr;)i++,r=t.codePointAt(i)}if(n){let r=t.codePointAt(o-1);for(;r===_r||r===Cr;)o--,r=t.codePointAt(o-1)}return o>i?t.slice(i,o):""}function hv(t,e){const n={type:"text",value:pv(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function mv(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const gv={blockquote:J0,break:O0,code:W0,delete:Y0,emphasis:K0,footnoteReference:X0,heading:Q0,html:Z0,imageReference:j0,image:ev,inlineCode:tv,linkReference:nv,link:iv,listItem:ov,list:sv,paragraph:lv,root:av,strong:uv,table:cv,tableCell:fv,tableRow:dv,text:hv,thematicBreak:mv,toml:kt,yaml:kt,definition:kt,footnoteDefinition:kt};function kt(){}const ll=-1,Xt=0,vt=1,qt=2,si=3,li=4,ai=5,ui=6,al=7,ul=8,Ir=typeof self=="object"?self:globalThis,yv=(t,e)=>{const n=(o,r)=>(t.set(r,o),o),i=o=>{if(t.has(o))return t.get(o);const[r,l]=e[o];switch(r){case Xt:case ll:return n(l,o);case vt:{const u=n([],o);for(const d of l)u.push(i(d));return u}case qt:{const u=n({},o);for(const[d,c]of l)u[i(d)]=i(c);return u}case si:return n(new Date(l),o);case li:{const{source:u,flags:d}=l;return n(new RegExp(u,d),o)}case ai:{const u=n(new Map,o);for(const[d,c]of l)u.set(i(d),i(c));return u}case ui:{const u=n(new Set,o);for(const d of l)u.add(i(d));return u}case al:{const{name:u,message:d}=l;return n(new Ir[u](d),o)}case ul:return n(BigInt(l),o);case"BigInt":return n(Object(BigInt(l)),o);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:u}=new Uint8Array(l);return n(new DataView(u),l)}}return n(new Ir[r](l),o)};return i},Ar=t=>yv(new Map,t)(0),Oe="",{toString:vv}={},{keys:Tv}=Object,pt=t=>{const e=typeof t;if(e!=="object"||!t)return[Xt,e];const n=vv.call(t).slice(8,-1);switch(n){case"Array":return[vt,Oe];case"Object":return[qt,Oe];case"Date":return[si,Oe];case"RegExp":return[li,Oe];case"Map":return[ai,Oe];case"Set":return[ui,Oe];case"DataView":return[vt,n]}return n.includes("Array")?[vt,n]:n.includes("Error")?[al,n]:[qt,n]},Rt=([t,e])=>t===Xt&&(e==="function"||e==="symbol"),Ev=(t,e,n,i)=>{const o=(l,u)=>{const d=i.push(l)-1;return n.set(u,d),d},r=l=>{if(n.has(l))return n.get(l);let[u,d]=pt(l);switch(u){case Xt:{let f=l;switch(d){case"bigint":u=ul,f=l.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+d);f=null;break;case"undefined":return o([ll],l)}return o([u,f],l)}case vt:{if(d){let h=l;return d==="DataView"?h=new Uint8Array(l.buffer):d==="ArrayBuffer"&&(h=new Uint8Array(l)),o([d,[...h]],l)}const f=[],p=o([u,f],l);for(const h of l)f.push(r(h));return p}case qt:{if(d)switch(d){case"BigInt":return o([d,l.toString()],l);case"Boolean":case"Number":case"String":return o([d,l.valueOf()],l)}if(e&&"toJSON"in l)return r(l.toJSON());const f=[],p=o([u,f],l);for(const h of Tv(l))(t||!Rt(pt(l[h])))&&f.push([r(h),r(l[h])]);return p}case si:return o([u,l.toISOString()],l);case li:{const{source:f,flags:p}=l;return o([u,{source:f,flags:p}],l)}case ai:{const f=[],p=o([u,f],l);for(const[h,m]of l)(t||!(Rt(pt(h))||Rt(pt(m))))&&f.push([r(h),r(m)]);return p}case ui:{const f=[],p=o([u,f],l);for(const h of l)(t||!Rt(pt(h)))&&f.push(r(h));return p}}const{message:c}=l;return o([u,{name:d,message:c}],l)};return r},wr=(t,{json:e,lossy:n}={})=>{const i=[];return Ev(!(e||n),!!e,new Map,i)(t),i},Ht=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Ar(wr(t,e)):structuredClone(t):(t,e)=>Ar(wr(t,e));function _v(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Cv(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Sv(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||_v,i=t.options.footnoteBackLabel||Cv,o=t.options.footnoteLabel||"Footnotes",r=t.options.footnoteLabelTagName||"h2",l=t.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let d=-1;for(;++d<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[d]);if(!c)continue;const f=t.all(c),p=String(c.identifier).toUpperCase(),h=ot(p.toLowerCase());let m=0;const g=[],_=t.footnoteCounts.get(p);for(;_!==void 0&&++m<=_;){g.length>0&&g.push({type:"text",value:" "});let A=typeof n=="string"?n:n(d,m);typeof A=="string"&&(A={type:"text",value:A}),g.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+h+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(d,m),className:["data-footnote-backref"]},children:Array.isArray(A)?A:[A]})}const T=f[f.length-1];if(T&&T.type==="element"&&T.tagName==="p"){const A=T.children[T.children.length-1];A&&A.type==="text"?A.value+=" ":T.children.push({type:"text",value:" "}),T.children.push(...g)}else f.push(...g);const E={type:"element",tagName:"li",properties:{id:e+"fn-"+h},children:t.wrap(f,!0)};t.patch(c,E),u.push(E)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:r,properties:{...Ht(l),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(u,!0)},{type:"text",value:`
`}]}}const cl=(function(t){if(t==null)return xv;if(typeof t=="function")return Qt(t);if(typeof t=="object")return Array.isArray(t)?Iv(t):Av(t);if(typeof t=="string")return wv(t);throw new Error("Expected function, string, or object as test")});function Iv(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=cl(t[n]);return Qt(i);function i(...o){let r=-1;for(;++r<e.length;)if(e[r].apply(this,o))return!0;return!1}}function Av(t){const e=t;return Qt(n);function n(i){const o=i;let r;for(r in t)if(o[r]!==e[r])return!1;return!0}}function wv(t){return Qt(e);function e(n){return n&&n.type===t}}function Qt(t){return e;function e(n,i,o){return!!(kv(n)&&t.call(this,n,typeof i=="number"?i:void 0,o||void 0))}}function xv(){return!0}function kv(t){return t!==null&&typeof t=="object"&&"type"in t}const dl=[],Rv=!0,xr=!1,Mv="skip";function Pv(t,e,n,i){let o;typeof e=="function"&&typeof n!="function"?(i=n,n=e):o=e;const r=cl(o),l=i?-1:1;u(t,void 0,[])();function u(d,c,f){const p=d&&typeof d=="object"?d:{};if(typeof p.type=="string"){const m=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(d.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=dl,g,_,T;if((!e||r(d,c,f[f.length-1]||void 0))&&(m=Nv(n(d,f)),m[0]===xr))return m;if("children"in d&&d.children){const E=d;if(E.children&&m[0]!==Mv)for(_=(i?E.children.length:-1)+l,T=f.concat(E);_>-1&&_<E.children.length;){const A=E.children[_];if(g=u(A,_,T)(),g[0]===xr)return g;_=typeof g[1]=="number"?g[1]:_+l}}return m}}}function Nv(t){return Array.isArray(t)?t:typeof t=="number"?[Rv,t]:t==null?dl:[t]}function fl(t,e,n,i){let o,r,l;typeof e=="function"&&typeof n!="function"?(r=void 0,l=e,o=n):(r=e,l=n,o=i),Pv(t,r,u,o);function u(d,c){const f=c[c.length-1],p=f?f.children.indexOf(d):void 0;return l(d,p,f)}}const Vn={}.hasOwnProperty,Dv={};function Lv(t,e){const n=e||Dv,i=new Map,o=new Map,r=new Map,l={...gv,...n.handlers},u={all:c,applyData:Uv,definitionById:i,footnoteById:o,footnoteCounts:r,footnoteOrder:[],handlers:l,one:d,options:n,patch:bv,wrap:Vv};return fl(t,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const p=f.type==="definition"?i:o,h=String(f.identifier).toUpperCase();p.has(h)||p.set(h,f)}}),u;function d(f,p){const h=f.type,m=u.handlers[h];if(Vn.call(u.handlers,h)&&m)return m(u,f,p);if(u.options.passThrough&&u.options.passThrough.includes(h)){if("children"in f){const{children:_,...T}=f,E=Ht(T);return E.children=u.all(f),E}return Ht(f)}return(u.options.unknownHandler||Fv)(u,f,p)}function c(f){const p=[];if("children"in f){const h=f.children;let m=-1;for(;++m<h.length;){const g=u.one(h[m],f);if(g){if(m&&h[m-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=kr(g.value)),!Array.isArray(g)&&g.type==="element")){const _=g.children[0];_&&_.type==="text"&&(_.value=kr(_.value))}Array.isArray(g)?p.push(...g):p.push(g)}}}return p}}function bv(t,e){t.position&&(e.position=vg(t))}function Uv(t,e){let n=e;if(t&&t.data){const i=t.data.hName,o=t.data.hChildren,r=t.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const l="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:l}}n.type==="element"&&r&&Object.assign(n.properties,Ht(r)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function Fv(t,e){const n=e.data||{},i="value"in e&&!(Vn.call(n,"hProperties")||Vn.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function Vv(t,e){const n=[];let i=-1;for(e&&n.push({type:"text",value:`
`});++i<t.length;)i&&n.push({type:"text",value:`
`}),n.push(t[i]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function kr(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function Rr(t,e){const n=Lv(t,e),i=n.one(t,void 0),o=Sv(n),r=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return o&&r.children.push({type:"text",value:`
`},o),r}function Gv(t,e){return t&&"run"in t?async function(n,i){const o=Rr(n,{file:i,...e});await t.run(o,i)}:function(n,i){return Rr(n,{file:i,...t||e})}}function Mr(t){if(t)throw t}var un,Pr;function qv(){if(Pr)return un;Pr=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=function(c){return typeof Array.isArray=="function"?Array.isArray(c):e.call(c)==="[object Array]"},r=function(c){if(!c||e.call(c)!=="[object Object]")return!1;var f=t.call(c,"constructor"),p=c.constructor&&c.constructor.prototype&&t.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!f&&!p)return!1;var h;for(h in c);return typeof h>"u"||t.call(c,h)},l=function(c,f){n&&f.name==="__proto__"?n(c,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):c[f.name]=f.newValue},u=function(c,f){if(f==="__proto__")if(t.call(c,f)){if(i)return i(c,f).value}else return;return c[f]};return un=function d(){var c,f,p,h,m,g,_=arguments[0],T=1,E=arguments.length,A=!1;for(typeof _=="boolean"&&(A=_,_=arguments[1]||{},T=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});T<E;++T)if(c=arguments[T],c!=null)for(f in c)p=u(_,f),h=u(c,f),_!==h&&(A&&h&&(r(h)||(m=o(h)))?(m?(m=!1,g=p&&o(p)?p:[]):g=p&&r(p)?p:{},l(_,{name:f,newValue:d(A,g,h)})):typeof h<"u"&&l(_,{name:f,newValue:h}));return _},un}var Hv=qv();const cn=Fr(Hv);function Gn(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Bv(){const t=[],e={run:n,use:i};return e;function n(...o){let r=-1;const l=o.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...o);function u(d,...c){const f=t[++r];let p=-1;if(d){l(d);return}for(;++p<o.length;)(c[p]===null||c[p]===void 0)&&(c[p]=o[p]);o=c,f?zv(f,u)(...c):l(null,...c)}}function i(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return t.push(o),e}}function zv(t,e){let n;return i;function i(...l){const u=t.length>l.length;let d;u&&l.push(o);try{d=t.apply(this,l)}catch(c){const f=c;if(u&&n)throw f;return o(f)}u||(d&&d.then&&typeof d.then=="function"?d.then(r,o):d instanceof Error?o(d):r(d))}function o(l,...u){n||(n=!0,e(l,...u))}function r(l){o(null,l)}}const Ce={basename:$v,dirname:Jv,extname:Ov,join:Wv,sep:"/"};function $v(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');_t(t);let n=0,i=-1,o=t.length,r;if(e===void 0||e.length===0||e.length>t.length){for(;o--;)if(t.codePointAt(o)===47){if(r){n=o+1;break}}else i<0&&(r=!0,i=o+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let l=-1,u=e.length-1;for(;o--;)if(t.codePointAt(o)===47){if(r){n=o+1;break}}else l<0&&(r=!0,l=o+1),u>-1&&(t.codePointAt(o)===e.codePointAt(u--)?u<0&&(i=o):(u=-1,i=l));return n===i?i=l:i<0&&(i=t.length),t.slice(n,i)}function Jv(t){if(_t(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.codePointAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Ov(t){_t(t);let e=t.length,n=-1,i=0,o=-1,r=0,l;for(;e--;){const u=t.codePointAt(e);if(u===47){if(l){i=e+1;break}continue}n<0&&(l=!0,n=e+1),u===46?o<0?o=e:r!==1&&(r=1):o>-1&&(r=-1)}return o<0||n<0||r===0||r===1&&o===n-1&&o===i+1?"":t.slice(o,n)}function Wv(...t){let e=-1,n;for(;++e<t.length;)_t(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Yv(n)}function Yv(t){_t(t);const e=t.codePointAt(0)===47;let n=Kv(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Kv(t,e){let n="",i=0,o=-1,r=0,l=-1,u,d;for(;++l<=t.length;){if(l<t.length)u=t.codePointAt(l);else{if(u===47)break;u=47}if(u===47){if(!(o===l-1||r===1))if(o!==l-1&&r===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",i=0):(n=n.slice(0,d),i=n.length-1-n.lastIndexOf("/")),o=l,r=0;continue}}else if(n.length>0){n="",i=0,o=l,r=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(o+1,l):n=t.slice(o+1,l),i=l-o-1;o=l,r=0}else u===46&&r>-1?r++:r=-1}return n}function _t(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Xv={cwd:Qv};function Qv(){return"/"}function qn(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Zv(t){if(typeof t=="string")t=new URL(t);else if(!qn(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return jv(t)}function jv(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const i=e.codePointAt(n+2);if(i===70||i===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(e)}const dn=["history","path","basename","stem","extname","dirname"];class pl{constructor(e){let n;e?qn(e)?n={path:e}:typeof e=="string"||eT(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Xv.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<dn.length;){const r=dn[i];r in n&&n[r]!==void 0&&n[r]!==null&&(this[r]=r==="history"?[...n[r]]:n[r])}let o;for(o in n)dn.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?Ce.basename(this.path):void 0}set basename(e){pn(e,"basename"),fn(e,"basename"),this.path=Ce.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Ce.dirname(this.path):void 0}set dirname(e){Nr(this.basename,"dirname"),this.path=Ce.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Ce.extname(this.path):void 0}set extname(e){if(fn(e,"extname"),Nr(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ce.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){qn(e)&&(e=Zv(e)),pn(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Ce.basename(this.path,this.extname):void 0}set stem(e){pn(e,"stem"),fn(e,"stem"),this.path=Ce.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){const o=this.message(e,n,i);throw o.fatal=!0,o}info(e,n,i){const o=this.message(e,n,i);return o.fatal=void 0,o}message(e,n,i){const o=new ie(e,n,i);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function fn(t,e){if(t&&t.includes(Ce.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Ce.sep+"`")}function pn(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Nr(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function eT(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const tT=(function(t){const i=this.constructor.prototype,o=i[t],r=function(){return o.apply(r,arguments)};return Object.setPrototypeOf(r,i),r}),nT={}.hasOwnProperty;class ci extends tT{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Bv()}copy(){const e=new ci;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];e.use(...i)}return e.data(cn(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(gn("data",this.frozen),this.namespace[e]=n,this):nT.call(this.namespace,e)&&this.namespace[e]||void 0:e?(gn("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const o=n.call(e,...i);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Mt(e),i=this.parser||this.Parser;return hn("parse",i),i(String(n),n)}process(e,n){const i=this;return this.freeze(),hn("process",this.parser||this.Parser),mn("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(r,l){const u=Mt(e),d=i.parse(u);i.run(d,u,function(f,p,h){if(f||!p||!h)return c(f);const m=p,g=i.stringify(m,h);rT(g)?h.value=g:h.result=g,c(f,h)});function c(f,p){f||!p?l(f):r?r(p):n(void 0,p)}}}processSync(e){let n=!1,i;return this.freeze(),hn("processSync",this.parser||this.Parser),mn("processSync",this.compiler||this.Compiler),this.process(e,o),Lr("processSync","process",n),i;function o(r,l){n=!0,Mr(r),i=l}}run(e,n,i){Dr(e),this.freeze();const o=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?r(void 0,i):new Promise(r);function r(l,u){const d=Mt(n);o.run(e,d,c);function c(f,p,h){const m=p||e;f?u(f):l?l(m):i(void 0,m,h)}}}runSync(e,n){let i=!1,o;return this.run(e,n,r),Lr("runSync","run",i),o;function r(l,u){Mr(l),o=u,i=!0}}stringify(e,n){this.freeze();const i=Mt(n),o=this.compiler||this.Compiler;return mn("stringify",o),Dr(e),o(e,i)}use(e,...n){const i=this.attachers,o=this.namespace;if(gn("use",this.frozen),e!=null)if(typeof e=="function")d(e,n);else if(typeof e=="object")Array.isArray(e)?u(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function r(c){if(typeof c=="function")d(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[f,...p]=c;d(f,p)}else l(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function l(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(c.plugins),c.settings&&(o.settings=cn(!0,o.settings,c.settings))}function u(c){let f=-1;if(c!=null)if(Array.isArray(c))for(;++f<c.length;){const p=c[f];r(p)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function d(c,f){let p=-1,h=-1;for(;++p<i.length;)if(i[p][0]===c){h=p;break}if(h===-1)i.push([c,...f]);else if(f.length>0){let[m,...g]=f;const _=i[h][1];Gn(_)&&Gn(m)&&(m=cn(!0,_,m)),i[h]=[c,m,...g]}}}}const iT=new ci().freeze();function hn(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function mn(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function gn(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Dr(t){if(!Gn(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Lr(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Mt(t){return oT(t)?t:new pl(t)}function oT(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function rT(t){return typeof t=="string"||sT(t)}function sT(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const lT="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",br=[],Ur={allowDangerousHtml:!0},aT=/^(https?|ircs?|mailto|xmpp)$/i,uT=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function AE(t){const e=cT(t),n=dT(t);return fT(e.runSync(e.parse(n),n),t)}function cT(t){const e=t.rehypePlugins||br,n=t.remarkPlugins||br,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Ur}:Ur;return iT().use($0).use(n).use(Gv,i).use(e)}function dT(t){const e=t.children||"",n=new pl;return typeof e=="string"&&(n.value=e),n}function fT(t,e){const n=e.allowedElements,i=e.allowElement,o=e.components,r=e.disallowedElements,l=e.skipHtml,u=e.unwrapDisallowed,d=e.urlTransform||pT;for(const f of uT)Object.hasOwn(e,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+lT+f.id,void 0);return fl(t,c),Sg(t,{Fragment:jt.Fragment,components:o,ignoreInvalidStyle:!0,jsx:jt.jsx,jsxs:jt.jsxs,passKeys:!0,passNode:!0});function c(f,p,h){if(f.type==="raw"&&h&&typeof p=="number")return l?h.children.splice(p,1):h.children[p]={type:"text",value:f.value},p;if(f.type==="element"){let m;for(m in sn)if(Object.hasOwn(sn,m)&&Object.hasOwn(f.properties,m)){const g=f.properties[m],_=sn[m];(_===null||_.includes(f.tagName))&&(f.properties[m]=d(String(g||""),m,f))}}if(f.type==="element"){let m=n?!n.includes(f.tagName):r?r.includes(f.tagName):!1;if(!m&&i&&typeof p=="number"&&(m=!i(f,p,h)),m&&h&&typeof p=="number")return u&&f.children?h.children.splice(p,1,...f.children):h.children.splice(p,1),p}}}function pT(t){const e=t.indexOf(":"),n=t.indexOf("?"),i=t.indexOf("#"),o=t.indexOf("/");return e===-1||o!==-1&&e>o||n!==-1&&e>n||i!==-1&&e>i||aT.test(t.slice(0,e))?t:""}export{GT as $,gT as A,TT as B,AT as C,DT as D,FT as E,qT as F,zT as G,LT as H,kT as I,$T as J,JT as K,WT as L,YT as M,IT as N,_E as O,KT as P,_T as Q,eE as R,lE as S,gE as T,vE as U,pE as V,PT as W,SE as X,xT as Y,ET as Z,XT as _,sE as a,ZT as a0,AE as a1,IE as a2,UT as a3,QT as a4,EE as a5,dE as a6,fE as a7,TE as a8,VT as a9,rE as aa,MT as b,tE as c,nE as d,wT as e,aE as f,bT as g,OT as h,HT as i,jt as j,CE as k,yE as l,mE as m,oE as n,BT as o,cE as p,uE as q,RT as r,CT as s,iE as t,NT as u,ST as v,jT as w,hE as x,vT as y,yT as z};
